(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=e(a);fetch(a.href,u)}})();var km={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function BC(){if(Z0)return Jl;Z0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var d in a)d!=="key"&&(u[d]=a[d])}else u=a;return a=u.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:u}}return Jl.Fragment=t,Jl.jsx=e,Jl.jsxs=e,Jl}var J0;function zC(){return J0||(J0=1,km.exports=BC()),km.exports}var st=zC(),Lm={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function jC(){if(tT)return It;tT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,q={};function U(M,nt,lt){this.props=M,this.context=nt,this.refs=q,this.updater=lt||C}U.prototype.isReactComponent={},U.prototype.setState=function(M,nt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,nt,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function X(){}X.prototype=U.prototype;function J(M,nt,lt){this.props=M,this.context=nt,this.refs=q,this.updater=lt||C}var Y=J.prototype=new X;Y.constructor=J,k(Y,U.prototype),Y.isPureReactComponent=!0;var rt=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function V(M,nt,lt,at,yt,Mt){return lt=Mt.ref,{$$typeof:n,type:M,key:nt,ref:lt!==void 0?lt:null,props:Mt}}function w(M,nt){return V(M.type,nt,void 0,void 0,void 0,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function O(M){var nt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(lt){return nt[lt]})}var P=/\/+/g;function x(M,nt){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):nt.toString(36)}function R(){}function St(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(R,R):(M.status="pending",M.then(function(nt){M.status==="pending"&&(M.status="fulfilled",M.value=nt)},function(nt){M.status==="pending"&&(M.status="rejected",M.reason=nt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ut(M,nt,lt,at,yt){var Mt=typeof M;(Mt==="undefined"||Mt==="boolean")&&(M=null);var wt=!1;if(M===null)wt=!0;else switch(Mt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(M.$$typeof){case n:case t:wt=!0;break;case v:return wt=M._init,Ut(wt(M._payload),nt,lt,at,yt)}}if(wt)return yt=yt(M),wt=at===""?"."+x(M,0):at,rt(yt)?(lt="",wt!=null&&(lt=wt.replace(P,"$&/")+"/"),Ut(yt,nt,lt,"",function(ei){return ei})):yt!=null&&(I(yt)&&(yt=w(yt,lt+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(P,"$&/")+"/")+wt)),nt.push(yt)),1;wt=0;var Oe=at===""?".":at+":";if(rt(M))for(var ee=0;ee<M.length;ee++)at=M[ee],Mt=Oe+x(at,ee),wt+=Ut(at,nt,lt,Mt,yt);else if(ee=A(M),typeof ee=="function")for(M=ee.call(M),ee=0;!(at=M.next()).done;)at=at.value,Mt=Oe+x(at,ee++),wt+=Ut(at,nt,lt,Mt,yt);else if(Mt==="object"){if(typeof M.then=="function")return Ut(St(M),nt,lt,at,yt);throw nt=String(M),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function K(M,nt,lt){if(M==null)return M;var at=[],yt=0;return Ut(M,at,"","",function(Mt){return nt.call(lt,Mt,yt++)}),at}function it(M){if(M._status===-1){var nt=M._result;nt=nt(),nt.then(function(lt){(M._status===0||M._status===-1)&&(M._status=1,M._result=lt)},function(lt){(M._status===0||M._status===-1)&&(M._status=2,M._result=lt)}),M._status===-1&&(M._status=0,M._result=nt)}if(M._status===1)return M._result.default;throw M._result}var ct=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Dt(){}return It.Children={map:K,forEach:function(M,nt,lt){K(M,function(){nt.apply(this,arguments)},lt)},count:function(M){var nt=0;return K(M,function(){nt++}),nt},toArray:function(M){return K(M,function(nt){return nt})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},It.Component=U,It.Fragment=e,It.Profiler=a,It.PureComponent=J,It.StrictMode=s,It.Suspense=m,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,It.__COMPILER_RUNTIME={__proto__:null,c:function(M){return et.H.useMemoCache(M)}},It.cache=function(M){return function(){return M.apply(null,arguments)}},It.cloneElement=function(M,nt,lt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=k({},M.props),yt=M.key,Mt=void 0;if(nt!=null)for(wt in nt.ref!==void 0&&(Mt=void 0),nt.key!==void 0&&(yt=""+nt.key),nt)!ht.call(nt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&nt.ref===void 0||(at[wt]=nt[wt]);var wt=arguments.length-2;if(wt===1)at.children=lt;else if(1<wt){for(var Oe=Array(wt),ee=0;ee<wt;ee++)Oe[ee]=arguments[ee+2];at.children=Oe}return V(M.type,yt,void 0,void 0,Mt,at)},It.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},It.createElement=function(M,nt,lt){var at,yt={},Mt=null;if(nt!=null)for(at in nt.key!==void 0&&(Mt=""+nt.key),nt)ht.call(nt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=nt[at]);var wt=arguments.length-2;if(wt===1)yt.children=lt;else if(1<wt){for(var Oe=Array(wt),ee=0;ee<wt;ee++)Oe[ee]=arguments[ee+2];yt.children=Oe}if(M&&M.defaultProps)for(at in wt=M.defaultProps,wt)yt[at]===void 0&&(yt[at]=wt[at]);return V(M,Mt,void 0,void 0,null,yt)},It.createRef=function(){return{current:null}},It.forwardRef=function(M){return{$$typeof:d,render:M}},It.isValidElement=I,It.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:it}},It.memo=function(M,nt){return{$$typeof:g,type:M,compare:nt===void 0?null:nt}},It.startTransition=function(M){var nt=et.T,lt={};et.T=lt;try{var at=M(),yt=et.S;yt!==null&&yt(lt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Dt,ct)}catch(Mt){ct(Mt)}finally{et.T=nt}},It.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},It.use=function(M){return et.H.use(M)},It.useActionState=function(M,nt,lt){return et.H.useActionState(M,nt,lt)},It.useCallback=function(M,nt){return et.H.useCallback(M,nt)},It.useContext=function(M){return et.H.useContext(M)},It.useDebugValue=function(){},It.useDeferredValue=function(M,nt){return et.H.useDeferredValue(M,nt)},It.useEffect=function(M,nt,lt){var at=et.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(M,nt)},It.useId=function(){return et.H.useId()},It.useImperativeHandle=function(M,nt,lt){return et.H.useImperativeHandle(M,nt,lt)},It.useInsertionEffect=function(M,nt){return et.H.useInsertionEffect(M,nt)},It.useLayoutEffect=function(M,nt){return et.H.useLayoutEffect(M,nt)},It.useMemo=function(M,nt){return et.H.useMemo(M,nt)},It.useOptimistic=function(M,nt){return et.H.useOptimistic(M,nt)},It.useReducer=function(M,nt,lt){return et.H.useReducer(M,nt,lt)},It.useRef=function(M){return et.H.useRef(M)},It.useState=function(M){return et.H.useState(M)},It.useSyncExternalStore=function(M,nt,lt){return et.H.useSyncExternalStore(M,nt,lt)},It.useTransition=function(){return et.H.useTransition()},It.version="19.1.0",It}var eT;function cg(){return eT||(eT=1,Lm.exports=jC()),Lm.exports}var ut=cg(),Um={exports:{}},tu={},Bm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function FC(){return nT||(nT=1,function(n){function t(K,it){var ct=K.length;K.push(it);t:for(;0<ct;){var Dt=ct-1>>>1,M=K[Dt];if(0<a(M,it))K[Dt]=it,K[ct]=M,ct=Dt;else break t}}function e(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var it=K[0],ct=K.pop();if(ct!==it){K[0]=ct;t:for(var Dt=0,M=K.length,nt=M>>>1;Dt<nt;){var lt=2*(Dt+1)-1,at=K[lt],yt=lt+1,Mt=K[yt];if(0>a(at,ct))yt<M&&0>a(Mt,at)?(K[Dt]=Mt,K[yt]=ct,Dt=yt):(K[Dt]=at,K[lt]=ct,Dt=lt);else if(yt<M&&0>a(Mt,ct))K[Dt]=Mt,K[yt]=ct,Dt=yt;else break t}}return it}function a(K,it){var ct=K.sortIndex-it.sortIndex;return ct!==0?ct:K.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,E=null,A=3,C=!1,k=!1,q=!1,U=!1,X=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function rt(K){for(var it=e(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=K)s(g),it.sortIndex=it.expirationTime,t(m,it);else break;it=e(g)}}function et(K){if(q=!1,rt(K),!k)if(e(m)!==null)k=!0,ht||(ht=!0,x());else{var it=e(g);it!==null&&Ut(et,it.startTime-K)}}var ht=!1,V=-1,w=5,I=-1;function O(){return U?!0:!(n.unstable_now()-I<w)}function P(){if(U=!1,ht){var K=n.unstable_now();I=K;var it=!0;try{t:{k=!1,q&&(q=!1,J(V),V=-1),C=!0;var ct=A;try{e:{for(rt(K),E=e(m);E!==null&&!(E.expirationTime>K&&O());){var Dt=E.callback;if(typeof Dt=="function"){E.callback=null,A=E.priorityLevel;var M=Dt(E.expirationTime<=K);if(K=n.unstable_now(),typeof M=="function"){E.callback=M,rt(K),it=!0;break e}E===e(m)&&s(m),rt(K)}else s(m);E=e(m)}if(E!==null)it=!0;else{var nt=e(g);nt!==null&&Ut(et,nt.startTime-K),it=!1}}break t}finally{E=null,A=ct,C=!1}it=void 0}}finally{it?x():ht=!1}}}var x;if(typeof Y=="function")x=function(){Y(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,St=R.port2;R.port1.onmessage=P,x=function(){St.postMessage(null)}}else x=function(){X(P,0)};function Ut(K,it){V=X(function(){K(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(K){switch(A){case 1:case 2:case 3:var it=3;break;default:it=A}var ct=A;A=it;try{return K()}finally{A=ct}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(K,it){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ct=A;A=K;try{return it()}finally{A=ct}},n.unstable_scheduleCallback=function(K,it,ct){var Dt=n.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Dt+ct:Dt):ct=Dt,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ct+M,K={id:v++,callback:it,priorityLevel:K,startTime:ct,expirationTime:M,sortIndex:-1},ct>Dt?(K.sortIndex=ct,t(g,K),e(m)===null&&K===e(g)&&(q?(J(V),V=-1):q=!0,Ut(et,ct-Dt))):(K.sortIndex=M,t(m,K),k||C||(k=!0,ht||(ht=!0,x()))),K},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(K){var it=A;return function(){var ct=A;A=it;try{return K.apply(this,arguments)}finally{A=ct}}}}(zm)),zm}var iT;function qC(){return iT||(iT=1,Bm.exports=FC()),Bm.exports}var jm={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function HC(){if(sT)return We;sT=1;var n=cg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(m,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,We.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,v)},We.flushSync=function(m){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=v,s.d.f()}},We.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},We.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},We.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:C}):v==="script"&&s.d.X(m,{crossOrigin:E,integrity:A,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},We.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},We.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},We.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},We.requestFormReset=function(m){s.d.r(m)},We.unstable_batchedUpdates=function(m,g){return m(g)},We.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},We.useFormStatus=function(){return c.H.useHostTransitionStatus()},We.version="19.1.0",We}var rT;function GC(){if(rT)return jm.exports;rT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),jm.exports=HC(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function KC(){if(aT)return tu;aT=1;var n=qC(),t=cg(),e=GC();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,l=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),i;if(p===l)return d(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==l.return)o=f,l=p;else{for(var T=!1,b=f.child;b;){if(b===o){T=!0,o=f,l=p;break}if(b===l){T=!0,l=f,o=p;break}b=b.sibling}if(!T){for(b=p.child;b;){if(b===o){T=!0,o=p,l=f;break}if(b===l){T=!0,l=p,o=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function x(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function St(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case U:return"Profiler";case q:return"StrictMode";case et:return"Suspense";case ht:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case J:return(i._context.displayName||"Context")+".Consumer";case rt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:St(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return St(i(r))}catch{}}return null}var Ut=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Dt=[],M=-1;function nt(i){return{current:i}}function lt(i){0>M||(i.current=Dt[M],Dt[M]=null,M--)}function at(i,r){M++,Dt[M]=i.current,i.current=r}var yt=nt(null),Mt=nt(null),wt=nt(null),Oe=nt(null);function ee(i,r){switch(at(wt,r),at(Mt,i),at(yt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?R0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=R0(r),i=C0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(yt),at(yt,i)}function ei(){lt(yt),lt(Mt),lt(wt)}function gs(i){i.memoizedState!==null&&at(Oe,i);var r=yt.current,o=C0(r,i.type);r!==o&&(at(Mt,i),at(yt,o))}function Mi(i){Mt.current===i&&(lt(yt),lt(Mt)),Oe.current===i&&(lt(Oe),Ql._currentValue=ct)}var mr=Object.prototype.hasOwnProperty,pr=n.unstable_scheduleCallback,gr=n.unstable_cancelCallback,Go=n.unstable_shouldYield,Yu=n.unstable_requestPaint,Rn=n.unstable_now,kf=n.unstable_getCurrentPriorityLevel,Ko=n.unstable_ImmediatePriority,pa=n.unstable_UserBlockingPriority,yr=n.unstable_NormalPriority,Lf=n.unstable_LowPriority,ga=n.unstable_IdlePriority,Yo=n.log,Qu=n.unstable_setDisableYieldValue,ce=null,Yt=null;function gn(i){if(typeof Yo=="function"&&Qu(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ce,i)}catch{}}var Xe=Math.clz32?Math.clz32:vr,Xu=Math.log,Uf=Math.LN2;function vr(i){return i>>>=0,i===0?32:31-(Xu(i)/Uf|0)|0}var _r=256,Tr=4194304;function qn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ya(i,r,o){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var b=l&134217727;return b!==0?(l=b&~p,l!==0?f=qn(l):(T&=b,T!==0?f=qn(T):o||(o=b&~i,o!==0&&(f=qn(o))))):(b=l&~p,b!==0?f=qn(b):T!==0?f=qn(T):o||(o=l&~i,o!==0&&(f=qn(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function Er(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Qo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var i=_r;return _r<<=1,(_r&4194048)===0&&(_r=256),i}function $o(){var i=Tr;return Tr<<=1,(Tr&62914560)===0&&(Tr=4194304),i}function Oi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Ni(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wo(i,r,o,l,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var b=i.entanglements,D=i.expirationTimes,j=i.hiddenUpdates;for(o=T&~o;0<o;){var Q=31-Xe(o),W=1<<Q;b[Q]=0,D[Q]=-1;var F=j[Q];if(F!==null)for(j[Q]=null,Q=0;Q<F.length;Q++){var H=F[Q];H!==null&&(H.lane&=-536870913)}o&=~W}l!==0&&ni(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function ni(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Xe(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|o&4194090}function Zo(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var l=31-Xe(o),f=1<<l;f&r|i[l]&r&&(i[l]|=r),o&=~f}}function ys(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function va(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vs(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:K0(i.type))}function $u(i,r){var o=it.p;try{return it.p=i,r()}finally{it.p=o}}var se=Math.random().toString(36).slice(2),Re="__reactFiber$"+se,_e="__reactProps$"+se,Cn="__reactContainer$"+se,Jo="__reactEvents$"+se,Bf="__reactListeners$"+se,_s="__reactHandles$"+se,Wu="__reactResources$"+se,Ar="__reactMarker$"+se;function Ts(i){delete i[Re],delete i[_e],delete i[Jo],delete i[Bf],delete i[_s]}function Pi(i){var r=i[Re];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Cn]||o[Re]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=V0(i);i!==null;){if(o=i[Re])return o;i=V0(i)}return r}i=o,o=i.parentNode}return null}function ii(i){if(i=i[Re]||i[Cn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function si(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function sn(i){var r=i[Wu];return r||(r=i[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function me(i){i[Ar]=!0}var tl=new Set,_a={};function Hn(i,r){ki(i,r),ki(i+"Capture",r)}function ki(i,r){for(_a[i]=r,i=0;i<r.length;i++)tl.add(r[i])}var Zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ju={},br={};function tc(i){return mr.call(br,i)?!0:mr.call(Ju,i)?!1:Zu.test(i)?br[i]=!0:(Ju[i]=!0,!1)}function Es(i,r,o){if(tc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ri(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function ze(i,r,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+l)}}var Sr,ec;function Li(i){if(Sr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Sr=r&&r[1]||"",ec=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+i+ec}var Ta=!1;function Ea(i,r){if(!i||Ta)return"";Ta=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var F=H}Reflect.construct(i,[],W)}else{try{W.call()}catch(H){F=H}i.call(W.prototype)}}else{try{throw Error()}catch(H){F=H}(W=i())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&F&&typeof H.stack=="string")return[H.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],b=p[1];if(T&&b){var D=T.split(`
`),j=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===j.length)for(l=D.length-1,f=j.length-1;1<=l&&0<=f&&D[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==j[f]){var Q=`
`+D[l].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=l&&0<=f);break}}}finally{Ta=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Li(o):""}function el(i){switch(i.tag){case 26:case 27:case 5:return Li(i.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return Ea(i.type,!1);case 11:return Ea(i.type.render,!1);case 1:return Ea(i.type,!0);case 31:return Li("Activity");default:return""}}function Aa(i){try{var r="";do r+=el(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function rn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function nl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zf(i){var r=nl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ba(i){i._valueTracker||(i._valueTracker=zf(i))}function il(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return i&&(l=nl(i)?i.checked?"true":"false":i.value),i=l,i!==o?(r.setValue(i),!0):!1}function wr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var jf=/[\n"\\]/g;function Te(i){return i.replace(jf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yn(i,r,o,l,f,p,T,b){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+rn(r)):i.value!==""+rn(r)&&(i.value=""+rn(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?As(i,T,rn(r)):o!=null?As(i,T,rn(o)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+rn(b):i.removeAttribute("name")}function Rr(i,r,o,l,f,p,T,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+rn(o):"",r=r!=null?""+rn(r):o,b||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=b?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function As(i,r,o){r==="number"&&wr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ui(i,r,o,l){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&l&&(i[o].defaultSelected=!0)}else{for(o=""+rn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function $t(i,r,o){if(r!=null&&(r=""+rn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+rn(o):""}function Cr(i,r,o,l){if(r==null){if(l!=null){if(o!=null)throw Error(s(92));if(Ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),r=o}o=rn(r),i.defaultValue=o,l=i.textContent,l===o&&l!==""&&l!==null&&(i.value=l)}function In(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Ir=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nc(i,r,o){var l=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,o):typeof o!="number"||o===0||Ir.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function sl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&o[f]!==l&&nc(i,f,l)}else for(var p in r)r.hasOwnProperty(p)&&nc(i,p,r[p])}function rl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(i){return qf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Bi=null;function Dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zi=null,ji=null;function al(i){var r=ii(i);if(r&&(i=r.stateNode)){var o=i[_e]||null;t:switch(i=r.stateNode,r.type){case"input":if(yn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Te(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==i&&l.form===i.form){var f=l[_e]||null;if(!f)throw Error(s(90));yn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)l=o[r],l.form===i.form&&il(l)}break t;case"textarea":$t(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ui(i,!!o.multiple,r,!1)}}}var ai=!1;function ic(i,r,o){if(ai)return i(r,o);ai=!0;try{var l=i(r);return l}finally{if(ai=!1,(zi!==null||ji!==null)&&($c(),zi&&(r=zi,i=ji,ji=zi=null,al(r),i)))for(r=0;r<i.length;r++)al(i[r])}}function Dr(i,r){var o=i.stateNode;if(o===null)return null;var l=o[_e]||null;if(l===null)return null;o=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Gn)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){xn=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{xn=!1}var oi=null,bs=null,Fi=null;function ol(){if(Fi)return Fi;var i,r=bs,o=r.length,l,f="value"in oi?oi.value:oi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(l=1;l<=T&&r[o-l]===f[p-l];l++);return Fi=f.slice(i,1<l?1-l:void 0)}function li(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ui(){return!0}function ll(){return!1}function Ne(i){function r(o,l,f,p,T){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(o=i[b],this[b]=o?o(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ui:ll,this.isPropagationStopped=ll,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),r}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Ne(Gt),Vr=v({},Gt,{view:0,detail:0}),sc=Ne(Vr),Ra,Ca,ci,Mr=v({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ci&&(ci&&i.type==="mousemove"?(Ra=i.screenX-ci.screenX,Ca=i.screenY-ci.screenY):Ca=Ra=0,ci=i),Ra)},movementY:function(i){return"movementY"in i?i.movementY:Ca}}),Vn=Ne(Mr),rc=v({},Mr,{dataTransfer:0}),Hf=Ne(rc),Or=v({},Vr,{relatedTarget:0}),Ia=Ne(Or),ul=v({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=Ne(ul),ac=v({},Gt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xa=Ne(ac),Gf=v({},Gt,{data:0}),cl=Ne(Gf),Nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=lc[i])?!!r[i]:!1}function Pr(){return hl}var uc=v({},Vr,{key:function(i){if(i.key){var r=Nr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=li(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?oc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(i){return i.type==="keypress"?li(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?li(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Va=Ne(uc),cc=v({},Mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ne(cc),qi=v({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),hc=Ne(qi),fc=v({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),dc=Ne(fc),mc=v({},Mr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=Ne(mc),an=v({},Gt,{newState:0,oldState:0}),pc=Ne(an),gc=[9,13,27,32],hi=Gn&&"CompositionEvent"in window,h=null;Gn&&"documentMode"in document&&(h=document.documentMode);var y=Gn&&"TextEvent"in window&&!h,_=Gn&&(!hi||h&&8<h&&11>=h),S=" ",B=!1;function G(i,r){switch(i){case"keyup":return gc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bt=!1;function Ce(i,r){switch(i){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return i=r.data,i===S&&B?null:i;default:return null}}function zt(i,r){if(Bt)return i==="compositionend"||!hi&&G(i,r)?(i=ol(),Fi=bs=oi=null,Bt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Pe[i.type]:r==="textarea"}function Hi(i,r,o,l){zi?ji?ji.push(l):ji=[l]:zi=l,r=nh(r,"onChange"),0<r.length&&(o=new wa("onChange","change",null,o,l),i.push({event:o,listeners:r}))}var je=null,fi=null;function dl(i){E0(i,0)}function yc(i){var r=si(i);if(il(r))return i}function Fy(i,r){if(i==="change")return r}var qy=!1;if(Gn){var Kf;if(Gn){var Yf="oninput"in document;if(!Yf){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),Yf=typeof Hy.oninput=="function"}Kf=Yf}else Kf=!1;qy=Kf&&(!document.documentMode||9<document.documentMode)}function Gy(){je&&(je.detachEvent("onpropertychange",Ky),fi=je=null)}function Ky(i){if(i.propertyName==="value"&&yc(fi)){var r=[];Hi(r,fi,i,Dn(i)),ic(dl,r)}}function pR(i,r,o){i==="focusin"?(Gy(),je=r,fi=o,je.attachEvent("onpropertychange",Ky)):i==="focusout"&&Gy()}function gR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yc(fi)}function yR(i,r){if(i==="click")return yc(r)}function vR(i,r){if(i==="input"||i==="change")return yc(r)}function _R(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var vn=typeof Object.is=="function"?Object.is:_R;function ml(i,r){if(vn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!mr.call(r,f)||!vn(i[f],r[f]))return!1}return!0}function Yy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Qy(i,r){var o=Yy(i);i=0;for(var l;o;){if(o.nodeType===3){if(l=i+o.textContent.length,i<=r&&l>=r)return{node:o,offset:r-i};i=l}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Yy(o)}}function Xy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Xy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function $y(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=wr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=wr(i.document)}return r}function Qf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var TR=Gn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Xf=null,pl=null,$f=!1;function Wy(i,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;$f||Oa==null||Oa!==wr(l)||(l=Oa,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=nh(Xf,"onSelect"),0<l.length&&(r=new wa("onSelect","select",null,r,o),i.push({event:r,listeners:l}),r.target=Oa)))}function kr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Na={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Wf={},Zy={};Gn&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Lr(i){if(Wf[i])return Wf[i];if(!Na[i])return i;var r=Na[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Zy)return Wf[i]=r[o];return i}var Jy=Lr("animationend"),tv=Lr("animationiteration"),ev=Lr("animationstart"),ER=Lr("transitionrun"),AR=Lr("transitionstart"),bR=Lr("transitioncancel"),nv=Lr("transitionend"),iv=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function Kn(i,r){iv.set(i,r),Hn(r,[i])}var sv=new WeakMap;function Mn(i,r){if(typeof i=="object"&&i!==null){var o=sv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Aa(r)},sv.set(i,r),r)}return{value:i,source:r,stack:Aa(r)}}var On=[],Pa=0,Jf=0;function vc(){for(var i=Pa,r=Jf=Pa=0;r<i;){var o=On[r];On[r++]=null;var l=On[r];On[r++]=null;var f=On[r];On[r++]=null;var p=On[r];if(On[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}p!==0&&rv(o,f,p)}}function _c(i,r,o,l){On[Pa++]=i,On[Pa++]=r,On[Pa++]=o,On[Pa++]=l,Jf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function td(i,r,o,l){return _c(i,r,o,l),Tc(i)}function ka(i,r){return _c(i,null,null,r),Tc(i)}function rv(i,r,o){i.lanes|=o;var l=i.alternate;l!==null&&(l.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,l=p.alternate,l!==null&&(l.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Xe(o),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=o|536870912),p):null}function Tc(i){if(50<zl)throw zl=0,am=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var La={};function SR(i,r,o,l){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(i,r,o,l){return new SR(i,r,o,l)}function ed(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gi(i,r){var o=i.alternate;return o===null?(o=_n(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function av(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ec(i,r,o,l,f,p){var T=0;if(l=i,typeof i=="function")ed(i)&&(T=1);else if(typeof i=="string")T=RC(i,o,yt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=_n(31,o,r,f),i.elementType=I,i.lanes=p,i;case k:return Ur(o.children,f,p,r);case q:T=8,f|=24;break;case U:return i=_n(12,o,r,f|2),i.elementType=U,i.lanes=p,i;case et:return i=_n(13,o,r,f),i.elementType=et,i.lanes=p,i;case ht:return i=_n(19,o,r,f),i.elementType=ht,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:case Y:T=10;break t;case J:T=9;break t;case rt:T=11;break t;case V:T=14;break t;case w:T=16,l=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=_n(T,o,r,f),r.elementType=i,r.type=l,r.lanes=p,r}function Ur(i,r,o,l){return i=_n(7,i,l,r),i.lanes=o,i}function nd(i,r,o){return i=_n(6,i,null,r),i.lanes=o,i}function id(i,r,o){return r=_n(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Ua=[],Ba=0,Ac=null,bc=0,Nn=[],Pn=0,Br=null,Ki=1,Yi="";function zr(i,r){Ua[Ba++]=bc,Ua[Ba++]=Ac,Ac=i,bc=r}function ov(i,r,o){Nn[Pn++]=Ki,Nn[Pn++]=Yi,Nn[Pn++]=Br,Br=i;var l=Ki;i=Yi;var f=32-Xe(l)-1;l&=~(1<<f),o+=1;var p=32-Xe(r)+f;if(30<p){var T=f-f%5;p=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Ki=1<<32-Xe(r)+f|o<<f|l,Yi=p+i}else Ki=1<<p|o<<f|l,Yi=i}function sd(i){i.return!==null&&(zr(i,1),ov(i,1,0))}function rd(i){for(;i===Ac;)Ac=Ua[--Ba],Ua[Ba]=null,bc=Ua[--Ba],Ua[Ba]=null;for(;i===Br;)Br=Nn[--Pn],Nn[Pn]=null,Yi=Nn[--Pn],Nn[Pn]=null,Ki=Nn[--Pn],Nn[Pn]=null}var on=null,he=null,Ht=!1,jr=null,di=!1,ad=Error(s(519));function Fr(i){var r=Error(s(418,""));throw vl(Mn(r,i)),ad}function lv(i){var r=i.stateNode,o=i.type,l=i.memoizedProps;switch(r[Re]=i,r[_e]=l,o){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(o=0;o<Fl.length;o++)Pt(Fl[o],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Rr(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ba(r);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),Cr(r,l.value,l.defaultValue,l.children),ba(r)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||l.suppressHydrationWarning===!0||w0(r.textContent,o)?(l.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),l.onScroll!=null&&Pt("scroll",r),l.onScrollEnd!=null&&Pt("scrollend",r),l.onClick!=null&&(r.onclick=ih),r=!0):r=!1,r||Fr(i)}function uv(i){for(on=i.return;on;)switch(on.tag){case 5:case 13:di=!1;return;case 27:case 3:di=!0;return;default:on=on.return}}function gl(i){if(i!==on)return!1;if(!Ht)return uv(i),Ht=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Am(i.type,i.memoizedProps)),o=!o),o&&he&&Fr(i),uv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){he=Qn(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}he=null}}else r===27?(r=he,Bs(i.type)?(i=Rm,Rm=null,he=i):he=r):he=on?Qn(i.stateNode.nextSibling):null;return!0}function yl(){he=on=null,Ht=!1}function cv(){var i=jr;return i!==null&&(dn===null?dn=i:dn.push.apply(dn,i),jr=null),i}function vl(i){jr===null?jr=[i]:jr.push(i)}var od=nt(null),qr=null,Qi=null;function Ss(i,r,o){at(od,r._currentValue),r._currentValue=o}function Xi(i){i._currentValue=od.current,lt(od)}function ld(i,r,o){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===o)break;i=i.return}}function ud(i,r,o,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var b=p;p=f;for(var D=0;D<r.length;D++)if(b.context===r[D]){p.lanes|=o,b=p.alternate,b!==null&&(b.lanes|=o),ld(p.return,o,i),l||(T=null);break t}p=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),ld(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function _l(i,r,o,l){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;vn(f.pendingProps.value,T.value)||(i!==null?i.push(b):i=[b])}}else if(f===Oe.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Ql):i=[Ql])}f=f.return}i!==null&&ud(r,i,o,l),r.flags|=262144}function Sc(i){for(i=i.firstContext;i!==null;){if(!vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hr(i){qr=i,Qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $e(i){return hv(qr,i)}function wc(i,r){return qr===null&&Hr(i),hv(i,r)}function hv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Qi===null){if(i===null)throw Error(s(308));Qi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Qi=Qi.next=r;return o}var wR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},RR=n.unstable_scheduleCallback,CR=n.unstable_NormalPriority,De={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new wR,data:new Map,refCount:0}}function Tl(i){i.refCount--,i.refCount===0&&RR(CR,function(){i.controller.abort()})}var El=null,hd=0,za=0,ja=null;function IR(i,r){if(El===null){var o=El=[];hd=0,za=dm(),ja={status:"pending",value:void 0,then:function(l){o.push(l)}}}return hd++,r.then(fv,fv),r}function fv(){if(--hd===0&&El!==null){ja!==null&&(ja.status="fulfilled");var i=El;El=null,za=0,ja=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function DR(i,r){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var dv=K.S;K.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&IR(i,r),dv!==null&&dv(i,r)};var Gr=nt(null);function fd(){var i=Gr.current;return i!==null?i:ne.pooledCache}function Rc(i,r){r===null?at(Gr,Gr.current):at(Gr,r.pool)}function mv(){var i=fd();return i===null?null:{parent:De._currentValue,pool:i}}var Al=Error(s(460)),pv=Error(s(474)),Cc=Error(s(542)),dd={then:function(){}};function gv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ic(){}function yv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ic,Ic),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,_v(i),i;default:if(typeof r.status=="string")r.then(Ic,Ic);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,_v(i),i}throw bl=r,Al}}var bl=null;function vv(){if(bl===null)throw Error(s(459));var i=bl;return bl=null,i}function _v(i){if(i===Al||i===Cc)throw Error(s(483))}var ws=!1;function md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Rs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Cs(i,r,o){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Tc(i),rv(i,null,o),r}return _c(i,l,r,o),Tc(i)}function Sl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,Zo(i,o)}}function gd(i,r){var o=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var yd=!1;function wl(){if(yd){var i=ja;if(i!==null)throw i}}function Rl(i,r,o,l){yd=!1;var f=i.updateQueue;ws=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,j=D.next;D.next=null,T===null?p=j:T.next=j,T=D;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==T&&(b===null?Q.firstBaseUpdate=j:b.next=j,Q.lastBaseUpdate=D))}if(p!==null){var W=f.baseState;T=0,Q=j=D=null,b=p;do{var F=b.lane&-536870913,H=F!==b.lane;if(H?(jt&F)===F:(l&F)===F){F!==0&&F===za&&(yd=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var At=i,vt=b;F=r;var Jt=o;switch(vt.tag){case 1:if(At=vt.payload,typeof At=="function"){W=At.call(Jt,W,F);break t}W=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=vt.payload,F=typeof At=="function"?At.call(Jt,W,F):At,F==null)break t;W=v({},W,F);break t;case 2:ws=!0}}F=b.callback,F!==null&&(i.flags|=64,H&&(i.flags|=8192),H=f.callbacks,H===null?f.callbacks=[F]:H.push(F))}else H={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(j=Q=H,D=W):Q=Q.next=H,T|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;H=b,b=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Q===null&&(D=W),f.baseState=D,f.firstBaseUpdate=j,f.lastBaseUpdate=Q,p===null&&(f.shared.lanes=0),Ps|=T,i.lanes=T,i.memoizedState=W}}function Tv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Ev(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Tv(o[i],r)}var Fa=nt(null),Dc=nt(0);function Av(i,r){i=ns,at(Dc,i),at(Fa,r),ns=i|r.baseLanes}function vd(){at(Dc,ns),at(Fa,Fa.current)}function _d(){ns=Dc.current,lt(Fa),lt(Dc)}var Is=0,xt=null,Wt=null,Ee=null,xc=!1,qa=!1,Kr=!1,Vc=0,Cl=0,Ha=null,xR=0;function pe(){throw Error(s(321))}function Td(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!vn(i[o],r[o]))return!1;return!0}function Ed(i,r,o,l,f,p){return Is=p,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=i===null||i.memoizedState===null?r_:a_,Kr=!1,p=o(l,f),Kr=!1,qa&&(p=Sv(r,o,l,f)),bv(i),p}function bv(i){K.H=Lc;var r=Wt!==null&&Wt.next!==null;if(Is=0,Ee=Wt=xt=null,xc=!1,Cl=0,Ha=null,r)throw Error(s(300));i===null||ke||(i=i.dependencies,i!==null&&Sc(i)&&(ke=!0))}function Sv(i,r,o,l){xt=i;var f=0;do{if(qa&&(Ha=null),Cl=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,Ee=Wt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=LR,p=r(o,l)}while(qa);return p}function VR(){var i=K.H,r=i.useState()[0];return r=typeof r.then=="function"?Il(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(xt.flags|=1024),r}function Ad(){var i=Vc!==0;return Vc=0,i}function bd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Sd(i){if(xc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xc=!1}Is=0,Ee=Wt=xt=null,qa=!1,Cl=Vc=0,Ha=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?xt.memoizedState=Ee=i:Ee=Ee.next=i,Ee}function Ae(){if(Wt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=Ee===null?xt.memoizedState:Ee.next;if(r!==null)Ee=r,Wt=i;else{if(i===null)throw xt.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ee===null?xt.memoizedState=Ee=i:Ee=Ee.next=i}return Ee}function wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(i){var r=Cl;return Cl+=1,Ha===null&&(Ha=[]),i=yv(Ha,i,r),r=xt,(Ee===null?r.memoizedState:Ee.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?r_:a_),i}function Mc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Il(i);if(i.$$typeof===Y)return $e(i)}throw Error(s(438,String(i)))}function Rd(i){var r=null,o=xt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=wd(),xt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),l=0;l<i;l++)o[l]=O;return r.index++,o}function $i(i,r){return typeof r=="function"?r(i):r}function Oc(i){var r=Ae();return Cd(r,Wt,i)}function Cd(i,r,o){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var b=T=null,D=null,j=r,Q=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(jt&W)===W:(Is&W)===W){var F=j.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===za&&(Q=!0);else if((Is&F)===F){j=j.next,F===za&&(Q=!0);continue}else W={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(b=D=W,T=p):D=D.next=W,xt.lanes|=F,Ps|=F;W=j.action,Kr&&o(p,W),p=j.hasEagerState?j.eagerState:o(p,W)}else F={lane:W,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(b=D=F,T=p):D=D.next=F,xt.lanes|=W,Ps|=W;j=j.next}while(j!==null&&j!==r);if(D===null?T=p:D.next=b,!vn(p,i.memoizedState)&&(ke=!0,Q&&(o=ja,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=D,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Id(i){var r=Ae(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var l=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);vn(p,r.memoizedState)||(ke=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,l]}function wv(i,r,o){var l=xt,f=Ae(),p=Ht;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!vn((Wt||f).memoizedState,o);T&&(f.memoizedState=o,ke=!0),f=f.queue;var b=Iv.bind(null,l,f,i);if(Dl(2048,8,b,[i]),f.getSnapshot!==r||T||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Nc(),Cv.bind(null,l,f,o,r),null),ne===null)throw Error(s(349));p||(Is&124)!==0||Rv(l,r,o)}return o}function Rv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=xt.updateQueue,r===null?(r=wd(),xt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Cv(i,r,o,l){r.value=o,r.getSnapshot=l,Dv(r)&&xv(i)}function Iv(i,r,o){return o(function(){Dv(r)&&xv(i)})}function Dv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!vn(i,o)}catch{return!0}}function xv(i){var r=ka(i,2);r!==null&&Sn(r,i,2)}function Dd(i){var r=hn();if(typeof i=="function"){var o=i;if(i=o(),Kr){gn(!0);try{o()}finally{gn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:i},r}function Vv(i,r,o,l){return i.baseState=o,Cd(i,Wt,typeof l=="function"?l:$i)}function MR(i,r,o,l,f){if(kc(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};K.T!==null?o(!0):p.isTransition=!1,l(p),o=r.pending,o===null?(p.next=r.pending=p,Mv(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Mv(i,r){var o=r.action,l=r.payload,f=i.state;if(r.isTransition){var p=K.T,T={};K.T=T;try{var b=o(f,l),D=K.S;D!==null&&D(T,b),Ov(i,r,b)}catch(j){xd(i,r,j)}finally{K.T=p}}else try{p=o(f,l),Ov(i,r,p)}catch(j){xd(i,r,j)}}function Ov(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){Nv(i,r,l)},function(l){return xd(i,r,l)}):Nv(i,r,o)}function Nv(i,r,o){r.status="fulfilled",r.value=o,Pv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Mv(i,o)))}function xd(i,r,o){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=o,Pv(r),r=r.next;while(r!==l)}i.action=null}function Pv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function kv(i,r){return r}function Lv(i,r){if(Ht){var o=ne.formState;if(o!==null){t:{var l=xt;if(Ht){if(he){e:{for(var f=he,p=di;f.nodeType!==8;){if(!p){f=null;break e}if(f=Qn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){he=Qn(f.nextSibling),l=f.data==="F!";break t}}Fr(l)}l=!1}l&&(r=o[0])}}return o=hn(),o.memoizedState=o.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:r},o.queue=l,o=n_.bind(null,xt,l),l.dispatch=o,l=Dd(!1),p=Pd.bind(null,xt,!1,l.queue),l=hn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,o=MR.bind(null,xt,f,p,o),f.dispatch=o,l.memoizedState=i,[r,o,!1]}function Uv(i){var r=Ae();return Bv(r,Wt,i)}function Bv(i,r,o){if(r=Cd(i,r,kv)[0],i=Oc($i)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Il(r)}catch(T){throw T===Al?Cc:T}else l=r;r=Ae();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(xt.flags|=2048,Ga(9,Nc(),OR.bind(null,f,o),null)),[l,p,i]}function OR(i,r){i.action=r}function zv(i){var r=Ae(),o=Wt;if(o!==null)return Bv(r,o,i);Ae(),r=r.memoizedState,o=Ae();var l=o.queue.dispatch;return o.memoizedState=i,[r,l,!1]}function Ga(i,r,o,l){return i={tag:i,create:o,deps:l,inst:r,next:null},r=xt.updateQueue,r===null&&(r=wd(),xt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(l=o.next,o.next=i,i.next=l,r.lastEffect=i),i}function Nc(){return{destroy:void 0,resource:void 0}}function jv(){return Ae().memoizedState}function Pc(i,r,o,l){var f=hn();l=l===void 0?null:l,xt.flags|=i,f.memoizedState=Ga(1|r,Nc(),o,l)}function Dl(i,r,o,l){var f=Ae();l=l===void 0?null:l;var p=f.memoizedState.inst;Wt!==null&&l!==null&&Td(l,Wt.memoizedState.deps)?f.memoizedState=Ga(r,p,o,l):(xt.flags|=i,f.memoizedState=Ga(1|r,p,o,l))}function Fv(i,r){Pc(8390656,8,i,r)}function qv(i,r){Dl(2048,8,i,r)}function Hv(i,r){return Dl(4,2,i,r)}function Gv(i,r){return Dl(4,4,i,r)}function Kv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Yv(i,r,o){o=o!=null?o.concat([i]):null,Dl(4,4,Kv.bind(null,r,i),o)}function Vd(){}function Qv(i,r){var o=Ae();r=r===void 0?null:r;var l=o.memoizedState;return r!==null&&Td(r,l[1])?l[0]:(o.memoizedState=[i,r],i)}function Xv(i,r){var o=Ae();r=r===void 0?null:r;var l=o.memoizedState;if(r!==null&&Td(r,l[1]))return l[0];if(l=i(),Kr){gn(!0);try{i()}finally{gn(!1)}}return o.memoizedState=[l,r],l}function Md(i,r,o){return o===void 0||(Is&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=Z_(),xt.lanes|=i,Ps|=i,o)}function $v(i,r,o,l){return vn(o,r)?o:Fa.current!==null?(i=Md(i,o,l),vn(i,r)||(ke=!0),i):(Is&42)===0?(ke=!0,i.memoizedState=o):(i=Z_(),xt.lanes|=i,Ps|=i,r)}function Wv(i,r,o,l,f){var p=it.p;it.p=p!==0&&8>p?p:8;var T=K.T,b={};K.T=b,Pd(i,!1,r,o);try{var D=f(),j=K.S;if(j!==null&&j(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=DR(D,l);xl(i,r,Q,bn(i))}else xl(i,r,l,bn(i))}catch(W){xl(i,r,{then:function(){},status:"rejected",reason:W},bn())}finally{it.p=p,K.T=T}}function NR(){}function Od(i,r,o,l){if(i.tag!==5)throw Error(s(476));var f=Zv(i).queue;Wv(i,f,r,ct,o===null?NR:function(){return Jv(i),o(l)})}function Zv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ct},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Jv(i){var r=Zv(i).next.queue;xl(i,r,{},bn())}function Nd(){return $e(Ql)}function t_(){return Ae().memoizedState}function e_(){return Ae().memoizedState}function PR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=bn();i=Rs(o);var l=Cs(r,i,o);l!==null&&(Sn(l,r,o),Sl(l,r,o)),r={cache:cd()},i.payload=r;return}r=r.return}}function kR(i,r,o){var l=bn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},kc(i)?i_(r,o):(o=td(i,r,o,l),o!==null&&(Sn(o,i,l),s_(o,r,l)))}function n_(i,r,o){var l=bn();xl(i,r,o,l)}function xl(i,r,o,l){var f={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(kc(i))i_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,b=p(T,o);if(f.hasEagerState=!0,f.eagerState=b,vn(b,T))return _c(i,r,f,0),ne===null&&vc(),!1}catch{}finally{}if(o=td(i,r,f,l),o!==null)return Sn(o,i,l),s_(o,r,l),!0}return!1}function Pd(i,r,o,l){if(l={lane:2,revertLane:dm(),action:l,hasEagerState:!1,eagerState:null,next:null},kc(i)){if(r)throw Error(s(479))}else r=td(i,o,l,2),r!==null&&Sn(r,i,2)}function kc(i){var r=i.alternate;return i===xt||r!==null&&r===xt}function i_(i,r){qa=xc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function s_(i,r,o){if((o&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,Zo(i,o)}}var Lc={readContext:$e,use:Mc,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},r_={readContext:$e,use:Mc,useCallback:function(i,r){return hn().memoizedState=[i,r===void 0?null:r],i},useContext:$e,useEffect:Fv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Pc(4194308,4,Kv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Pc(4194308,4,i,r)},useInsertionEffect:function(i,r){Pc(4,2,i,r)},useMemo:function(i,r){var o=hn();r=r===void 0?null:r;var l=i();if(Kr){gn(!0);try{i()}finally{gn(!1)}}return o.memoizedState=[l,r],l},useReducer:function(i,r,o){var l=hn();if(o!==void 0){var f=o(r);if(Kr){gn(!0);try{o(r)}finally{gn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=kR.bind(null,xt,i),[l.memoizedState,i]},useRef:function(i){var r=hn();return i={current:i},r.memoizedState=i},useState:function(i){i=Dd(i);var r=i.queue,o=n_.bind(null,xt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Vd,useDeferredValue:function(i,r){var o=hn();return Md(o,i,r)},useTransition:function(){var i=Dd(!1);return i=Wv.bind(null,xt,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var l=xt,f=hn();if(Ht){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ne===null)throw Error(s(349));(jt&124)!==0||Rv(l,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,Fv(Iv.bind(null,l,p,i),[i]),l.flags|=2048,Ga(9,Nc(),Cv.bind(null,l,p,o,r),null),o},useId:function(){var i=hn(),r=ne.identifierPrefix;if(Ht){var o=Yi,l=Ki;o=(l&~(1<<32-Xe(l)-1)).toString(32)+o,r=""+r+"R"+o,o=Vc++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=xR++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Nd,useFormState:Lv,useActionState:Lv,useOptimistic:function(i){var r=hn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Pd.bind(null,xt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Rd,useCacheRefresh:function(){return hn().memoizedState=PR.bind(null,xt)}},a_={readContext:$e,use:Mc,useCallback:Qv,useContext:$e,useEffect:qv,useImperativeHandle:Yv,useInsertionEffect:Hv,useLayoutEffect:Gv,useMemo:Xv,useReducer:Oc,useRef:jv,useState:function(){return Oc($i)},useDebugValue:Vd,useDeferredValue:function(i,r){var o=Ae();return $v(o,Wt.memoizedState,i,r)},useTransition:function(){var i=Oc($i)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Il(i),r]},useSyncExternalStore:wv,useId:t_,useHostTransitionStatus:Nd,useFormState:Uv,useActionState:Uv,useOptimistic:function(i,r){var o=Ae();return Vv(o,Wt,i,r)},useMemoCache:Rd,useCacheRefresh:e_},LR={readContext:$e,use:Mc,useCallback:Qv,useContext:$e,useEffect:qv,useImperativeHandle:Yv,useInsertionEffect:Hv,useLayoutEffect:Gv,useMemo:Xv,useReducer:Id,useRef:jv,useState:function(){return Id($i)},useDebugValue:Vd,useDeferredValue:function(i,r){var o=Ae();return Wt===null?Md(o,i,r):$v(o,Wt.memoizedState,i,r)},useTransition:function(){var i=Id($i)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Il(i),r]},useSyncExternalStore:wv,useId:t_,useHostTransitionStatus:Nd,useFormState:zv,useActionState:zv,useOptimistic:function(i,r){var o=Ae();return Wt!==null?Vv(o,Wt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Rd,useCacheRefresh:e_},Ka=null,Vl=0;function Uc(i){var r=Vl;return Vl+=1,Ka===null&&(Ka=[]),yv(Ka,i,r)}function Ml(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Bc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function o_(i){var r=i._init;return r(i._payload)}function l_(i){function r(L,N){if(i){var z=L.deletions;z===null?(L.deletions=[N],L.flags|=16):z.push(N)}}function o(L,N){if(!i)return null;for(;N!==null;)r(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function f(L,N){return L=Gi(L,N),L.index=0,L.sibling=null,L}function p(L,N,z){return L.index=z,i?(z=L.alternate,z!==null?(z=z.index,z<N?(L.flags|=67108866,N):z):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function T(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function b(L,N,z,$){return N===null||N.tag!==6?(N=nd(z,L.mode,$),N.return=L,N):(N=f(N,z),N.return=L,N)}function D(L,N,z,$){var mt=z.type;return mt===k?Q(L,N,z.props.children,$,z.key):N!==null&&(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&o_(mt)===N.type)?(N=f(N,z.props),Ml(N,z),N.return=L,N):(N=Ec(z.type,z.key,z.props,null,L.mode,$),Ml(N,z),N.return=L,N)}function j(L,N,z,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=id(z,L.mode,$),N.return=L,N):(N=f(N,z.children||[]),N.return=L,N)}function Q(L,N,z,$,mt){return N===null||N.tag!==7?(N=Ur(z,L.mode,$,mt),N.return=L,N):(N=f(N,z),N.return=L,N)}function W(L,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=nd(""+N,L.mode,z),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return z=Ec(N.type,N.key,N.props,null,L.mode,z),Ml(z,N),z.return=L,z;case C:return N=id(N,L.mode,z),N.return=L,N;case w:var $=N._init;return N=$(N._payload),W(L,N,z)}if(Ut(N)||x(N))return N=Ur(N,L.mode,z,null),N.return=L,N;if(typeof N.then=="function")return W(L,Uc(N),z);if(N.$$typeof===Y)return W(L,wc(L,N),z);Bc(L,N)}return null}function F(L,N,z,$){var mt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return mt!==null?null:b(L,N,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===mt?D(L,N,z,$):null;case C:return z.key===mt?j(L,N,z,$):null;case w:return mt=z._init,z=mt(z._payload),F(L,N,z,$)}if(Ut(z)||x(z))return mt!==null?null:Q(L,N,z,$,null);if(typeof z.then=="function")return F(L,N,Uc(z),$);if(z.$$typeof===Y)return F(L,N,wc(L,z),$);Bc(L,z)}return null}function H(L,N,z,$,mt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(z)||null,b(N,L,""+$,mt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return L=L.get($.key===null?z:$.key)||null,D(N,L,$,mt);case C:return L=L.get($.key===null?z:$.key)||null,j(N,L,$,mt);case w:var Ot=$._init;return $=Ot($._payload),H(L,N,z,$,mt)}if(Ut($)||x($))return L=L.get(z)||null,Q(N,L,$,mt,null);if(typeof $.then=="function")return H(L,N,z,Uc($),mt);if($.$$typeof===Y)return H(L,N,z,wc(N,$),mt);Bc(N,$)}return null}function At(L,N,z,$){for(var mt=null,Ot=null,pt=N,_t=N=0,Ue=null;pt!==null&&_t<z.length;_t++){pt.index>_t?(Ue=pt,pt=null):Ue=pt.sibling;var qt=F(L,pt,z[_t],$);if(qt===null){pt===null&&(pt=Ue);break}i&&pt&&qt.alternate===null&&r(L,pt),N=p(qt,N,_t),Ot===null?mt=qt:Ot.sibling=qt,Ot=qt,pt=Ue}if(_t===z.length)return o(L,pt),Ht&&zr(L,_t),mt;if(pt===null){for(;_t<z.length;_t++)pt=W(L,z[_t],$),pt!==null&&(N=p(pt,N,_t),Ot===null?mt=pt:Ot.sibling=pt,Ot=pt);return Ht&&zr(L,_t),mt}for(pt=l(pt);_t<z.length;_t++)Ue=H(pt,L,_t,z[_t],$),Ue!==null&&(i&&Ue.alternate!==null&&pt.delete(Ue.key===null?_t:Ue.key),N=p(Ue,N,_t),Ot===null?mt=Ue:Ot.sibling=Ue,Ot=Ue);return i&&pt.forEach(function(Hs){return r(L,Hs)}),Ht&&zr(L,_t),mt}function vt(L,N,z,$){if(z==null)throw Error(s(151));for(var mt=null,Ot=null,pt=N,_t=N=0,Ue=null,qt=z.next();pt!==null&&!qt.done;_t++,qt=z.next()){pt.index>_t?(Ue=pt,pt=null):Ue=pt.sibling;var Hs=F(L,pt,qt.value,$);if(Hs===null){pt===null&&(pt=Ue);break}i&&pt&&Hs.alternate===null&&r(L,pt),N=p(Hs,N,_t),Ot===null?mt=Hs:Ot.sibling=Hs,Ot=Hs,pt=Ue}if(qt.done)return o(L,pt),Ht&&zr(L,_t),mt;if(pt===null){for(;!qt.done;_t++,qt=z.next())qt=W(L,qt.value,$),qt!==null&&(N=p(qt,N,_t),Ot===null?mt=qt:Ot.sibling=qt,Ot=qt);return Ht&&zr(L,_t),mt}for(pt=l(pt);!qt.done;_t++,qt=z.next())qt=H(pt,L,_t,qt.value,$),qt!==null&&(i&&qt.alternate!==null&&pt.delete(qt.key===null?_t:qt.key),N=p(qt,N,_t),Ot===null?mt=qt:Ot.sibling=qt,Ot=qt);return i&&pt.forEach(function(UC){return r(L,UC)}),Ht&&zr(L,_t),mt}function Jt(L,N,z,$){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:t:{for(var mt=z.key;N!==null;){if(N.key===mt){if(mt=z.type,mt===k){if(N.tag===7){o(L,N.sibling),$=f(N,z.props.children),$.return=L,L=$;break t}}else if(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&o_(mt)===N.type){o(L,N.sibling),$=f(N,z.props),Ml($,z),$.return=L,L=$;break t}o(L,N);break}else r(L,N);N=N.sibling}z.type===k?($=Ur(z.props.children,L.mode,$,z.key),$.return=L,L=$):($=Ec(z.type,z.key,z.props,null,L.mode,$),Ml($,z),$.return=L,L=$)}return T(L);case C:t:{for(mt=z.key;N!==null;){if(N.key===mt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){o(L,N.sibling),$=f(N,z.children||[]),$.return=L,L=$;break t}else{o(L,N);break}else r(L,N);N=N.sibling}$=id(z,L.mode,$),$.return=L,L=$}return T(L);case w:return mt=z._init,z=mt(z._payload),Jt(L,N,z,$)}if(Ut(z))return At(L,N,z,$);if(x(z)){if(mt=x(z),typeof mt!="function")throw Error(s(150));return z=mt.call(z),vt(L,N,z,$)}if(typeof z.then=="function")return Jt(L,N,Uc(z),$);if(z.$$typeof===Y)return Jt(L,N,wc(L,z),$);Bc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(o(L,N.sibling),$=f(N,z),$.return=L,L=$):(o(L,N),$=nd(z,L.mode,$),$.return=L,L=$),T(L)):o(L,N)}return function(L,N,z,$){try{Vl=0;var mt=Jt(L,N,z,$);return Ka=null,mt}catch(pt){if(pt===Al||pt===Cc)throw pt;var Ot=_n(29,pt,null,L.mode);return Ot.lanes=$,Ot.return=L,Ot}finally{}}}var Ya=l_(!0),u_=l_(!1),kn=nt(null),mi=null;function Ds(i){var r=i.alternate;at(xe,xe.current&1),at(kn,i),mi===null&&(r===null||Fa.current!==null||r.memoizedState!==null)&&(mi=i)}function c_(i){if(i.tag===22){if(at(xe,xe.current),at(kn,i),mi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(mi=i)}}else xs()}function xs(){at(xe,xe.current),at(kn,kn.current)}function Wi(i){lt(kn),mi===i&&(mi=null),lt(xe)}var xe=nt(0);function zc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||wm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function kd(i,r,o,l){r=i.memoizedState,o=o(l,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ld={enqueueSetState:function(i,r,o){i=i._reactInternals;var l=bn(),f=Rs(l);f.payload=r,o!=null&&(f.callback=o),r=Cs(i,f,l),r!==null&&(Sn(r,i,l),Sl(r,i,l))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var l=bn(),f=Rs(l);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Cs(i,f,l),r!==null&&(Sn(r,i,l),Sl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=bn(),l=Rs(o);l.tag=2,r!=null&&(l.callback=r),r=Cs(i,l,o),r!==null&&(Sn(r,i,o),Sl(r,i,o))}};function h_(i,r,o,l,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!ml(o,l)||!ml(f,p):!0}function f_(i,r,o,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==i&&Ld.enqueueReplaceState(r,r.state,null)}function Yr(i,r){var o=r;if("ref"in r){o={};for(var l in r)l!=="ref"&&(o[l]=r[l])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var jc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function d_(i){jc(i)}function m_(i){console.error(i)}function p_(i){jc(i)}function Fc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function g_(i,r,o){try{var l=i.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(i,r,o){return o=Rs(o),o.tag=3,o.payload={element:null},o.callback=function(){Fc(i,r)},o}function y_(i){return i=Rs(i),i.tag=3,i}function v_(i,r,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){g_(r,o,l)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){g_(r,o,l),typeof f!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function UR(i,r,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=o.alternate,r!==null&&_l(r,o,f,!0),o=kn.current,o!==null){switch(o.tag){case 13:return mi===null?lm():o.alternate===null&&fe===0&&(fe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===dd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([l]):r.add(l),cm(i,l,f)),!1;case 22:return o.flags|=65536,l===dd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([l]):o.add(l)),cm(i,l,f)),!1}throw Error(s(435,o.tag))}return cm(i,l,f),lm(),!1}if(Ht)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ad&&(i=Error(s(422),{cause:l}),vl(Mn(i,o)))):(l!==ad&&(r=Error(s(423),{cause:l}),vl(Mn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Mn(l,o),f=Ud(i.stateNode,l,f),gd(i,f),fe!==4&&(fe=2)),!1;var p=Error(s(520),{cause:l});if(p=Mn(p,o),Bl===null?Bl=[p]:Bl.push(p),fe!==4&&(fe=2),r===null)return!0;l=Mn(l,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Ud(o.stateNode,l,i),gd(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ks===null||!ks.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=y_(f),v_(f,i,o,l),gd(o,f),!1}o=o.return}while(o!==null);return!1}var __=Error(s(461)),ke=!1;function Fe(i,r,o,l){r.child=i===null?u_(r,null,o,l):Ya(r,i.child,o,l)}function T_(i,r,o,l,f){o=o.render;var p=r.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return Hr(r),l=Ed(i,r,o,T,p,f),b=Ad(),i!==null&&!ke?(bd(i,r,f),Zi(i,r,f)):(Ht&&b&&sd(r),r.flags|=1,Fe(i,r,l,f),r.child)}function E_(i,r,o,l,f){if(i===null){var p=o.type;return typeof p=="function"&&!ed(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,A_(i,r,p,l,f)):(i=Ec(o.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Kd(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:ml,o(T,l)&&i.ref===r.ref)return Zi(i,r,f)}return r.flags|=1,i=Gi(p,l),i.ref=r.ref,i.return=r,r.child=i}function A_(i,r,o,l,f){if(i!==null){var p=i.memoizedProps;if(ml(p,l)&&i.ref===r.ref)if(ke=!1,r.pendingProps=l=p,Kd(i,f))(i.flags&131072)!==0&&(ke=!0);else return r.lanes=i.lanes,Zi(i,r,f)}return Bd(i,r,o,l,f)}function b_(i,r,o){var l=r.pendingProps,f=l.children,p=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|o:o,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return S_(i,r,l,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Rc(r,p!==null?p.cachePool:null),p!==null?Av(r,p):vd(),c_(r);else return r.lanes=r.childLanes=536870912,S_(i,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(Rc(r,p.cachePool),Av(r,p),xs(),r.memoizedState=null):(i!==null&&Rc(r,null),vd(),xs());return Fe(i,r,f,o),r.child}function S_(i,r,o,l){var f=fd();return f=f===null?null:{parent:De._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Rc(r,null),vd(),c_(r),i!==null&&_l(i,r,l,!0),null}function qc(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Bd(i,r,o,l,f){return Hr(r),o=Ed(i,r,o,l,void 0,f),l=Ad(),i!==null&&!ke?(bd(i,r,f),Zi(i,r,f)):(Ht&&l&&sd(r),r.flags|=1,Fe(i,r,o,f),r.child)}function w_(i,r,o,l,f,p){return Hr(r),r.updateQueue=null,o=Sv(r,l,o,f),bv(i),l=Ad(),i!==null&&!ke?(bd(i,r,p),Zi(i,r,p)):(Ht&&l&&sd(r),r.flags|=1,Fe(i,r,o,p),r.child)}function R_(i,r,o,l,f){if(Hr(r),r.stateNode===null){var p=La,T=o.contextType;typeof T=="object"&&T!==null&&(p=$e(T)),p=new o(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ld,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},md(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?$e(T):La,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(kd(r,o,T,l),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Ld.enqueueReplaceState(p,p.state,null),Rl(r,l,p,f),wl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){p=r.stateNode;var b=r.memoizedProps,D=Yr(o,b);p.props=D;var j=p.context,Q=o.contextType;T=La,typeof Q=="object"&&Q!==null&&(T=$e(Q));var W=o.getDerivedStateFromProps;Q=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||j!==T)&&f_(r,p,l,T),ws=!1;var F=r.memoizedState;p.state=F,Rl(r,l,p,f),wl(),j=r.memoizedState,b||F!==j||ws?(typeof W=="function"&&(kd(r,o,W,l),j=r.memoizedState),(D=ws||h_(r,o,D,l,F,j,T))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),p.props=l,p.state=j,p.context=T,l=D):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,pd(i,r),T=r.memoizedProps,Q=Yr(o,T),p.props=Q,W=r.pendingProps,F=p.context,j=o.contextType,D=La,typeof j=="object"&&j!==null&&(D=$e(j)),b=o.getDerivedStateFromProps,(j=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==W||F!==D)&&f_(r,p,l,D),ws=!1,F=r.memoizedState,p.state=F,Rl(r,l,p,f),wl();var H=r.memoizedState;T!==W||F!==H||ws||i!==null&&i.dependencies!==null&&Sc(i.dependencies)?(typeof b=="function"&&(kd(r,o,b,l),H=r.memoizedState),(Q=ws||h_(r,o,Q,l,F,H,D)||i!==null&&i.dependencies!==null&&Sc(i.dependencies))?(j||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,H,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,H,D)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),p.props=l,p.state=H,p.context=D,l=Q):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),l=!1)}return p=l,qc(i,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&l?(r.child=Ya(r,i.child,null,f),r.child=Ya(r,null,o,f)):Fe(i,r,o,f),r.memoizedState=p.state,i=r.child):i=Zi(i,r,f),i}function C_(i,r,o,l){return yl(),r.flags|=256,Fe(i,r,o,l),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(i){return{baseLanes:i,cachePool:mv()}}function Fd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Ln),i}function I_(i,r,o){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(xe.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ht){if(f?Ds(r):xs(),Ht){var b=he,D;if(D=b){t:{for(D=b,b=di;D.nodeType!==8;){if(!b){b=null;break t}if(D=Qn(D.nextSibling),D===null){b=null;break t}}b=D}b!==null?(r.memoizedState={dehydrated:b,treeContext:Br!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},D=_n(18,null,null,0),D.stateNode=b,D.return=r,r.child=D,on=r,he=null,D=!0):D=!1}D||Fr(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return wm(b)?r.lanes=32:r.lanes=536870912,null;Wi(r)}return b=l.children,l=l.fallback,f?(xs(),f=r.mode,b=Hc({mode:"hidden",children:b},f),l=Ur(l,f,o,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=jd(o),f.childLanes=Fd(i,T,o),r.memoizedState=zd,l):(Ds(r),qd(r,b))}if(D=i.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(p)r.flags&256?(Ds(r),r.flags&=-257,r=Hd(i,r,o)):r.memoizedState!==null?(xs(),r.child=i.child,r.flags|=128,r=null):(xs(),f=l.fallback,b=r.mode,l=Hc({mode:"visible",children:l.children},b),f=Ur(f,b,o,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ya(r,i.child,null,o),l=r.child,l.memoizedState=jd(o),l.childLanes=Fd(i,T,o),r.memoizedState=zd,r=f);else if(Ds(r),wm(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var j=T.dgst;T=j,l=Error(s(419)),l.stack="",l.digest=T,vl({value:l,source:null,stack:null}),r=Hd(i,r,o)}else if(ke||_l(i,r,o,!1),T=(o&i.childLanes)!==0,ke||T){if(T=ne,T!==null&&(l=o&-o,l=(l&42)!==0?1:ys(l),l=(l&(T.suspendedLanes|o))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ka(i,l),Sn(T,i,l),__;b.data==="$?"||lm(),r=Hd(i,r,o)}else b.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,he=Qn(b.nextSibling),on=r,Ht=!0,jr=null,di=!1,i!==null&&(Nn[Pn++]=Ki,Nn[Pn++]=Yi,Nn[Pn++]=Br,Ki=i.id,Yi=i.overflow,Br=r),r=qd(r,l.children),r.flags|=4096);return r}return f?(xs(),f=l.fallback,b=r.mode,D=i.child,j=D.sibling,l=Gi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?f=Gi(j,f):(f=Ur(f,b,o,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=i.child.memoizedState,b===null?b=jd(o):(D=b.cachePool,D!==null?(j=De._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=mv(),b={baseLanes:b.baseLanes|o,cachePool:D}),f.memoizedState=b,f.childLanes=Fd(i,T,o),r.memoizedState=zd,l):(Ds(r),o=i.child,i=o.sibling,o=Gi(o,{mode:"visible",children:l.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function qd(i,r){return r=Hc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Hc(i,r){return i=_n(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Hd(i,r,o){return Ya(r,i.child,null,o),i=qd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function D_(i,r,o){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),ld(i.return,r,o)}function Gd(i,r,o,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=o,p.tailMode=f)}function x_(i,r,o){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(Fe(i,r,l.children,o),l=xe.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&D_(i,o,r);else if(i.tag===19)D_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(at(xe,l),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&zc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Gd(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&zc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Gd(r,!0,o,null,p);break;case"together":Gd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zi(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ps|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(_l(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Gi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Gi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Kd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Sc(i)))}function BR(i,r,o){switch(r.tag){case 3:ee(r,r.stateNode.containerInfo),Ss(r,De,i.memoizedState.cache),yl();break;case 27:case 5:gs(r);break;case 4:ee(r,r.stateNode.containerInfo);break;case 10:Ss(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(r),r.flags|=128,null):(o&r.child.childLanes)!==0?I_(i,r,o):(Ds(r),i=Zi(i,r,o),i!==null?i.sibling:null);Ds(r);break;case 19:var f=(i.flags&128)!==0;if(l=(o&r.childLanes)!==0,l||(_l(i,r,o,!1),l=(o&r.childLanes)!==0),f){if(l)return x_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(xe,xe.current),l)break;return null;case 22:case 23:return r.lanes=0,b_(i,r,o);case 24:Ss(r,De,i.memoizedState.cache)}return Zi(i,r,o)}function V_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)ke=!0;else{if(!Kd(i,o)&&(r.flags&128)===0)return ke=!1,BR(i,r,o);ke=(i.flags&131072)!==0}else ke=!1,Ht&&(r.flags&1048576)!==0&&ov(r,bc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")ed(l)?(i=Yr(l,i),r.tag=1,r=R_(null,r,l,i,o)):(r.tag=0,r=Bd(null,r,l,i,o));else{if(l!=null){if(f=l.$$typeof,f===rt){r.tag=11,r=T_(null,r,l,i,o);break t}else if(f===V){r.tag=14,r=E_(null,r,l,i,o);break t}}throw r=St(l)||l,Error(s(306,r,""))}}return r;case 0:return Bd(i,r,r.type,r.pendingProps,o);case 1:return l=r.type,f=Yr(l,r.pendingProps),R_(i,r,l,f,o);case 3:t:{if(ee(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,pd(i,r),Rl(r,l,null,o);var T=r.memoizedState;if(l=T.cache,Ss(r,De,l),l!==p.cache&&ud(r,[De],o,!0),wl(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=C_(i,r,l,o);break t}else if(l!==f){f=Mn(Error(s(424)),r),vl(f),r=C_(i,r,l,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(he=Qn(i.firstChild),on=r,Ht=!0,jr=null,di=!0,o=u_(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(yl(),l===f){r=Zi(i,r,o);break t}Fe(i,r,l,o)}r=r.child}return r;case 26:return qc(i,r),i===null?(o=P0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ht||(o=r.type,i=r.pendingProps,l=sh(wt.current).createElement(o),l[Re]=r,l[_e]=i,He(l,o,i),me(l),r.stateNode=l):r.memoizedState=P0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return gs(r),i===null&&Ht&&(l=r.stateNode=M0(r.type,r.pendingProps,wt.current),on=r,di=!0,f=he,Bs(r.type)?(Rm=f,he=Qn(l.firstChild)):he=f),Fe(i,r,r.pendingProps.children,o),qc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ht&&((f=l=he)&&(l=dC(l,r.type,r.pendingProps,di),l!==null?(r.stateNode=l,on=r,he=Qn(l.firstChild),di=!1,f=!0):f=!1),f||Fr(r)),gs(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,l=p.children,Am(f,p)?l=null:T!==null&&Am(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Ed(i,r,VR,null,null,o),Ql._currentValue=f),qc(i,r),Fe(i,r,l,o),r.child;case 6:return i===null&&Ht&&((i=o=he)&&(o=mC(o,r.pendingProps,di),o!==null?(r.stateNode=o,on=r,he=null,i=!0):i=!1),i||Fr(r)),null;case 13:return I_(i,r,o);case 4:return ee(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Ya(r,null,l,o):Fe(i,r,l,o),r.child;case 11:return T_(i,r,r.type,r.pendingProps,o);case 7:return Fe(i,r,r.pendingProps,o),r.child;case 8:return Fe(i,r,r.pendingProps.children,o),r.child;case 12:return Fe(i,r,r.pendingProps.children,o),r.child;case 10:return l=r.pendingProps,Ss(r,r.type,l.value),Fe(i,r,l.children,o),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Hr(r),f=$e(f),l=l(f),r.flags|=1,Fe(i,r,l,o),r.child;case 14:return E_(i,r,r.type,r.pendingProps,o);case 15:return A_(i,r,r.type,r.pendingProps,o);case 19:return x_(i,r,o);case 31:return l=r.pendingProps,o=r.mode,l={mode:l.mode,children:l.children},i===null?(o=Hc(l,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Gi(i.child,l),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return b_(i,r,o);case 24:return Hr(r),l=$e(De),i===null?(f=fd(),f===null&&(f=ne,p=cd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:l,cache:f},md(r),Ss(r,De,f)):((i.lanes&o)!==0&&(pd(i,r),Rl(r,null,null,o),wl()),f=i.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ss(r,De,l)):(l=p.cache,Ss(r,De,l),l!==f.cache&&ud(r,[De],o,!0))),Fe(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ji(i){i.flags|=4}function M_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!z0(r)){if(r=kn.current,r!==null&&((jt&4194048)===jt?mi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||r!==mi))throw bl=dd,pv;i.flags|=8192}}function Gc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?$o():536870912,i.lanes|=r,Wa|=r)}function Ol(i,r){if(!Ht)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,l=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=o,r}function zR(i,r,o){var l=r.pendingProps;switch(rd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xi(De),ei(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(gl(r)?Ji(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cv())),oe(r),null;case 26:return o=r.memoizedState,i===null?(Ji(r),o!==null?(oe(r),M_(r,o)):(oe(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Ji(r),oe(r),M_(r,o)):(oe(r),r.flags&=-16777217):(i.memoizedProps!==l&&Ji(r),oe(r),r.flags&=-16777217),null;case 27:Mi(r),o=wt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=yt.current,gl(r)?lv(r):(i=M0(f,l,o),r.stateNode=i,Ji(r))}return oe(r),null;case 5:if(Mi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(i=yt.current,gl(r))lv(r);else{switch(f=sh(wt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(o,{is:l.is}):f.createElement(o)}}i[Re]=r,i[_e]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(He(i,o,l),o){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Ji(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Ji(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=wt.current,gl(r)){if(i=r.stateNode,o=r.memoizedProps,l=null,f=on,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Re]=r,i=!!(i.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||w0(i.nodeValue,o)),i||Fr(r)}else i=sh(i).createTextNode(l),i[Re]=r,r.stateNode=i}return oe(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=gl(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Re]=r}else yl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=cv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Wi(r),r):(Wi(r),null)}if(Wi(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=l!==null,i=i!==null&&i.memoizedState!==null,o){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Gc(r,r.updateQueue),oe(r),null;case 4:return ei(),i===null&&ym(r.stateNode.containerInfo),oe(r),null;case 10:return Xi(r.type),oe(r),null;case 19:if(lt(xe),f=r.memoizedState,f===null)return oe(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)Ol(f,!1);else{if(fe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=zc(i),p!==null){for(r.flags|=128,Ol(f,!1),i=p.updateQueue,r.updateQueue=i,Gc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)av(o,i),o=o.sibling;return at(xe,xe.current&1|2),r.child}i=i.sibling}f.tail!==null&&Rn()>Qc&&(r.flags|=128,l=!0,Ol(f,!1),r.lanes=4194304)}else{if(!l)if(i=zc(p),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,Gc(r,i),Ol(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ht)return oe(r),null}else 2*Rn()-f.renderingStartTime>Qc&&o!==536870912&&(r.flags|=128,l=!0,Ol(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Rn(),r.sibling=null,i=xe.current,at(xe,l?i&1|2:i&1),r):(oe(r),null);case 22:case 23:return Wi(r),_d(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&Gc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==o&&(r.flags|=2048),i!==null&&lt(Gr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Xi(De),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function jR(i,r){switch(rd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xi(De),ei(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Mi(r),null;case 13:if(Wi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));yl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return lt(xe),null;case 4:return ei(),null;case 10:return Xi(r.type),null;case 22:case 23:return Wi(r),_d(),i!==null&&lt(Gr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xi(De),null;case 25:return null;default:return null}}function O_(i,r){switch(rd(r),r.tag){case 3:Xi(De),ei();break;case 26:case 27:case 5:Mi(r);break;case 4:ei();break;case 13:Wi(r);break;case 19:lt(xe);break;case 10:Xi(r.type);break;case 22:case 23:Wi(r),_d(),i!==null&&lt(Gr);break;case 24:Xi(De)}}function Nl(i,r){try{var o=r.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&i)===i){l=void 0;var p=o.create,T=o.inst;l=p(),T.destroy=l}o=o.next}while(o!==f)}}catch(b){te(r,r.return,b)}}function Vs(i,r,o){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=r;var D=o,j=b;try{j()}catch(Q){te(f,D,Q)}}}l=l.next}while(l!==p)}}catch(Q){te(r,r.return,Q)}}function N_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Ev(r,o)}catch(l){te(i,i.return,l)}}}function P_(i,r,o){o.props=Yr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(l){te(i,r,l)}}function Pl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof o=="function"?i.refCleanup=o(l):o.current=l}}catch(f){te(i,r,f)}}function pi(i,r){var o=i.ref,l=i.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){te(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){te(i,r,f)}else o.current=null}function k_(i){var r=i.type,o=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break t;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){te(i,i.return,f)}}function Yd(i,r,o){try{var l=i.stateNode;lC(l,i.type,o,r),l[_e]=r}catch(f){te(i,i.return,f)}}function L_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Bs(i.type)||i.tag===4}function Qd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||L_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Bs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xd(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ih));else if(l!==4&&(l===27&&Bs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Xd(i,r,o),i=i.sibling;i!==null;)Xd(i,r,o),i=i.sibling}function Kc(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(l!==4&&(l===27&&Bs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Kc(i,r,o),i=i.sibling;i!==null;)Kc(i,r,o),i=i.sibling}function U_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);He(r,l,o),r[Re]=i,r[_e]=o}catch(p){te(i,i.return,p)}}var ts=!1,ge=!1,$d=!1,B_=typeof WeakSet=="function"?WeakSet:Set,Le=null;function FR(i,r){if(i=i.containerInfo,Tm=ch,i=$y(i),Qf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,b=-1,D=-1,j=0,Q=0,W=i,F=null;e:for(;;){for(var H;W!==o||f!==0&&W.nodeType!==3||(b=T+f),W!==p||l!==0&&W.nodeType!==3||(D=T+l),W.nodeType===3&&(T+=W.nodeValue.length),(H=W.firstChild)!==null;)F=W,W=H;for(;;){if(W===i)break e;if(F===o&&++j===f&&(b=T),F===p&&++Q===l&&(D=T),(H=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=H}o=b===-1||D===-1?null:{start:b,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Em={focusedElem:i,selectionRange:o},ch=!1,Le=r;Le!==null;)if(r=Le,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Le=i;else for(;Le!==null;){switch(r=Le,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,l=o.stateNode;try{var At=Yr(o.type,f,o.elementType===o.type);i=l.getSnapshotBeforeUpdate(At,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(vt){te(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Sm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Le=i;break}Le=r.return}}function z_(i,r,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Ms(i,o),l&4&&Nl(5,o);break;case 1:if(Ms(i,o),l&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){te(o,o.return,T)}else{var f=Yr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){te(o,o.return,T)}}l&64&&N_(o),l&512&&Pl(o,o.return);break;case 3:if(Ms(i,o),l&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Ev(i,r)}catch(T){te(o,o.return,T)}}break;case 27:r===null&&l&4&&U_(o);case 26:case 5:Ms(i,o),r===null&&l&4&&k_(o),l&512&&Pl(o,o.return);break;case 12:Ms(i,o);break;case 13:Ms(i,o),l&4&&q_(i,o),l&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=WR.bind(null,o),pC(i,o))));break;case 22:if(l=o.memoizedState!==null||ts,!l){r=r!==null&&r.memoizedState!==null||ge,f=ts;var p=ge;ts=l,(ge=r)&&!p?Os(i,o,(o.subtreeFlags&8772)!==0):Ms(i,o),ts=f,ge=p}break;case 30:break;default:Ms(i,o)}}function j_(i){var r=i.alternate;r!==null&&(i.alternate=null,j_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ts(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,fn=!1;function es(i,r,o){for(o=o.child;o!==null;)F_(i,r,o),o=o.sibling}function F_(i,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ce,o)}catch{}switch(o.tag){case 26:ge||pi(o,r),es(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ge||pi(o,r);var l=re,f=fn;Bs(o.type)&&(re=o.stateNode,fn=!1),es(i,r,o),Hl(o.stateNode),re=l,fn=f;break;case 5:ge||pi(o,r);case 6:if(l=re,f=fn,re=null,es(i,r,o),re=l,fn=f,re!==null)if(fn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(p){te(o,r,p)}else try{re.removeChild(o.stateNode)}catch(p){te(o,r,p)}break;case 18:re!==null&&(fn?(i=re,x0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Zl(i)):x0(re,o.stateNode));break;case 4:l=re,f=fn,re=o.stateNode.containerInfo,fn=!0,es(i,r,o),re=l,fn=f;break;case 0:case 11:case 14:case 15:ge||Vs(2,o,r),ge||Vs(4,o,r),es(i,r,o);break;case 1:ge||(pi(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"&&P_(o,r,l)),es(i,r,o);break;case 21:es(i,r,o);break;case 22:ge=(l=ge)||o.memoizedState!==null,es(i,r,o),ge=l;break;default:es(i,r,o)}}function q_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Zl(i)}catch(o){te(r,r.return,o)}}function qR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new B_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new B_),r;default:throw Error(s(435,i.tag))}}function Wd(i,r){var o=qR(i);r.forEach(function(l){var f=ZR.bind(null,i,l);o.has(l)||(o.add(l),l.then(f,f))})}function Tn(i,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],p=i,T=r,b=T;t:for(;b!==null;){switch(b.tag){case 27:if(Bs(b.type)){re=b.stateNode,fn=!1;break t}break;case 5:re=b.stateNode,fn=!1;break t;case 3:case 4:re=b.stateNode.containerInfo,fn=!0;break t}b=b.return}if(re===null)throw Error(s(160));F_(p,T,f),re=null,fn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)H_(r,i),r=r.sibling}var Yn=null;function H_(i,r){var o=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(r,i),En(i),l&4&&(Vs(3,i,i.return),Nl(3,i),Vs(5,i,i.return));break;case 1:Tn(r,i),En(i),l&512&&(ge||o===null||pi(o,o.return)),l&64&&ts&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=Yn;if(Tn(r,i),En(i),l&512&&(ge||o===null||pi(o,o.return)),l&4){var p=o!==null?o.memoizedState:null;if(l=i.memoizedState,o===null)if(l===null)if(i.stateNode===null){t:{l=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ar]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),He(p,l,o),p[Re]=i,me(p),l=p;break t;case"link":var T=U0("link","href",f).get(l+(o.href||""));if(T){for(var b=0;b<T.length;b++)if(p=T[b],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(b,1);break e}}p=f.createElement(l),He(p,l,o),f.head.appendChild(p);break;case"meta":if(T=U0("meta","content",f).get(l+(o.content||""))){for(b=0;b<T.length;b++)if(p=T[b],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(b,1);break e}}p=f.createElement(l),He(p,l,o),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[Re]=i,me(p),l=p}i.stateNode=l}else B0(f,i.type,i.stateNode);else i.stateNode=L0(f,l,i.memoizedProps);else p!==l?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,l===null?B0(f,i.type,i.stateNode):L0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Yd(i,i.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,i),En(i),l&512&&(ge||o===null||pi(o,o.return)),o!==null&&l&4&&Yd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,i),En(i),l&512&&(ge||o===null||pi(o,o.return)),i.flags&32){f=i.stateNode;try{In(f,"")}catch(H){te(i,i.return,H)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Yd(i,f,o!==null?o.memoizedProps:f)),l&1024&&($d=!0);break;case 6:if(Tn(r,i),En(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,o=i.stateNode;try{o.nodeValue=l}catch(H){te(i,i.return,H)}}break;case 3:if(oh=null,f=Yn,Yn=rh(r.containerInfo),Tn(r,i),Yn=f,En(i),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Zl(r.containerInfo)}catch(H){te(i,i.return,H)}$d&&($d=!1,G_(i));break;case 4:l=Yn,Yn=rh(i.stateNode.containerInfo),Tn(r,i),En(i),Yn=l;break;case 12:Tn(r,i),En(i);break;case 13:Tn(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(im=Rn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Wd(i,l)));break;case 22:f=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,j=ts,Q=ge;if(ts=j||f,ge=Q||D,Tn(r,i),ge=Q,ts=j,En(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||D||ts||ge||Qr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(p=D.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=D.stateNode;var W=D.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(H){te(D,D.return,H)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(H){te(D,D.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,Wd(i,o))));break;case 19:Tn(r,i),En(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Wd(i,l)));break;case 30:break;case 21:break;default:Tn(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var o,l=i.return;l!==null;){if(L_(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Qd(i);Kc(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(In(T,""),o.flags&=-33);var b=Qd(i);Kc(i,b,T);break;case 3:case 4:var D=o.stateNode.containerInfo,j=Qd(i);Xd(i,j,D);break;default:throw Error(s(161))}}catch(Q){te(i,i.return,Q)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function G_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;G_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ms(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)z_(i,r.alternate,r),r=r.sibling}function Qr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Vs(4,r,r.return),Qr(r);break;case 1:pi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&P_(r,r.return,o),Qr(r);break;case 27:Hl(r.stateNode);case 26:case 5:pi(r,r.return),Qr(r);break;case 22:r.memoizedState===null&&Qr(r);break;case 30:Qr(r);break;default:Qr(r)}i=i.sibling}}function Os(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Os(f,p,o),Nl(4,p);break;case 1:if(Os(f,p,o),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){te(l,l.return,j)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Tv(D[f],b)}catch(j){te(l,l.return,j)}}o&&T&64&&N_(p),Pl(p,p.return);break;case 27:U_(p);case 26:case 5:Os(f,p,o),o&&l===null&&T&4&&k_(p),Pl(p,p.return);break;case 12:Os(f,p,o);break;case 13:Os(f,p,o),o&&T&4&&q_(f,p);break;case 22:p.memoizedState===null&&Os(f,p,o),Pl(p,p.return);break;case 30:break;default:Os(f,p,o)}r=r.sibling}}function Zd(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Tl(o))}function Jd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tl(i))}function gi(i,r,o,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K_(i,r,o,l),r=r.sibling}function K_(i,r,o,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:gi(i,r,o,l),f&2048&&Nl(9,r);break;case 1:gi(i,r,o,l);break;case 3:gi(i,r,o,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tl(i)));break;case 12:if(f&2048){gi(i,r,o,l),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,b=p.onPostCommit;typeof b=="function"&&b(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){te(r,r.return,D)}}else gi(i,r,o,l);break;case 13:gi(i,r,o,l);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?gi(i,r,o,l):kl(i,r):p._visibility&2?gi(i,r,o,l):(p._visibility|=2,Qa(i,r,o,l,(r.subtreeFlags&10256)!==0)),f&2048&&Zd(T,r);break;case 24:gi(i,r,o,l),f&2048&&Jd(r.alternate,r);break;default:gi(i,r,o,l)}}function Qa(i,r,o,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,T=r,b=o,D=l,j=T.flags;switch(T.tag){case 0:case 11:case 15:Qa(p,T,b,D,f),Nl(8,T);break;case 23:break;case 22:var Q=T.stateNode;T.memoizedState!==null?Q._visibility&2?Qa(p,T,b,D,f):kl(p,T):(Q._visibility|=2,Qa(p,T,b,D,f)),f&&j&2048&&Zd(T.alternate,T);break;case 24:Qa(p,T,b,D,f),f&&j&2048&&Jd(T.alternate,T);break;default:Qa(p,T,b,D,f)}r=r.sibling}}function kl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,l=r,f=l.flags;switch(l.tag){case 22:kl(o,l),f&2048&&Zd(l.alternate,l);break;case 24:kl(o,l),f&2048&&Jd(l.alternate,l);break;default:kl(o,l)}r=r.sibling}}var Ll=8192;function Xa(i){if(i.subtreeFlags&Ll)for(i=i.child;i!==null;)Y_(i),i=i.sibling}function Y_(i){switch(i.tag){case 26:Xa(i),i.flags&Ll&&i.memoizedState!==null&&IC(Yn,i.memoizedState,i.memoizedProps);break;case 5:Xa(i);break;case 3:case 4:var r=Yn;Yn=rh(i.stateNode.containerInfo),Xa(i),Yn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Ll,Ll=16777216,Xa(i),Ll=r):Xa(i));break;default:Xa(i)}}function Q_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ul(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];Le=l,$_(l,i)}Q_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)X_(i),i=i.sibling}function X_(i){switch(i.tag){case 0:case 11:case 15:Ul(i),i.flags&2048&&Vs(9,i,i.return);break;case 3:Ul(i);break;case 12:Ul(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Yc(i)):Ul(i);break;default:Ul(i)}}function Yc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];Le=l,$_(l,i)}Q_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Vs(8,r,r.return),Yc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Yc(r));break;default:Yc(r)}i=i.sibling}}function $_(i,r){for(;Le!==null;){var o=Le;switch(o.tag){case 0:case 11:case 15:Vs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Le=l;else t:for(o=i;Le!==null;){l=Le;var f=l.sibling,p=l.return;if(j_(l),l===o){Le=null;break t}if(f!==null){f.return=p,Le=f;break t}Le=p}}}var HR={getCacheForType:function(i){var r=$e(De),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},GR=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,Nt=null,jt=0,Xt=0,An=null,Ns=!1,$a=!1,tm=!1,ns=0,fe=0,Ps=0,Xr=0,em=0,Ln=0,Wa=0,Bl=null,dn=null,nm=!1,im=0,Qc=1/0,Xc=null,ks=null,qe=0,Ls=null,Za=null,Ja=0,sm=0,rm=null,W_=null,zl=0,am=null;function bn(){if((Qt&2)!==0&&jt!==0)return jt&-jt;if(K.T!==null){var i=za;return i!==0?i:dm()}return vs()}function Z_(){Ln===0&&(Ln=(jt&536870912)===0||Ht?Xo():536870912);var i=kn.current;return i!==null&&(i.flags|=32),Ln}function Sn(i,r,o){(i===ne&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(to(i,0),Us(i,jt,Ln,!1)),Ni(i,o),((Qt&2)===0||i!==ne)&&(i===ne&&((Qt&2)===0&&(Xr|=o),fe===4&&Us(i,jt,Ln,!1)),yi(i))}function J_(i,r,o){if((Qt&6)!==0)throw Error(s(327));var l=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Er(i,r),f=l?QR(i,r):um(i,r,!0),p=l;do{if(f===0){$a&&!l&&Us(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!KR(o)){f=um(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var b=i;f=Bl;var D=b.current.memoizedState.isDehydrated;if(D&&(to(b,T).flags|=256),T=um(b,T,!1),T!==2){if(tm&&!D){b.errorRecoveryDisabledLanes|=p,Xr|=p,f=4;break t}p=dn,dn=f,p!==null&&(dn===null?dn=p:dn.push.apply(dn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){to(i,0),Us(i,r,0,!0);break}t:{switch(l=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Us(l,r,Ln,!Ns);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=im+300-Rn(),10<f)){if(Us(l,r,Ln,!Ns),ya(l,0,!0)!==0)break t;l.timeoutHandle=I0(t0.bind(null,l,o,dn,Xc,nm,r,Ln,Xr,Wa,Ns,p,2,-0,0),f);break t}t0(l,o,dn,Xc,nm,r,Ln,Xr,Wa,Ns,p,0,-0,0)}}break}while(!0);yi(i)}function t0(i,r,o,l,f,p,T,b,D,j,Q,W,F,H){if(i.timeoutHandle=-1,W=r.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:CC},Y_(r),W=DC(),W!==null)){i.cancelPendingCommit=W(o0.bind(null,i,r,p,o,l,f,T,b,D,Q,1,F,H)),Us(i,p,T,!j);return}o0(i,r,p,o,l,f,T,b,D)}function KR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],p=f.getSnapshot;f=f.value;try{if(!vn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Us(i,r,o,l){r&=~em,r&=~Xr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var p=31-Xe(f),T=1<<p;l[p]=-1,f&=~T}o!==0&&ni(i,o,r)}function $c(){return(Qt&6)===0?(jl(0),!1):!0}function om(){if(Nt!==null){if(Xt===0)var i=Nt.return;else i=Nt,Qi=qr=null,Sd(i),Ka=null,Vl=0,i=Nt;for(;i!==null;)O_(i.alternate,i),i=i.return;Nt=null}}function to(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,cC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),om(),ne=i,Nt=o=Gi(i.current,null),jt=r,Xt=0,An=null,Ns=!1,$a=Er(i,r),tm=!1,Wa=Ln=em=Xr=Ps=fe=0,dn=Bl=null,nm=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Xe(l),p=1<<f;r|=i[f],l&=~p}return ns=r,vc(),o}function e0(i,r){xt=null,K.H=Lc,r===Al||r===Cc?(r=vv(),Xt=3):r===pv?(r=vv(),Xt=4):Xt=r===__?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Nt===null&&(fe=1,Fc(i,Mn(r,i.current)))}function n0(){var i=K.H;return K.H=Lc,i===null?Lc:i}function i0(){var i=K.A;return K.A=HR,i}function lm(){fe=4,Ns||(jt&4194048)!==jt&&kn.current!==null||($a=!0),(Ps&134217727)===0&&(Xr&134217727)===0||ne===null||Us(ne,jt,Ln,!1)}function um(i,r,o){var l=Qt;Qt|=2;var f=n0(),p=i0();(ne!==i||jt!==r)&&(Xc=null,to(i,r)),r=!1;var T=fe;t:do try{if(Xt!==0&&Nt!==null){var b=Nt,D=An;switch(Xt){case 8:om(),T=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var j=Xt;if(Xt=0,An=null,eo(i,b,D,j),o&&$a){T=0;break t}break;default:j=Xt,Xt=0,An=null,eo(i,b,D,j)}}YR(),T=fe;break}catch(Q){e0(i,Q)}while(!0);return r&&i.shellSuspendCounter++,Qi=qr=null,Qt=l,K.H=f,K.A=p,Nt===null&&(ne=null,jt=0,vc()),T}function YR(){for(;Nt!==null;)s0(Nt)}function QR(i,r){var o=Qt;Qt|=2;var l=n0(),f=i0();ne!==i||jt!==r?(Xc=null,Qc=Rn()+500,to(i,r)):$a=Er(i,r);t:do try{if(Xt!==0&&Nt!==null){r=Nt;var p=An;e:switch(Xt){case 1:Xt=0,An=null,eo(i,r,p,1);break;case 2:case 9:if(gv(p)){Xt=0,An=null,r0(r);break}r=function(){Xt!==2&&Xt!==9||ne!==i||(Xt=7),yi(i)},p.then(r,r);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:gv(p)?(Xt=0,An=null,r0(r)):(Xt=0,An=null,eo(i,r,p,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var b=Nt;if(!T||z0(T)){Xt=0,An=null;var D=b.sibling;if(D!==null)Nt=D;else{var j=b.return;j!==null?(Nt=j,Wc(j)):Nt=null}break e}}Xt=0,An=null,eo(i,r,p,5);break;case 6:Xt=0,An=null,eo(i,r,p,6);break;case 8:om(),fe=6;break t;default:throw Error(s(462))}}XR();break}catch(Q){e0(i,Q)}while(!0);return Qi=qr=null,K.H=l,K.A=f,Qt=o,Nt!==null?0:(ne=null,jt=0,vc(),fe)}function XR(){for(;Nt!==null&&!Go();)s0(Nt)}function s0(i){var r=V_(i.alternate,i,ns);i.memoizedProps=i.pendingProps,r===null?Wc(i):Nt=r}function r0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=w_(o,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=w_(o,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:Sd(r);default:O_(o,r),r=Nt=av(r,ns),r=V_(o,r,ns)}i.memoizedProps=i.pendingProps,r===null?Wc(i):Nt=r}function eo(i,r,o,l){Qi=qr=null,Sd(r),Ka=null,Vl=0;var f=r.return;try{if(UR(i,f,r,o,jt)){fe=1,Fc(i,Mn(o,i.current)),Nt=null;return}}catch(p){if(f!==null)throw Nt=f,p;fe=1,Fc(i,Mn(o,i.current)),Nt=null;return}r.flags&32768?(Ht||l===1?i=!0:$a||(jt&536870912)!==0?i=!1:(Ns=i=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),a0(r,i)):Wc(r)}function Wc(i){var r=i;do{if((r.flags&32768)!==0){a0(r,Ns);return}i=r.return;var o=zR(r.alternate,r,ns);if(o!==null){Nt=o;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=i}while(r!==null);fe===0&&(fe=5)}function a0(i,r){do{var o=jR(i.alternate,i);if(o!==null){o.flags&=32767,Nt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=o}while(i!==null);fe=6,Nt=null}function o0(i,r,o,l,f,p,T,b,D){i.cancelPendingCommit=null;do Zc();while(qe!==0);if((Qt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Jf,Wo(i,o,p,T,b,D),i===ne&&(Nt=ne=null,jt=0),Za=r,Ls=i,Ja=o,sm=p,rm=f,W_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,JR(yr,function(){return f0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=it.p,it.p=2,T=Qt,Qt|=4;try{FR(i,r,o)}finally{Qt=T,it.p=f,K.T=l}}qe=1,l0(),u0(),c0()}}function l0(){if(qe===1){qe=0;var i=Ls,r=Za,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var l=it.p;it.p=2;var f=Qt;Qt|=4;try{H_(r,i);var p=Em,T=$y(i.containerInfo),b=p.focusedElem,D=p.selectionRange;if(T!==b&&b&&b.ownerDocument&&Xy(b.ownerDocument.documentElement,b)){if(D!==null&&Qf(b)){var j=D.start,Q=D.end;if(Q===void 0&&(Q=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(Q,b.value.length);else{var W=b.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var H=F.getSelection(),At=b.textContent.length,vt=Math.min(D.start,At),Jt=D.end===void 0?vt:Math.min(D.end,At);!H.extend&&vt>Jt&&(T=Jt,Jt=vt,vt=T);var L=Qy(b,vt),N=Qy(b,Jt);if(L&&N&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var z=W.createRange();z.setStart(L.node,L.offset),H.removeAllRanges(),vt>Jt?(H.addRange(z),H.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),H.addRange(z))}}}}for(W=[],H=b;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var $=W[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ch=!!Tm,Em=Tm=null}finally{Qt=f,it.p=l,K.T=o}}i.current=r,qe=2}}function u0(){if(qe===2){qe=0;var i=Ls,r=Za,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var l=it.p;it.p=2;var f=Qt;Qt|=4;try{z_(i,r.alternate,r)}finally{Qt=f,it.p=l,K.T=o}}qe=3}}function c0(){if(qe===4||qe===3){qe=0,Yu();var i=Ls,r=Za,o=Ja,l=W_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qe=5:(qe=0,Za=Ls=null,h0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(ks=null),va(o),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ce,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=it.p,it.p=2,K.T=null;try{for(var p=i.onRecoverableError,T=0;T<l.length;T++){var b=l[T];p(b.value,{componentStack:b.stack})}}finally{K.T=r,it.p=f}}(Ja&3)!==0&&Zc(),yi(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===am?zl++:(zl=0,am=i):zl=0,jl(0)}}function h0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Tl(r)))}function Zc(i){return l0(),u0(),c0(),f0()}function f0(){if(qe!==5)return!1;var i=Ls,r=sm;sm=0;var o=va(Ja),l=K.T,f=it.p;try{it.p=32>o?32:o,K.T=null,o=rm,rm=null;var p=Ls,T=Ja;if(qe=0,Za=Ls=null,Ja=0,(Qt&6)!==0)throw Error(s(331));var b=Qt;if(Qt|=4,X_(p.current),K_(p,p.current,T,o),Qt=b,jl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ce,p)}catch{}return!0}finally{it.p=f,K.T=l,h0(i,r)}}function d0(i,r,o){r=Mn(o,r),r=Ud(i.stateNode,r,2),i=Cs(i,r,2),i!==null&&(Ni(i,2),yi(i))}function te(i,r,o){if(i.tag===3)d0(i,i,o);else for(;r!==null;){if(r.tag===3){d0(r,i,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ks===null||!ks.has(l))){i=Mn(o,i),o=y_(2),l=Cs(r,o,2),l!==null&&(v_(o,l,r,i),Ni(l,2),yi(l));break}}r=r.return}}function cm(i,r,o){var l=i.pingCache;if(l===null){l=i.pingCache=new GR;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(tm=!0,f.add(o),i=$R.bind(null,i,r,o),r.then(i,i))}function $R(i,r,o){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(jt&o)===o&&(fe===4||fe===3&&(jt&62914560)===jt&&300>Rn()-im?(Qt&2)===0&&to(i,0):em|=o,Wa===jt&&(Wa=0)),yi(i)}function m0(i,r){r===0&&(r=$o()),i=ka(i,r),i!==null&&(Ni(i,r),yi(i))}function WR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),m0(i,o)}function ZR(i,r){var o=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),m0(i,o)}function JR(i,r){return pr(i,r)}var Jc=null,no=null,hm=!1,th=!1,fm=!1,$r=0;function yi(i){i!==no&&i.next===null&&(no===null?Jc=no=i:no=no.next=i),th=!0,hm||(hm=!0,eC())}function jl(i,r){if(!fm&&th){fm=!0;do for(var o=!1,l=Jc;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var T=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-Xe(42|i)+1)-1,p&=f&~(T&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,v0(l,p))}else p=jt,p=ya(l,l===ne?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Er(l,p)||(o=!0,v0(l,p));l=l.next}while(o);fm=!1}}function tC(){p0()}function p0(){th=hm=!1;var i=0;$r!==0&&(uC()&&(i=$r),$r=0);for(var r=Rn(),o=null,l=Jc;l!==null;){var f=l.next,p=g0(l,r);p===0?(l.next=null,o===null?Jc=f:o.next=f,f===null&&(no=o)):(o=l,(i!==0||(p&3)!==0)&&(th=!0)),l=f}jl(i)}function g0(i,r){for(var o=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-Xe(p),b=1<<T,D=f[T];D===-1?((b&o)===0||(b&l)!==0)&&(f[T]=Qo(b,r)):D<=r&&(i.expiredLanes|=b),p&=~b}if(r=ne,o=jt,o=ya(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,o===0||i===r&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Er(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(l!==null&&gr(l),va(o)){case 2:case 8:o=pa;break;case 32:o=yr;break;case 268435456:o=ga;break;default:o=yr}return l=y0.bind(null,i),o=pr(o,l),i.callbackPriority=r,i.callbackNode=o,r}return l!==null&&l!==null&&gr(l),i.callbackPriority=2,i.callbackNode=null,2}function y0(i,r){if(qe!==0&&qe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Zc()&&i.callbackNode!==o)return null;var l=jt;return l=ya(i,i===ne?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(J_(i,l,r),g0(i,Rn()),i.callbackNode!=null&&i.callbackNode===o?y0.bind(null,i):null)}function v0(i,r){if(Zc())return null;J_(i,r,!0)}function eC(){hC(function(){(Qt&6)!==0?pr(Ko,tC):p0()})}function dm(){return $r===0&&($r=Xo()),$r}function _0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Sa(""+i)}function T0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function nC(i,r,o,l,f){if(r==="submit"&&o&&o.stateNode===f){var p=_0((f[_e]||null).action),T=l.submitter;T&&(r=(r=T[_e]||null)?_0(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var b=new wa("action","action",null,l,f);i.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var D=T?T0(f,T):new FormData(f);Od(o,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(b.preventDefault(),D=T?T0(f,T):new FormData(f),Od(o,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var mm=0;mm<Zf.length;mm++){var pm=Zf[mm],iC=pm.toLowerCase(),sC=pm[0].toUpperCase()+pm.slice(1);Kn(iC,"on"+sC)}Kn(Jy,"onAnimationEnd"),Kn(tv,"onAnimationIteration"),Kn(ev,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(ER,"onTransitionRun"),Kn(AR,"onTransitionStart"),Kn(bR,"onTransitionCancel"),Kn(nv,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function E0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var l=i[o],f=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var b=l[T],D=b.instance,j=b.currentTarget;if(b=b.listener,D!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=j;try{p(f)}catch(Q){jc(Q)}f.currentTarget=null,p=D}else for(T=0;T<l.length;T++){if(b=l[T],D=b.instance,j=b.currentTarget,b=b.listener,D!==p&&f.isPropagationStopped())break t;p=b,f.currentTarget=j;try{p(f)}catch(Q){jc(Q)}f.currentTarget=null,p=D}}}}function Pt(i,r){var o=r[Jo];o===void 0&&(o=r[Jo]=new Set);var l=i+"__bubble";o.has(l)||(A0(r,i,2,!1),o.add(l))}function gm(i,r,o){var l=0;r&&(l|=4),A0(o,i,l,r)}var eh="_reactListening"+Math.random().toString(36).slice(2);function ym(i){if(!i[eh]){i[eh]=!0,tl.forEach(function(o){o!=="selectionchange"&&(rC.has(o)||gm(o,!1,i),gm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[eh]||(r[eh]=!0,gm("selectionchange",!1,r))}}function A0(i,r,o,l){switch(K0(r)){case 2:var f=MC;break;case 8:f=OC;break;default:f=Vm}o=f.bind(null,r,o,i),f=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function vm(i,r,o,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=l.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=Pi(b),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){l=p=T;continue t}b=b.parentNode}}l=l.return}ic(function(){var j=p,Q=Dn(o),W=[];t:{var F=iv.get(i);if(F!==void 0){var H=wa,At=i;switch(i){case"keypress":if(li(o)===0)break t;case"keydown":case"keyup":H=Va;break;case"focusin":At="focus",H=Ia;break;case"focusout":At="blur",H=Ia;break;case"beforeblur":case"afterblur":H=Ia;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=hc;break;case Jy:case tv:case ev:H=Da;break;case nv:H=dc;break;case"scroll":case"scrollend":H=sc;break;case"wheel":H=Ma;break;case"copy":case"cut":case"paste":H=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=fl;break;case"toggle":case"beforetoggle":H=pc}var vt=(r&4)!==0,Jt=!vt&&(i==="scroll"||i==="scrollend"),L=vt?F!==null?F+"Capture":null:F;vt=[];for(var N=j,z;N!==null;){var $=N;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||L===null||($=Dr(N,L),$!=null&&vt.push(ql(N,$,z))),Jt)break;N=N.return}0<vt.length&&(F=new H(F,At,null,o,Q),W.push({event:F,listeners:vt}))}}if((r&7)===0){t:{if(F=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",F&&o!==Bi&&(At=o.relatedTarget||o.fromElement)&&(Pi(At)||At[Cn]))break t;if((H||F)&&(F=Q.window===Q?Q:(F=Q.ownerDocument)?F.defaultView||F.parentWindow:window,H?(At=o.relatedTarget||o.toElement,H=j,At=At?Pi(At):null,At!==null&&(Jt=u(At),vt=At.tag,At!==Jt||vt!==5&&vt!==27&&vt!==6)&&(At=null)):(H=null,At=j),H!==At)){if(vt=Vn,$="onMouseLeave",L="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(vt=fl,$="onPointerLeave",L="onPointerEnter",N="pointer"),Jt=H==null?F:si(H),z=At==null?F:si(At),F=new vt($,N+"leave",H,o,Q),F.target=Jt,F.relatedTarget=z,$=null,Pi(Q)===j&&(vt=new vt(L,N+"enter",At,o,Q),vt.target=z,vt.relatedTarget=Jt,$=vt),Jt=$,H&&At)e:{for(vt=H,L=At,N=0,z=vt;z;z=io(z))N++;for(z=0,$=L;$;$=io($))z++;for(;0<N-z;)vt=io(vt),N--;for(;0<z-N;)L=io(L),z--;for(;N--;){if(vt===L||L!==null&&vt===L.alternate)break e;vt=io(vt),L=io(L)}vt=null}else vt=null;H!==null&&b0(W,F,H,vt,!1),At!==null&&Jt!==null&&b0(W,Jt,At,vt,!0)}}t:{if(F=j?si(j):window,H=F.nodeName&&F.nodeName.toLowerCase(),H==="select"||H==="input"&&F.type==="file")var mt=Fy;else if(Ie(F))if(qy)mt=vR;else{mt=gR;var Ot=pR}else H=F.nodeName,!H||H.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&rl(j.elementType)&&(mt=Fy):mt=yR;if(mt&&(mt=mt(i,j))){Hi(W,mt,o,Q);break t}Ot&&Ot(i,F,j),i==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&As(F,"number",F.value)}switch(Ot=j?si(j):window,i){case"focusin":(Ie(Ot)||Ot.contentEditable==="true")&&(Oa=Ot,Xf=j,pl=null);break;case"focusout":pl=Xf=Oa=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Wy(W,o,Q);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":Wy(W,o,Q)}var pt;if(hi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Bt?G(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(_&&o.locale!=="ko"&&(Bt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Bt&&(pt=ol()):(oi=Q,bs="value"in oi?oi.value:oi.textContent,Bt=!0)),Ot=nh(j,_t),0<Ot.length&&(_t=new cl(_t,i,null,o,Q),W.push({event:_t,listeners:Ot}),pt?_t.data=pt:(pt=ot(o),pt!==null&&(_t.data=pt)))),(pt=y?Ce(i,o):zt(i,o))&&(_t=nh(j,"onBeforeInput"),0<_t.length&&(Ot=new cl("onBeforeInput","beforeinput",null,o,Q),W.push({event:Ot,listeners:_t}),Ot.data=pt)),nC(W,i,j,o,Q)}E0(W,r)})}function ql(i,r,o){return{instance:i,listener:r,currentTarget:o}}function nh(i,r){for(var o=r+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Dr(i,o),f!=null&&l.unshift(ql(i,f,p)),f=Dr(i,r),f!=null&&l.push(ql(i,f,p))),i.tag===3)return l;i=i.return}return[]}function io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function b0(i,r,o,l,f){for(var p=r._reactName,T=[];o!==null&&o!==l;){var b=o,D=b.alternate,j=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||j===null||(D=j,f?(j=Dr(o,p),j!=null&&T.unshift(ql(o,j,D))):f||(j=Dr(o,p),j!=null&&T.push(ql(o,j,D)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var aC=/\r\n?/g,oC=/\u0000|\uFFFD/g;function S0(i){return(typeof i=="string"?i:""+i).replace(aC,`
`).replace(oC,"")}function w0(i,r){return r=S0(r),S0(i)===r}function ih(){}function Zt(i,r,o,l,f,p){switch(o){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(i,""+l);break;case"className":ri(i,"class",l);break;case"tabIndex":ri(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(i,o,l);break;case"style":sl(i,l,p);break;case"data":if(r!=="object"){ri(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=Sa(""+l),i.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=Sa(""+l),i.setAttribute(o,l);break;case"onClick":l!=null&&(i.onclick=ih);break;case"onScroll":l!=null&&Pt("scroll",i);break;case"onScrollEnd":l!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}o=Sa(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""+l):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":l===!0?i.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,l):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(o,l):i.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(o):i.setAttribute(o,l);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),Es(i,"popover",l);break;case"xlinkActuate":ze(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Es(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ff.get(o)||o,Es(i,o,l))}}function _m(i,r,o,l,f,p){switch(o){case"style":sl(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof l=="string"?In(i,l):(typeof l=="number"||typeof l=="bigint")&&In(i,""+l);break;case"onScroll":l!=null&&Pt("scroll",i);break;case"onScrollEnd":l!=null&&Pt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[_e]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,l,f);break t}o in i?i[o]=l:l===!0?i.setAttribute(o,""):Es(i,o,l)}}}function He(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var l=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,p,T,o,null)}}f&&Zt(i,r,"srcSet",o.srcSet,o,null),l&&Zt(i,r,"src",o.src,o,null);return;case"input":Pt("invalid",i);var b=p=T=f=null,D=null,j=null;for(l in o)if(o.hasOwnProperty(l)){var Q=o[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":T=Q;break;case"checked":D=Q;break;case"defaultChecked":j=Q;break;case"value":p=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Zt(i,r,l,Q,o,null)}}Rr(i,p,b,D,j,T,f,!1),ba(i);return;case"select":Pt("invalid",i),l=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:Zt(i,r,f,b,o,null)}r=p,o=T,i.multiple=!!l,r!=null?Ui(i,!!l,r,!1):o!=null&&Ui(i,!!l,o,!0);return;case"textarea":Pt("invalid",i),p=f=l=null;for(T in o)if(o.hasOwnProperty(T)&&(b=o[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Zt(i,r,T,b,o,null)}Cr(i,l,f,p),ba(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(l=o[D],l!=null))switch(D){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(i,r,D,l,o,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Pt(Fl[l],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in o)if(o.hasOwnProperty(j)&&(l=o[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,j,l,o,null)}return;default:if(rl(r)){for(Q in o)o.hasOwnProperty(Q)&&(l=o[Q],l!==void 0&&_m(i,r,Q,l,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(l=o[b],l!=null&&Zt(i,r,b,l,o,null))}function lC(i,r,o,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,b=null,D=null,j=null,Q=null;for(H in o){var W=o[H];if(o.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(H)||Zt(i,r,H,null,l,W)}}for(var F in l){var H=l[F];if(W=o[F],l.hasOwnProperty(F)&&(H!=null||W!=null))switch(F){case"type":p=H;break;case"name":f=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":T=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==W&&Zt(i,r,F,H,l,W)}}yn(i,T,b,D,j,Q,p,f);return;case"select":H=T=b=F=null;for(p in o)if(D=o[p],o.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(p)||Zt(i,r,p,null,l,D)}for(f in l)if(p=l[f],D=o[f],l.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":F=p;break;case"defaultValue":b=p;break;case"multiple":T=p;default:p!==D&&Zt(i,r,f,p,l,D)}r=b,o=T,l=H,F!=null?Ui(i,!!o,F,!1):!!l!=!!o&&(r!=null?Ui(i,!!o,r,!0):Ui(i,!!o,o?[]:"",!1));return;case"textarea":H=F=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Zt(i,r,b,null,l,f)}for(T in l)if(f=l[T],p=o[T],l.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":F=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Zt(i,r,T,f,l,p)}$t(i,F,H);return;case"option":for(var At in o)if(F=o[At],o.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At))switch(At){case"selected":i.selected=!1;break;default:Zt(i,r,At,null,l,F)}for(D in l)if(F=l[D],H=o[D],l.hasOwnProperty(D)&&F!==H&&(F!=null||H!=null))switch(D){case"selected":i.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Zt(i,r,D,F,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)F=o[vt],o.hasOwnProperty(vt)&&F!=null&&!l.hasOwnProperty(vt)&&Zt(i,r,vt,null,l,F);for(j in l)if(F=l[j],H=o[j],l.hasOwnProperty(j)&&F!==H&&(F!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Zt(i,r,j,F,l,H)}return;default:if(rl(r)){for(var Jt in o)F=o[Jt],o.hasOwnProperty(Jt)&&F!==void 0&&!l.hasOwnProperty(Jt)&&_m(i,r,Jt,void 0,l,F);for(Q in l)F=l[Q],H=o[Q],!l.hasOwnProperty(Q)||F===H||F===void 0&&H===void 0||_m(i,r,Q,F,l,H);return}}for(var L in o)F=o[L],o.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Zt(i,r,L,null,l,F);for(W in l)F=l[W],H=o[W],!l.hasOwnProperty(W)||F===H||F==null&&H==null||Zt(i,r,W,F,l,H)}var Tm=null,Em=null;function sh(i){return i.nodeType===9?i:i.ownerDocument}function R0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Am(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bm=null;function uC(){var i=window.event;return i&&i.type==="popstate"?i===bm?!1:(bm=i,!0):(bm=null,!1)}var I0=typeof setTimeout=="function"?setTimeout:void 0,cC=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,hC=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(i){return D0.resolve(null).then(i).catch(fC)}:I0;function fC(i){setTimeout(function(){throw i})}function Bs(i){return i==="head"}function x0(i,r){var o=r,l=0,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<l&&8>l){o=l;var T=i.ownerDocument;if(o&1&&Hl(T.documentElement),o&2&&Hl(T.body),o&4)for(o=T.head,Hl(o),T=o.firstChild;T;){var b=T.nextSibling,D=T.nodeName;T[Ar]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=b}}if(f===0){i.removeChild(p),Zl(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:l=o.charCodeAt(0)-48;else l=0;o=p}while(o);Zl(r)}function Sm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sm(o),Ts(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function dC(i,r,o,l){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ar])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Qn(i.nextSibling),i===null)break}return null}function mC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Qn(i.nextSibling),i===null))return null;return i}function wm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function pC(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var l=function(){r(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Qn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Rm=null;function V0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function M0(i,r,o){switch(r=sh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Hl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ts(i)}var Un=new Map,O0=new Set;function rh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var is=it.d;it.d={f:gC,r:yC,D:vC,C:_C,L:TC,m:EC,X:bC,S:AC,M:SC};function gC(){var i=is.f(),r=$c();return i||r}function yC(i){var r=ii(i);r!==null&&r.tag===5&&r.type==="form"?Jv(r):is.r(i)}var so=typeof document>"u"?null:document;function N0(i,r,o){var l=so;if(l&&typeof r=="string"&&r){var f=Te(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),O0.has(f)||(O0.add(f),i={rel:i,crossOrigin:o,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),He(r,"link",i),me(r),l.head.appendChild(r)))}}function vC(i){is.D(i),N0("dns-prefetch",i,null)}function _C(i,r){is.C(i,r),N0("preconnect",i,r)}function TC(i,r,o){is.L(i,r,o);var l=so;if(l&&i&&r){var f='link[rel="preload"][as="'+Te(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Te(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Te(o.imageSizes)+'"]')):f+='[href="'+Te(i)+'"]';var p=f;switch(r){case"style":p=ro(i);break;case"script":p=ao(i)}Un.has(p)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Un.set(p,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Gl(p))||r==="script"&&l.querySelector(Kl(p))||(r=l.createElement("link"),He(r,"link",i),me(r),l.head.appendChild(r)))}}function EC(i,r){is.m(i,r);var o=so;if(o&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Te(l)+'"][href="'+Te(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ao(i)}if(!Un.has(p)&&(i=v({rel:"modulepreload",href:i},r),Un.set(p,i),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Kl(p)))return}l=o.createElement("link"),He(l,"link",i),me(l),o.head.appendChild(l)}}}function AC(i,r,o){is.S(i,r,o);var l=so;if(l&&i){var f=sn(l).hoistableStyles,p=ro(i);r=r||"default";var T=f.get(p);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(Gl(p)))b.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Un.get(p))&&Cm(i,o);var D=T=l.createElement("link");me(D),He(D,"link",i),D._p=new Promise(function(j,Q){D.onload=j,D.onerror=Q}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ah(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(p,T)}}}function bC(i,r){is.X(i,r);var o=so;if(o&&i){var l=sn(o).hoistableScripts,f=ao(i),p=l.get(f);p||(p=o.querySelector(Kl(f)),p||(i=v({src:i,async:!0},r),(r=Un.get(f))&&Im(i,r),p=o.createElement("script"),me(p),He(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function SC(i,r){is.M(i,r);var o=so;if(o&&i){var l=sn(o).hoistableScripts,f=ao(i),p=l.get(f);p||(p=o.querySelector(Kl(f)),p||(i=v({src:i,async:!0,type:"module"},r),(r=Un.get(f))&&Im(i,r),p=o.createElement("script"),me(p),He(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function P0(i,r,o,l){var f=(f=wt.current)?rh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ro(o.href),o=sn(f).hoistableStyles,l=o.get(r),l||(l={type:"style",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ro(o.href);var p=sn(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(Gl(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Un.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Un.set(i,o),p||wC(f,i,o,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ao(o),o=sn(f).hoistableScripts,l=o.get(r),l||(l={type:"script",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ro(i){return'href="'+Te(i)+'"'}function Gl(i){return'link[rel="stylesheet"]['+i+"]"}function k0(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function wC(i,r,o,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),He(r,"link",o),me(r),i.head.appendChild(r))}function ao(i){return'[src="'+Te(i)+'"]'}function Kl(i){return"script[async]"+i}function L0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Te(o.href)+'"]');if(l)return r.instance=l,me(l),l;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),me(l),He(l,"style",f),ah(l,o.precedence,i),r.instance=l;case"stylesheet":f=ro(o.href);var p=i.querySelector(Gl(f));if(p)return r.state.loading|=4,r.instance=p,me(p),p;l=k0(o),(f=Un.get(f))&&Cm(l,f),p=(i.ownerDocument||i).createElement("link"),me(p);var T=p;return T._p=new Promise(function(b,D){T.onload=b,T.onerror=D}),He(p,"link",l),r.state.loading|=4,ah(p,o.precedence,i),r.instance=p;case"script":return p=ao(o.src),(f=i.querySelector(Kl(p)))?(r.instance=f,me(f),f):(l=o,(f=Un.get(p))&&(l=v({},o),Im(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),me(f),He(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ah(l,o.precedence,i));return r.instance}function ah(i,r,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===r)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Cm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Im(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var oh=null;function U0(i,r,o){if(oh===null){var l=new Map,f=oh=new Map;f.set(o,l)}else f=oh,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(i))return l;for(l.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Ar]||p[Re]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var b=l.get(T);b?b.push(p):l.set(T,[p])}}return l}function B0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function RC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function z0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Yl=null;function CC(){}function IC(i,r,o){if(Yl===null)throw Error(s(475));var l=Yl;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ro(o.href),p=i.querySelector(Gl(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=lh.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=p,me(p);return}p=i.ownerDocument||i,o=k0(o),(f=Un.get(f))&&Cm(o,f),p=p.createElement("link"),me(p);var T=p;T._p=new Promise(function(b,D){T.onload=b,T.onerror=D}),He(p,"link",o),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=lh.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function DC(){if(Yl===null)throw Error(s(475));var i=Yl;return i.stylesheets&&i.count===0&&Dm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Dm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function lh(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var uh=null;function Dm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,uh=new Map,r.forEach(xC,i),uh=null,lh.call(i))}function xC(i,r){if(!(r.state.loading&4)){var o=uh.get(i);if(o)var l=o.get(null);else{o=new Map,uh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),l=T)}l&&o.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||l,p===l&&o.set(null,f),o.set(T,f),this.count++,l=lh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Ql={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function VC(i,r,o,l,f,p,T,b){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function j0(i,r,o,l,f,p,T,b,D,j,Q,W){return i=new VC(i,r,o,T,b,D,j,W),r=1,p===!0&&(r|=24),p=_n(3,null,null,r),i.current=p,p.stateNode=i,r=cd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:o,cache:r},md(p),i}function F0(i){return i?(i=La,i):La}function q0(i,r,o,l,f,p){f=F0(f),l.context===null?l.context=f:l.pendingContext=f,l=Rs(r),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=Cs(i,l,r),o!==null&&(Sn(o,i,r),Sl(o,i,r))}function H0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function xm(i,r){H0(i,r),(i=i.alternate)&&H0(i,r)}function G0(i){if(i.tag===13){var r=ka(i,67108864);r!==null&&Sn(r,i,67108864),xm(i,67108864)}}var ch=!0;function MC(i,r,o,l){var f=K.T;K.T=null;var p=it.p;try{it.p=2,Vm(i,r,o,l)}finally{it.p=p,K.T=f}}function OC(i,r,o,l){var f=K.T;K.T=null;var p=it.p;try{it.p=8,Vm(i,r,o,l)}finally{it.p=p,K.T=f}}function Vm(i,r,o,l){if(ch){var f=Mm(l);if(f===null)vm(i,r,l,hh,o),Y0(i,l);else if(PC(f,i,r,o,l))l.stopPropagation();else if(Y0(i,l),r&4&&-1<NC.indexOf(i)){for(;f!==null;){var p=ii(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=qn(p.pendingLanes);if(T!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var D=1<<31-Xe(T);b.entanglements[1]|=D,T&=~D}yi(p),(Qt&6)===0&&(Qc=Rn()+500,jl(0))}}break;case 13:b=ka(p,2),b!==null&&Sn(b,p,2),$c(),xm(p,2)}if(p=Mm(l),p===null&&vm(i,r,l,hh,o),p===f)break;f=p}f!==null&&l.stopPropagation()}else vm(i,r,l,null,o)}}function Mm(i){return i=Dn(i),Om(i)}var hh=null;function Om(i){if(hh=null,i=Pi(i),i!==null){var r=u(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return hh=i,null}function K0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kf()){case Ko:return 2;case pa:return 8;case yr:case Lf:return 32;case ga:return 268435456;default:return 32}default:return 32}}var Nm=!1,zs=null,js=null,Fs=null,Xl=new Map,$l=new Map,qs=[],NC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y0(i,r){switch(i){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(r.pointerId)}}function Wl(i,r,o,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=ii(r),r!==null&&G0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function PC(i,r,o,l,f){switch(r){case"focusin":return zs=Wl(zs,i,r,o,l,f),!0;case"dragenter":return js=Wl(js,i,r,o,l,f),!0;case"mouseover":return Fs=Wl(Fs,i,r,o,l,f),!0;case"pointerover":var p=f.pointerId;return Xl.set(p,Wl(Xl.get(p)||null,i,r,o,l,f)),!0;case"gotpointercapture":return p=f.pointerId,$l.set(p,Wl($l.get(p)||null,i,r,o,l,f)),!0}return!1}function Q0(i){var r=Pi(i.target);if(r!==null){var o=u(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,$u(i.priority,function(){if(o.tag===13){var l=bn();l=ys(l);var f=ka(o,l);f!==null&&Sn(f,o,l),xm(o,l)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Mm(i.nativeEvent);if(o===null){o=i.nativeEvent;var l=new o.constructor(o.type,o);Bi=l,o.target.dispatchEvent(l),Bi=null}else return r=ii(o),r!==null&&G0(r),i.blockedOn=o,!1;r.shift()}return!0}function X0(i,r,o){fh(i)&&o.delete(r)}function kC(){Nm=!1,zs!==null&&fh(zs)&&(zs=null),js!==null&&fh(js)&&(js=null),Fs!==null&&fh(Fs)&&(Fs=null),Xl.forEach(X0),$l.forEach(X0)}function dh(i,r){i.blockedOn===r&&(i.blockedOn=null,Nm||(Nm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kC)))}var mh=null;function $0(i){mh!==i&&(mh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mh===i&&(mh=null);for(var r=0;r<i.length;r+=3){var o=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(Om(l||o)===null)continue;break}var p=ii(o);p!==null&&(i.splice(r,3),r-=3,Od(p,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function Zl(i){function r(D){return dh(D,i)}zs!==null&&dh(zs,i),js!==null&&dh(js,i),Fs!==null&&dh(Fs,i),Xl.forEach(r),$l.forEach(r);for(var o=0;o<qs.length;o++){var l=qs[o];l.blockedOn===i&&(l.blockedOn=null)}for(;0<qs.length&&(o=qs[0],o.blockedOn===null);)Q0(o),o.blockedOn===null&&qs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],p=o[l+1],T=f[_e]||null;if(typeof p=="function")T||$0(o);else if(T){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[_e]||null)b=T.formAction;else if(Om(f)!==null)continue}else b=T.action;typeof b=="function"?o[l+1]=b:(o.splice(l,3),l-=3),$0(o)}}}function Pm(i){this._internalRoot=i}ph.prototype.render=Pm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,l=bn();q0(o,l,i,r,null,null)},ph.prototype.unmount=Pm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;q0(i.current,2,null,i,null,null),$c(),r[Cn]=null}};function ph(i){this._internalRoot=i}ph.prototype.unstable_scheduleHydration=function(i){if(i){var r=vs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<qs.length&&r!==0&&r<qs[o].priority;o++);qs.splice(o,0,i),o===0&&Q0(i)}};var W0=t.version;if(W0!=="19.1.0")throw Error(s(527,W0,"19.1.0"));it.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var LC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{ce=gh.inject(LC),Yt=gh}catch{}}return tu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,l="",f=d_,p=m_,T=p_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=j0(i,1,!1,null,null,o,l,f,p,T,b,null),i[Cn]=r.current,ym(i),new Pm(r)},tu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var l=!1,f="",p=d_,T=m_,b=p_,D=null,j=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(j=o.formState)),r=j0(i,1,!0,r,o??null,l,f,p,T,b,D,j),r.context=F0(null),o=r.current,l=bn(),l=ys(l),f=Rs(l),f.callback=null,Cs(o,f,l),o=l,r.current.lanes=o,Ni(r,o),yi(r),i[Cn]=r.current,ym(i),new ph(r)},tu.version="19.1.0",tu}var oT;function YC(){if(oT)return Um.exports;oT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Um.exports=KC(),Um.exports}var QC=YC();const XC=()=>{};var lT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},$C=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[e++];t[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[e++],c=n[e++],d=n[e++],m=((a&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|c&63)}}return t.join("")},ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const u=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,C=g&63;m||(C=64,c||(A=64)),s.push(e[v],e[E],e[A],e[C])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(rb(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):$C(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const u=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const E=a<n.length?e[n.charAt(a)]:64;if(++a,u==null||d==null||g==null||E==null)throw new WC;const A=u<<2|d>>4;if(s.push(A),g!==64){const C=d<<4&240|g>>2;if(s.push(C),E!==64){const k=g<<6&192|E;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZC=function(n){const t=rb(n);return ab.encodeByteArray(t,!0)},Fh=function(n){return ZC(n).replace(/\./g,"")},ob=function(n){try{return ab.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=()=>JC().__FIREBASE_DEFAULTS__,eI=()=>{if(typeof process>"u"||typeof lT>"u")return;const n=lT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&ob(n[1]);return t&&JSON.parse(t)},mf=()=>{try{return XC()||tI()||eI()||nI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lb=n=>{var t,e;return(e=(t=mf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},ub=n=>{const t=lb(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},cb=()=>{var n;return(n=mf())===null||n===void 0?void 0:n.config},hb=n=>{var t;return(t=mf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(n){return n.endsWith(".cloudworkstations.dev")}async function hg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fh(JSON.stringify(e)),Fh(JSON.stringify(c)),""].join(".")}const ou={};function sI(){const n={prod:[],emulator:[]};for(const t of Object.keys(ou))ou[t]?n.emulator.push(t):n.prod.push(t);return n}function rI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let uT=!1;function fg(n,t){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||ou[n]===t||ou[n]||uT)return;ou[n]=t;function e(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=sI().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,C){A.setAttribute("width","24"),A.setAttribute("id",C),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{uT=!0,c()},A}function v(A,C){A.setAttribute("id",C),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=rI(s),C=e("text"),k=document.getElementById(C)||document.createElement("span"),q=e("learnmore"),U=document.getElementById(q)||document.createElement("a"),X=e("preprendIcon"),J=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Y=A.element;d(Y),v(U,q);const rt=g();m(J,X),Y.append(J,k,U,rt),document.body.appendChild(Y)}u?(k.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function oI(){var n;const t=(n=mf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hI(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fI(){return!oI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dI(){try{return typeof indexedDB=="object"}catch{return!1}}function mI(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var u;t(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="FirebaseError";class xi extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=pI,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,u=this.errors[t],c=u?gI(u,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new xi(a,d,s)}}function gI(n,t){return n.replace(yI,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const yI=/\{\$([^}]+)}/g;function vI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function aa(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const u=n[a],c=t[a];if(cT(u)&&cT(c)){if(!aa(u,c))return!1}else if(u!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function cT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function _I(n,t){const e=new TI(n,t);return e.subscribe.bind(e)}class TI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");EI(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=Fm),a.error===void 0&&(a.error=Fm),a.complete===void 0&&(a.complete=Fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class ir{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new iI;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SI(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(a)}return a}onInit(t,e){var s;const a=this.normalizeInstanceIdentifier(e),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(a,u);const c=this.instances.get(a);return c&&t(c,a),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bI(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bI(n){return n===Zr?void 0:n}function SI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new AI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kt||(kt={}));const RI={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},CI=kt.INFO,II={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},DI=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=II[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dg{constructor(t){this.name=t,this._logLevel=CI,this._logHandler=DI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const xI=(n,t)=>t.some(e=>n instanceof e);let hT,fT;function VI(){return hT||(hT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MI(){return fT||(fT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const db=new WeakMap,yp=new WeakMap,mb=new WeakMap,qm=new WeakMap,mg=new WeakMap;function OI(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(Ws(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&db.set(e,n)}).catch(()=>{}),mg.set(t,n),t}function NI(n){if(yp.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});yp.set(n,t)}let vp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return yp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||mb.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ws(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function PI(n){vp=n(vp)}function kI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Hm(this),t,...e);return mb.set(s,t.sort?t.sort():[t]),Ws(s)}:MI().includes(n)?function(...t){return n.apply(Hm(this),t),Ws(db.get(this))}:function(...t){return Ws(n.apply(Hm(this),t))}}function LI(n){return typeof n=="function"?kI(n):(n instanceof IDBTransaction&&NI(n),xI(n,VI())?new Proxy(n,vp):n)}function Ws(n){if(n instanceof IDBRequest)return OI(n);if(qm.has(n))return qm.get(n);const t=LI(n);return t!==n&&(qm.set(n,t),mg.set(t,n)),t}const Hm=n=>mg.get(n);function UI(n,t,{blocked:e,upgrade:s,blocking:a,terminated:u}={}){const c=indexedDB.open(n,t),d=Ws(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Ws(c.result),m.oldVersion,m.newVersion,Ws(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const BI=["get","getKey","getAll","getAllKeys","count"],zI=["put","add","delete","clear"],Gm=new Map;function dT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Gm.get(t))return Gm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=zI.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||BI.includes(e)))return;const u=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),a&&m.done]))[0]};return Gm.set(t,u),u}PI(n=>({...n,get:(t,e,s)=>dT(t,e)||n.get(t,e,s),has:(t,e)=>!!dT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(FI(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function FI(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _p="@firebase/app",mT="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new dg("@firebase/app"),qI="@firebase/app-compat",HI="@firebase/analytics-compat",GI="@firebase/analytics",KI="@firebase/app-check-compat",YI="@firebase/app-check",QI="@firebase/auth",XI="@firebase/auth-compat",$I="@firebase/database",WI="@firebase/data-connect",ZI="@firebase/database-compat",JI="@firebase/functions",t2="@firebase/functions-compat",e2="@firebase/installations",n2="@firebase/installations-compat",i2="@firebase/messaging",s2="@firebase/messaging-compat",r2="@firebase/performance",a2="@firebase/performance-compat",o2="@firebase/remote-config",l2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",h2="@firebase/firestore",f2="@firebase/ai",d2="@firebase/firestore-compat",m2="firebase",p2="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",g2={[_p]:"fire-core",[qI]:"fire-core-compat",[GI]:"fire-analytics",[HI]:"fire-analytics-compat",[YI]:"fire-app-check",[KI]:"fire-app-check-compat",[QI]:"fire-auth",[XI]:"fire-auth-compat",[$I]:"fire-rtdb",[WI]:"fire-data-connect",[ZI]:"fire-rtdb-compat",[JI]:"fire-fn",[t2]:"fire-fn-compat",[e2]:"fire-iid",[n2]:"fire-iid-compat",[i2]:"fire-fcm",[s2]:"fire-fcm-compat",[r2]:"fire-perf",[a2]:"fire-perf-compat",[o2]:"fire-rc",[l2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[h2]:"fire-fst",[d2]:"fire-fst-compat",[f2]:"fire-vertex","fire-js":"fire-js",[m2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,y2=new Map,Ep=new Map;function pT(n,t){try{n.container.addComponent(t)}catch(e){ls.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function oa(n){const t=n.name;if(Ep.has(t))return ls.debug(`There were multiple attempts to register component ${t}.`),!1;Ep.set(t,n);for(const e of qh.values())pT(e,n);for(const e of y2.values())pT(e,n);return!0}function pf(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function $n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Pu("app","Firebase",v2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=p2;function pb(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Tp,automaticDataCollectionEnabled:!0},t),a=s.name;if(typeof a!="string"||!a)throw Zs.create("bad-app-name",{appName:String(a)});if(e||(e=cb()),!e)throw Zs.create("no-options");const u=qh.get(a);if(u){if(aa(e,u.options)&&aa(s,u.config))return u;throw Zs.create("duplicate-app",{appName:a})}const c=new wI(a);for(const m of Ep.values())c.addComponent(m);const d=new _2(e,s,c);return qh.set(a,d),d}function pg(n=Tp){const t=qh.get(n);if(!t&&n===Tp&&cb())return pb();if(!t)throw Zs.create("no-app",{appName:n});return t}function _i(n,t,e){var s;let a=(s=g2[n])!==null&&s!==void 0?s:n;e&&(a+=`-${e}`);const u=a.match(/\s|\//),c=t.match(/\s|\//);if(u||c){const d=[`Unable to register library "${a}" with version "${t}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}oa(new ir(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebase-heartbeat-database",E2=1,_u="firebase-heartbeat-store";let Km=null;function gb(){return Km||(Km=UI(T2,E2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(_u)}catch(e){console.warn(e)}}}}).catch(n=>{throw Zs.create("idb-open",{originalErrorMessage:n.message})})),Km}async function A2(n){try{const e=(await gb()).transaction(_u),s=await e.objectStore(_u).get(yb(n));return await e.done,s}catch(t){if(t instanceof xi)ls.warn(t.message);else{const e=Zs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ls.warn(e.message)}}}async function gT(n,t){try{const s=(await gb()).transaction(_u,"readwrite");await s.objectStore(_u).put(t,yb(n)),await s.done}catch(e){if(e instanceof xi)ls.warn(e.message);else{const s=Zs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ls.warn(s.message)}}}function yb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=1024,S2=30;class w2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new C2(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=yT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>S2){const c=I2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ls.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yT(),{heartbeatsToSend:s,unsentEntries:a}=R2(this._heartbeatsCache.heartbeats),u=Fh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ls.warn(e),""}}}function yT(){return new Date().toISOString().substring(0,10)}function R2(n,t=b2){const e=[];let s=n.slice();for(const a of n){const u=e.find(c=>c.agent===a.agent);if(u){if(u.dates.push(a.date),vT(e)>t){u.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),vT(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class C2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dI()?mI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await A2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return gT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return gT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function vT(n){return Fh(JSON.stringify({version:2,heartbeats:n})).length}function I2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(n){oa(new ir("platform-logger",t=>new jI(t),"PRIVATE")),oa(new ir("heartbeat",t=>new w2(t),"PRIVATE")),_i(_p,mT,n),_i(_p,mT,"esm2017"),_i("fire-js","")}D2("");function gg(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e}function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x2=vb,_b=new Pu("auth","Firebase",vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new dg("@firebase/auth");function V2(n,...t){Hh.logLevel<=kt.WARN&&Hh.warn(`Auth (${ca}): ${n}`,...t)}function Ih(n,...t){Hh.logLevel<=kt.ERROR&&Hh.error(`Auth (${ca}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(n,...t){throw yg(n,...t)}function Ti(n,...t){return yg(n,...t)}function Tb(n,t,e){const s=Object.assign(Object.assign({},x2()),{[t]:e});return new Pu("auth","Firebase",s).create(t,{appName:n.name})}function ia(n){return Tb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yg(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return _b.create(n,...t)}function Tt(n,t,...e){if(!n)throw yg(t,...e)}function as(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ih(t),new Error(t)}function cs(n,t){n||as(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function M2(){return _T()==="http:"||_T()==="https:"}function _T(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M2()||uI()||"connection"in navigator)?navigator.onLine:!0}function N2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,e){this.shortDelay=t,this.longDelay=e,cs(e>t,"Short delay should be less than long delay!"),this.isMobile=aI()||cI()}get(){return O2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n,t){cs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L2=new Lu(3e4,6e4);function _g(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Po(n,t,e,s,a={}){return Ab(n,a,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=ku(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:m},u);return lI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&No(n.emulatorConfig.host)&&(g.credentials="include"),Eb.fetch()(await bb(n,n.config.apiHost,e,d),g)})}async function Ab(n,t,e){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},P2),t);try{const a=new B2(n),u=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw yh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw yh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw yh(n,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Tb(n,v,g);us(n,v)}}catch(a){if(a instanceof xi)throw a;us(n,"network-request-failed",{message:String(a)})}}async function U2(n,t,e,s,a={}){const u=await Po(n,t,e,s,a);return"mfaPendingCredential"in u&&us(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function bb(n,t,e,s){const a=`${t}${e}?${s}`,u=n,c=u.config.emulator?vg(n.config,a):`${n.config.apiScheme}://${a}`;return k2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class B2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Ti(this.auth,"network-request-failed")),L2.get())})}}function yh(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=Ti(n,t,s);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,t){return Po(n,"POST","/v1/accounts:delete",t)}async function Gh(n,t){return Po(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function j2(n,t=!1){const e=cn(n),s=await e.getIdToken(t),a=Tg(s);Tt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:a,token:s,authTime:lu(Ym(a.auth_time)),issuedAtTime:lu(Ym(a.iat)),expirationTime:lu(Ym(a.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ym(n){return Number(n)*1e3}function Tg(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const a=ob(e);return a?JSON.parse(a):(Ih("Failed to decode base64 JWT payload"),null)}catch(a){return Ih("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function TT(n){const t=Tg(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof xi&&F2(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function F2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n){var t;const e=n.auth,s=await n.getIdToken(),a=await Tu(n,Gh(e,{idToken:s}));Tt(a==null?void 0:a.users.length,e,"internal-error");const u=a.users[0];n._notifyReloadListener(u);const c=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?Sb(u.providerUserInfo):[],d=G2(n.providerData,c),m=n.isAnonymous,g=!(n.email&&u.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new bp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function H2(n){const t=cn(n);await Kh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function G2(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Sb(n){return n.map(t=>{var{providerId:e}=t,s=gg(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(n,t){const e=await Ab(n,{},async()=>{const s=ku({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,c=await bb(n,a,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Eb.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Y2(n,t){return Po(n,"POST","/v2/accounts:revokeToken",_g(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):TT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=TT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:u}=await K2(t,e);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:u}=e,c=new vo;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),u&&(Tt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Wn{constructor(t){var{uid:e,auth:s,stsTokenManager:a}=t,u=gg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new bp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await Tu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return j2(this,t)}reload(){return H2(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Wn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(ia(this.auth));const t=await this.getIdToken();return await Tu(this,z2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,a,u,c,d,m,g,v;const E=(s=e.displayName)!==null&&s!==void 0?s:void 0,A=(a=e.email)!==null&&a!==void 0?a:void 0,C=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,k=(c=e.photoURL)!==null&&c!==void 0?c:void 0,q=(d=e.tenantId)!==null&&d!==void 0?d:void 0,U=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,X=(g=e.createdAt)!==null&&g!==void 0?g:void 0,J=(v=e.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Y,emailVerified:rt,isAnonymous:et,providerData:ht,stsTokenManager:V}=e;Tt(Y&&V,t,"internal-error");const w=vo.fromJSON(this.name,V);Tt(typeof Y=="string",t,"internal-error"),Gs(E,t.name),Gs(A,t.name),Tt(typeof rt=="boolean",t,"internal-error"),Tt(typeof et=="boolean",t,"internal-error"),Gs(C,t.name),Gs(k,t.name),Gs(q,t.name),Gs(U,t.name),Gs(X,t.name),Gs(J,t.name);const I=new Wn({uid:Y,auth:t,email:A,emailVerified:rt,displayName:E,isAnonymous:et,photoURL:k,phoneNumber:C,tenantId:q,stsTokenManager:w,createdAt:X,lastLoginAt:J});return ht&&Array.isArray(ht)&&(I.providerData=ht.map(O=>Object.assign({},O))),U&&(I._redirectEventId=U),I}static async _fromIdTokenResponse(t,e,s=!1){const a=new vo;a.updateFromServerResponse(e);const u=new Wn({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Kh(u),u}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];Tt(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?Sb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),d=new vo;d.updateFromIdToken(s);const m=new Wn({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new bp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;function os(n){cs(n instanceof Function,"Expected a class definition");let t=ET.get(n);return t?(cs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ET.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}wb.type="NONE";const AT=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n,t,e){return`firebase:${n}:${t}:${e}`}class _o{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=Dh(this.userKey,a.apiKey,u),this.fullPersistenceKey=Dh("persistence",a.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Gh(this.auth,{idToken:t}).catch(()=>{});return e?Wn._fromGetAccountInfoResponse(this.auth,e,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new _o(os(AT),t,s);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=a[0]||os(AT);const c=Dh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const A=await Gh(t,{idToken:v}).catch(()=>{});if(!A)break;E=await Wn._fromGetAccountInfoResponse(t,A,v)}else E=Wn._fromJSON(t,v);g!==u&&(d=E),u=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new _o(u,t,s):(u=m[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new _o(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Db(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vb(t))return"Blackberry";if(Mb(t))return"Webos";if(Cb(t))return"Safari";if((t.includes("chrome/")||Ib(t))&&!t.includes("edge/"))return"Chrome";if(xb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Rb(n=nn()){return/firefox\//i.test(n)}function Cb(n=nn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ib(n=nn()){return/crios\//i.test(n)}function Db(n=nn()){return/iemobile/i.test(n)}function xb(n=nn()){return/android/i.test(n)}function Vb(n=nn()){return/blackberry/i.test(n)}function Mb(n=nn()){return/webos/i.test(n)}function Eg(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Q2(n=nn()){var t;return Eg(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function X2(){return hI()&&document.documentMode===10}function Ob(n=nn()){return Eg(n)||xb(n)||Mb(n)||Vb(n)||/windows phone/i.test(n)||Db(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(n,t=[]){let e;switch(n){case"Browser":e=bT(nn());break;case"Worker":e=`${bT(nn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ca}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((c,d)=>{try{const m=t(u);c(m)}catch(m){d(m)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(n,t={}){return Po(n,"GET","/v2/passwordPolicy",_g(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=6;class J2{constructor(t){var e,s,a,u;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:Z2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,a,u,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ST(this),this.idTokenSubscription=new ST(this),this.beforeStateQueue=new $2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=os(e)),this._initializationPromise=this.queue(async()=>{var s,a,u;if(!this._deleted&&(this.persistenceManager=await _o.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Gh(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Kh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=N2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(ia(this));const e=t?cn(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await W2(this),e=new J2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await Y2(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&os(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[os(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(e);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&V2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ag(n){return cn(n)}class ST{constructor(t){this.auth=t,this.observer=null,this.addObserver=_I(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eD(n){bg=n}function nD(n){return bg.loadJS(n)}function iD(){return bg.gapiScript}function sD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n,t){const e=pf(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),u=e.getOptions();if(aa(u,t??{}))return a;us(a,"already-initialized")}return e.initialize({options:t})}function aD(n,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(os);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function oD(n,t,e){const s=Ag(n);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,u=Pb(t),{host:c,port:d}=lD(t),m=d===null?"":`:${d}`,g={url:`${u}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(aa(g,s.config.emulator)&&aa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,No(c)?(hg(`${u}//${c}${m}`),fg("Auth",!0)):uD()}function Pb(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function lD(n){const t=Pb(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:wT(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:wT(c)}}}function wT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function uD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,e){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(n,t){return U2(n,"POST","/v1/accounts:signInWithIdp",_g(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="http://localhost";class hs extends kb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new hs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):us("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=e,u=gg(e,["providerId","signInMethod"]);if(!s||!a)return null;const c=new hs(s,a);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return To(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,To(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,To(t,e)}buildRequest(){const t={requestUri:cD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ku(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Lb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class uu extends ko{static credentialFromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;return Tt("providerId"in e&&"signInMethod"in e,"argument-error"),hs._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return Tt(t.idToken||t.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return uu.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return uu.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:u,nonce:c,providerId:d}=t;if(!s&&!a&&!e&&!u||!d)return null;try{return new uu(d)._credential({idToken:e,accessToken:s,nonce:c,pendingToken:u})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends ko{constructor(){super("facebook.com")}static credential(t){return hs._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return hs._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return rs.credential(e,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends ko{constructor(){super("github.com")}static credential(t){return hs._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends ko{constructor(){super("twitter.com")}static credential(t,e){return hs._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Xs.credential(e,s)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const u=await Wn._fromIdTokenResponse(t,s,a),c=RT(s);return new bo({user:u,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=RT(s);return new bo({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function RT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends xi{constructor(t,e,s,a){var u;super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new Yh(t,e,s,a)}}function Ub(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(n,u,t,s):u})}async function hD(n,t,e=!1){const s=await Tu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return bo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,t,e=!1){const{auth:s}=n;if($n(s.app))return Promise.reject(ia(s));const a="reauthenticate";try{const u=await Tu(n,Ub(s,a,t,n),e);Tt(u.idToken,s,"internal-error");const c=Tg(u.idToken);Tt(c,s,"internal-error");const{sub:d}=c;return Tt(n.uid===d,s,"user-mismatch"),bo._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&us(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,t,e=!1){if($n(n.app))return Promise.reject(ia(n));const s="signIn",a=await Ub(n,s,t),u=await bo._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(u.user),u}function mD(n,t,e,s){return cn(n).onIdTokenChanged(t,e,s)}function pD(n,t,e){return cn(n).beforeAuthStateChanged(t,e)}function gD(n,t,e,s){return cn(n).onAuthStateChanged(t,e,s)}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=1e3,vD=10;class zb extends Bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ob(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);X2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,vD):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},yD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}zb.type="LOCAL";const _D=zb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends Bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}jb.type="SESSION";const Fb=jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new gf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:u}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(e.origin,u)),m=await TD(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,c;return new Promise((d,m)=>{const g=Sg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function AD(n){Ei().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function bD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function wD(){return qb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebaseLocalStorageDb",RD=1,Xh="firebaseLocalStorage",Gb="fbase_key";class Uu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function yf(n,t){return n.transaction([Xh],t?"readwrite":"readonly").objectStore(Xh)}function CD(){const n=indexedDB.deleteDatabase(Hb);return new Uu(n).toPromise()}function Sp(){const n=indexedDB.open(Hb,RD);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Xh,{keyPath:Gb})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Xh)?t(s):(s.close(),await CD(),t(await Sp()))})})}async function CT(n,t,e){const s=yf(n,!0).put({[Gb]:t,value:e});return new Uu(s).toPromise()}async function ID(n,t){const e=yf(n,!1).get(t),s=await new Uu(e).toPromise();return s===void 0?null:s.value}function IT(n,t){const e=yf(n,!0).delete(t);return new Uu(e).toPromise()}const DD=800,xD=3;class Kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>xD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(wD()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await bD(),!this.activeServiceWorker)return;this.sender=new ED(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sp();return await CT(t,Qh,"1"),await IT(t,Qh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>CT(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>ID(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>IT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const u=yf(a,!1).getAll();return new Uu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:u}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kb.type="LOCAL";const VD=Kb;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n,t){return t?os(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends kb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return To(t,this._buildIdpRequest())}_linkToIdToken(t,e){return To(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return To(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function OD(n){return dD(n.auth,new wg(n),n.bypassAuthState)}function ND(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),fD(e,new wg(n),n.bypassAuthState)}async function PD(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),hD(e,new wg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,e,s,a,u=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OD;case"linkViaPopup":case"linkViaRedirect":return PD;case"reauthViaPopup":case"reauthViaRedirect":return ND;default:us(this.auth,"internal-error")}}resolve(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Lu(2e3,1e4);class ho extends Yb{constructor(t,e,s,a,u){super(t,e,a,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const t=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kD.get())};t()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="pendingRedirect",xh=new Map;class UD extends Yb{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=xh.get(this.auth._key());if(!t){try{const s=await BD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}xh.set(this.auth._key(),t)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BD(n,t){const e=FD(t),s=jD(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function zD(n,t){xh.set(n._key(),t)}function jD(n){return os(n._redirectPersistence)}function FD(n){return Dh(LD,n.config.apiKey,n.name)}async function qD(n,t,e=!1){if($n(n.app))return Promise.reject(ia(n));const s=Ag(n),a=MD(s,t),c=await new UD(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=10*60*1e3;class GD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!KD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!Qb(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Ti(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=HD&&this.cachedEventUids.clear(),this.cachedEventUids.has(DT(t))}saveEventToCache(t){this.cachedEventUids.add(DT(t)),this.lastProcessedEventTime=Date.now()}}function DT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Qb({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function KD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,t={}){return Po(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XD=/^https?/;async function $D(n){if(n.config.emulator)return;const{authorizedDomains:t}=await YD(n);for(const e of t)try{if(WD(e))return}catch{}us(n,"unauthorized-domain")}function WD(n){const t=Ap(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!XD.test(e))return!1;if(QD.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Lu(3e4,6e4);function xT(){const n=Ei().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function JD(n){return new Promise((t,e)=>{var s,a,u;function c(){xT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xT(),e(Ti(n,"network-request-failed"))},timeout:ZD.get()})}if(!((a=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((u=Ei().gapi)===null||u===void 0)&&u.load)c();else{const d=sD("iframefcb");return Ei()[d]=()=>{gapi.load?c():e(Ti(n,"network-request-failed"))},nD(`${iD()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw Vh=null,t})}let Vh=null;function tx(n){return Vh=Vh||JD(n),Vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Lu(5e3,15e3),nx="__/auth/iframe",ix="emulator/auth/iframe",sx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ax(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?vg(t,ix):`https://${n.config.authDomain}/${nx}`,s={apiKey:t.apiKey,appName:n.name,v:ca},a=rx.get(n.config.apiHost);a&&(s.eid=a);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${ku(s).slice(1)}`}async function ox(n){const t=await tx(n),e=Ei().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:ax(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sx,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ti(n,"network-request-failed"),d=Ei().setTimeout(()=>{u(c)},ex.get());function m(){Ei().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ux=500,cx=600,hx="_blank",fx="http://localhost";class VT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dx(n,t,e,s=ux,a=cx){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},lx),{width:s.toString(),height:a.toString(),top:u,left:c}),g=nn().toLowerCase();e&&(d=Ib(g)?hx:e),Rb(g)&&(t=t||fx,m.scrollbars="yes");const v=Object.entries(m).reduce((A,[C,k])=>`${A}${C}=${k},`,"");if(Q2(g)&&d!=="_self")return mx(t||"",d),new VT(null);const E=window.open(t||"",d,v);Tt(E,n,"popup-blocked");try{E.focus()}catch{}return new VT(E)}function mx(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="__/auth/handler",gx="emulator/auth/handler",yx=encodeURIComponent("fac");async function MT(n,t,e,s,a,u){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:ca,eventId:a};if(t instanceof Lb){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",vI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof ko){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),g=m?`#${yx}=${encodeURIComponent(m)}`:"";return`${vx(n)}?${ku(d).slice(1)}${g}`}function vx({config:n}){return n.emulator?vg(n,gx):`https://${n.authDomain}/${px}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="webStorageSupport";class _x{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=qD,this._overrideRedirectResult=zD}async _openPopup(t,e,s,a){var u;cs((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await MT(t,e,s,Ap(),a);return dx(t,c,Sg())}async _openRedirect(t,e,s,a){await this._originValidation(t);const u=await MT(t,e,s,Ap(),a);return AD(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:u}=this.eventManagers[e];return a?Promise.resolve(a):(cs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await ox(t),s=new GD(t);return e.register("authEvent",a=>(Tt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Qm,{type:Qm},a=>{var u;const c=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[Qm];c!==void 0&&e(!!c),us(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=$D(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ob()||Cb()||Eg()}}const Tx=_x;var OT="@firebase/auth",NT="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bx(n){oa(new ir("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(n)},g=new tD(s,a,u,m);return aD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),oa(new ir("auth-internal",t=>{const e=Ag(t.getProvider("auth").getImmediate());return(s=>new Ex(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(OT,NT,Ax(n)),_i(OT,NT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=5*60,wx=hb("authIdTokenMaxAge")||Sx;let PT=null;const Rx=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>wx)return;const a=e==null?void 0:e.token;PT!==a&&(PT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Cx(n=pg()){const t=pf(n,"auth");if(t.isInitialized())return t.getImmediate();const e=rD(n,{popupRedirectResolver:Tx,persistence:[VD,_D,Fb]}),s=hb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=Rx(u.toString());pD(e,c,()=>c(e.currentUser)),mD(e,d=>c(d))}}const a=lb("auth");return a&&oD(e,`http://${a}`),e}function Ix(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}eD({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const u=Ti("internal-error");u.customData=a,e(u)},s.type="text/javascript",s.charset="UTF-8",Ix().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bx("Browser");var Dx="firebase",xx="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(Dx,xx,"app");var kT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,Xb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function I(){}I.prototype=w.prototype,V.D=w.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(O,P,x){for(var R=Array(arguments.length-2),St=2;St<arguments.length;St++)R[St-2]=arguments[St];return w.prototype[P].apply(O,R)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,w,I){I||(I=0);var O=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)O[P]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(P=0;16>P;++P)O[P]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=V.g[0],I=V.g[1],P=V.g[2];var x=V.g[3],R=w+(x^I&(P^x))+O[0]+3614090360&4294967295;w=I+(R<<7&4294967295|R>>>25),R=x+(P^w&(I^P))+O[1]+3905402710&4294967295,x=w+(R<<12&4294967295|R>>>20),R=P+(I^x&(w^I))+O[2]+606105819&4294967295,P=x+(R<<17&4294967295|R>>>15),R=I+(w^P&(x^w))+O[3]+3250441966&4294967295,I=P+(R<<22&4294967295|R>>>10),R=w+(x^I&(P^x))+O[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=x+(P^w&(I^P))+O[5]+1200080426&4294967295,x=w+(R<<12&4294967295|R>>>20),R=P+(I^x&(w^I))+O[6]+2821735955&4294967295,P=x+(R<<17&4294967295|R>>>15),R=I+(w^P&(x^w))+O[7]+4249261313&4294967295,I=P+(R<<22&4294967295|R>>>10),R=w+(x^I&(P^x))+O[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=x+(P^w&(I^P))+O[9]+2336552879&4294967295,x=w+(R<<12&4294967295|R>>>20),R=P+(I^x&(w^I))+O[10]+4294925233&4294967295,P=x+(R<<17&4294967295|R>>>15),R=I+(w^P&(x^w))+O[11]+2304563134&4294967295,I=P+(R<<22&4294967295|R>>>10),R=w+(x^I&(P^x))+O[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=x+(P^w&(I^P))+O[13]+4254626195&4294967295,x=w+(R<<12&4294967295|R>>>20),R=P+(I^x&(w^I))+O[14]+2792965006&4294967295,P=x+(R<<17&4294967295|R>>>15),R=I+(w^P&(x^w))+O[15]+1236535329&4294967295,I=P+(R<<22&4294967295|R>>>10),R=w+(P^x&(I^P))+O[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=x+(I^P&(w^I))+O[6]+3225465664&4294967295,x=w+(R<<9&4294967295|R>>>23),R=P+(w^I&(x^w))+O[11]+643717713&4294967295,P=x+(R<<14&4294967295|R>>>18),R=I+(x^w&(P^x))+O[0]+3921069994&4294967295,I=P+(R<<20&4294967295|R>>>12),R=w+(P^x&(I^P))+O[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=x+(I^P&(w^I))+O[10]+38016083&4294967295,x=w+(R<<9&4294967295|R>>>23),R=P+(w^I&(x^w))+O[15]+3634488961&4294967295,P=x+(R<<14&4294967295|R>>>18),R=I+(x^w&(P^x))+O[4]+3889429448&4294967295,I=P+(R<<20&4294967295|R>>>12),R=w+(P^x&(I^P))+O[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=x+(I^P&(w^I))+O[14]+3275163606&4294967295,x=w+(R<<9&4294967295|R>>>23),R=P+(w^I&(x^w))+O[3]+4107603335&4294967295,P=x+(R<<14&4294967295|R>>>18),R=I+(x^w&(P^x))+O[8]+1163531501&4294967295,I=P+(R<<20&4294967295|R>>>12),R=w+(P^x&(I^P))+O[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=x+(I^P&(w^I))+O[2]+4243563512&4294967295,x=w+(R<<9&4294967295|R>>>23),R=P+(w^I&(x^w))+O[7]+1735328473&4294967295,P=x+(R<<14&4294967295|R>>>18),R=I+(x^w&(P^x))+O[12]+2368359562&4294967295,I=P+(R<<20&4294967295|R>>>12),R=w+(I^P^x)+O[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=x+(w^I^P)+O[8]+2272392833&4294967295,x=w+(R<<11&4294967295|R>>>21),R=P+(x^w^I)+O[11]+1839030562&4294967295,P=x+(R<<16&4294967295|R>>>16),R=I+(P^x^w)+O[14]+4259657740&4294967295,I=P+(R<<23&4294967295|R>>>9),R=w+(I^P^x)+O[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=x+(w^I^P)+O[4]+1272893353&4294967295,x=w+(R<<11&4294967295|R>>>21),R=P+(x^w^I)+O[7]+4139469664&4294967295,P=x+(R<<16&4294967295|R>>>16),R=I+(P^x^w)+O[10]+3200236656&4294967295,I=P+(R<<23&4294967295|R>>>9),R=w+(I^P^x)+O[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=x+(w^I^P)+O[0]+3936430074&4294967295,x=w+(R<<11&4294967295|R>>>21),R=P+(x^w^I)+O[3]+3572445317&4294967295,P=x+(R<<16&4294967295|R>>>16),R=I+(P^x^w)+O[6]+76029189&4294967295,I=P+(R<<23&4294967295|R>>>9),R=w+(I^P^x)+O[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=x+(w^I^P)+O[12]+3873151461&4294967295,x=w+(R<<11&4294967295|R>>>21),R=P+(x^w^I)+O[15]+530742520&4294967295,P=x+(R<<16&4294967295|R>>>16),R=I+(P^x^w)+O[2]+3299628645&4294967295,I=P+(R<<23&4294967295|R>>>9),R=w+(P^(I|~x))+O[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=x+(I^(w|~P))+O[7]+1126891415&4294967295,x=w+(R<<10&4294967295|R>>>22),R=P+(w^(x|~I))+O[14]+2878612391&4294967295,P=x+(R<<15&4294967295|R>>>17),R=I+(x^(P|~w))+O[5]+4237533241&4294967295,I=P+(R<<21&4294967295|R>>>11),R=w+(P^(I|~x))+O[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=x+(I^(w|~P))+O[3]+2399980690&4294967295,x=w+(R<<10&4294967295|R>>>22),R=P+(w^(x|~I))+O[10]+4293915773&4294967295,P=x+(R<<15&4294967295|R>>>17),R=I+(x^(P|~w))+O[1]+2240044497&4294967295,I=P+(R<<21&4294967295|R>>>11),R=w+(P^(I|~x))+O[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=x+(I^(w|~P))+O[15]+4264355552&4294967295,x=w+(R<<10&4294967295|R>>>22),R=P+(w^(x|~I))+O[6]+2734768916&4294967295,P=x+(R<<15&4294967295|R>>>17),R=I+(x^(P|~w))+O[13]+1309151649&4294967295,I=P+(R<<21&4294967295|R>>>11),R=w+(P^(I|~x))+O[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=x+(I^(w|~P))+O[11]+3174756917&4294967295,x=w+(R<<10&4294967295|R>>>22),R=P+(w^(x|~I))+O[2]+718787259&4294967295,P=x+(R<<15&4294967295|R>>>17),R=I+(x^(P|~w))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var I=w-this.blockSize,O=this.B,P=this.h,x=0;x<w;){if(P==0)for(;x<=I;)a(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<w;)if(O[P++]=V.charCodeAt(x++),P==this.blockSize){a(this,O),P=0;break}}else for(;x<w;)if(O[P++]=V[x++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var I=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=I&255,I/=256;for(this.u(V),V=Array(16),w=I=0;4>w;++w)for(var O=0;32>O;O+=8)V[I++]=this.g[w]>>>O&255;return V};function u(V,w){var I=d;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=w(V)}function c(V,w){this.h=w;for(var I=[],O=!0,P=V.length-1;0<=P;P--){var x=V[P]|0;O&&x==w||(I[P]=x,O=!1)}this.g=I}var d={};function m(V){return-128<=V&&128>V?u(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return U(g(-V));for(var w=[],I=1,O=0;V>=I;O++)w[O]=V/I|0,I*=4294967296;return new c(w,0)}function v(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return U(v(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(w,8)),O=E,P=0;P<V.length;P+=8){var x=Math.min(8,V.length-P),R=parseInt(V.substring(P,P+x),w);8>x?(x=g(Math.pow(w,x)),O=O.j(x).add(g(R))):(O=O.j(I),O=O.add(g(R)))}return O}var E=m(0),A=m(1),C=m(16777216);n=c.prototype,n.m=function(){if(q(this))return-U(this).m();for(var V=0,w=1,I=0;I<this.g.length;I++){var O=this.i(I);V+=(0<=O?O:4294967296+O)*w,w*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(k(this))return"0";if(q(this))return"-"+U(this).toString(V);for(var w=g(Math.pow(V,6)),I=this,O="";;){var P=rt(I,w).g;I=X(I,P.j(w));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=P,k(I))return x+O;for(;6>x.length;)x="0"+x;O=x+O}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function k(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function q(V){return V.h==-1}n.l=function(V){return V=X(this,V),q(V)?-1:k(V)?0:1};function U(V){for(var w=V.g.length,I=[],O=0;O<w;O++)I[O]=~V.g[O];return new c(I,~V.h).add(A)}n.abs=function(){return q(this)?U(this):this},n.add=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],O=0,P=0;P<=w;P++){var x=O+(this.i(P)&65535)+(V.i(P)&65535),R=(x>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);O=R>>>16,x&=65535,R&=65535,I[P]=R<<16|x}return new c(I,I[I.length-1]&-2147483648?-1:0)};function X(V,w){return V.add(U(w))}n.j=function(V){if(k(this)||k(V))return E;if(q(this))return q(V)?U(this).j(U(V)):U(U(this).j(V));if(q(V))return U(this.j(U(V)));if(0>this.l(C)&&0>V.l(C))return g(this.m()*V.m());for(var w=this.g.length+V.g.length,I=[],O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<V.g.length;P++){var x=this.i(O)>>>16,R=this.i(O)&65535,St=V.i(P)>>>16,Ut=V.i(P)&65535;I[2*O+2*P]+=R*Ut,J(I,2*O+2*P),I[2*O+2*P+1]+=x*Ut,J(I,2*O+2*P+1),I[2*O+2*P+1]+=R*St,J(I,2*O+2*P+1),I[2*O+2*P+2]+=x*St,J(I,2*O+2*P+2)}for(O=0;O<w;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=w;O<2*w;O++)I[O]=0;return new c(I,0)};function J(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Y(V,w){this.g=V,this.h=w}function rt(V,w){if(k(w))throw Error("division by zero");if(k(V))return new Y(E,E);if(q(V))return w=rt(U(V),w),new Y(U(w.g),U(w.h));if(q(w))return w=rt(V,U(w)),new Y(U(w.g),w.h);if(30<V.g.length){if(q(V)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var I=A,O=w;0>=O.l(V);)I=et(I),O=et(O);var P=ht(I,1),x=ht(O,1);for(O=ht(O,2),I=ht(I,2);!k(O);){var R=x.add(O);0>=R.l(V)&&(P=P.add(I),x=R),O=ht(O,1),I=ht(I,1)}return w=X(V,P.j(w)),new Y(P,w)}for(P=E;0<=V.l(w);){for(I=Math.max(1,Math.floor(V.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),x=g(I),R=x.j(w);q(R)||0<R.l(V);)I-=O,x=g(I),R=x.j(w);k(x)&&(x=A),P=P.add(x),V=X(V,R)}return new Y(P,V)}n.A=function(V){return rt(this,V).h},n.and=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)&V.i(O);return new c(I,this.h&V.h)},n.or=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)|V.i(O);return new c(I,this.h|V.h)},n.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)^V.i(O);return new c(I,this.h^V.h)};function et(V){for(var w=V.g.length+1,I=[],O=0;O<w;O++)I[O]=V.i(O)<<1|V.i(O-1)>>>31;return new c(I,V.h)}function ht(V,w){var I=w>>5;w%=32;for(var O=V.g.length-I,P=[],x=0;x<O;x++)P[x]=0<w?V.i(x+I)>>>w|V.i(x+I+1)<<32-w:V.i(x+I);return new c(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Xb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Js=c}).apply(typeof kT<"u"?kT:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $b,nu,Wb,Mh,wp,Zb,Jb,t1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function a(h,y){if(y)t:{var _=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var B=h[S];if(!(B in _))break t;_=_[B]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function u(h,y){h instanceof String&&(h+="");var _=0,S=!1,B={next:function(){if(!S&&_<h.length){var G=_++;return{value:y(G,h[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}a("Array.prototype.values",function(h){return h||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),h.apply(y,B)}}return function(){return h.apply(y,arguments)}}function A(h,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,A.apply(null,arguments)}function C(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function k(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,B,G){for(var ot=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)ot[Bt-2]=arguments[Bt];return y.prototype[B].apply(S,ot)}}function q(h){const y=h.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function U(h,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const B=h.length||0,G=S.length||0;h.length=B+G;for(let ot=0;ot<G;ot++)h[B+ot]=S[ot]}else h.push(S)}}class X{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function rt(h){return rt[" "](h),h}rt[" "]=function(){};var et=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ht(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function V(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function w(h){const y={};for(const _ in h)y[_]=h[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,y){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)h[_]=S[_];for(let G=0;G<I.length;G++)_=I[G],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function P(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function x(h){d.setTimeout(()=>{throw h},0)}function R(){var h=Dt;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class St{constructor(){this.h=this.g=null}add(y,_){const S=Ut.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ut=new X(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,Dt=new St,M=()=>{const h=d.Promise.resolve(void 0);it=()=>{h.then(nt)}};var nt=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(_){x(_)}var y=Ut;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ct=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Mt(h,y){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(et){t:{try{rt(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:wt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Mt.aa.h.call(this)}}k(Mt,at);var wt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),ee=0;function ei(h,y,_,S,B){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=B,this.key=++ee,this.da=this.fa=!1}function gs(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Mi(h){this.src=h,this.g={},this.h=0}Mi.prototype.add=function(h,y,_,S,B){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var ot=pr(h,y,S,B);return-1<ot?(y=h[ot],_||(y.fa=!1)):(y=new ei(y,this.src,G,!!S,B),y.fa=_,h.push(y)),y};function mr(h,y){var _=y.type;if(_ in h.g){var S=h.g[_],B=Array.prototype.indexOf.call(S,y,void 0),G;(G=0<=B)&&Array.prototype.splice.call(S,B,1),G&&(gs(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function pr(h,y,_,S){for(var B=0;B<h.length;++B){var G=h[B];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==S)return B}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),Go={};function Yu(h,y,_,S,B){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Yu(h,y[G],_,S,B);return null}return _=Qu(_),h&&h[Oe]?h.K(y,_,g(S)?!!S.capture:!1,B):Rn(h,y,_,!1,S,B)}function Rn(h,y,_,S,B,G){if(!y)throw Error("Invalid event type");var ot=g(B)?!!B.capture:!!B,Bt=ga(h);if(Bt||(h[gr]=Bt=new Mi(h)),_=Bt.add(y,_,S,ot,G),_.proxy)return _;if(S=kf(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)yt||(B=ot),B===void 0&&(B=!1),h.addEventListener(y.toString(),S,B);else if(h.attachEvent)h.attachEvent(yr(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function kf(){function h(_){return y.call(h.src,h.listener,_)}const y=Lf;return h}function Ko(h,y,_,S,B){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ko(h,y[G],_,S,B);else S=g(S)?!!S.capture:!!S,_=Qu(_),h&&h[Oe]?(h=h.i,y=String(y).toString(),y in h.g&&(G=h.g[y],_=pr(G,_,S,B),-1<_&&(gs(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete h.g[y],h.h--)))):h&&(h=ga(h))&&(y=h.g[y.toString()],h=-1,y&&(h=pr(y,_,S,B)),(_=-1<h?y[h]:null)&&pa(_))}function pa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Oe])mr(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(yr(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=ga(y))?(mr(_,h),_.h==0&&(_.src=null,y[gr]=null)):gs(h)}}}function yr(h){return h in Go?Go[h]:Go[h]="on"+h}function Lf(h,y){if(h.da)h=!0;else{y=new Mt(y,this);var _=h.listener,S=h.ha||h.src;h.fa&&pa(h),h=_.call(S,y)}return h}function ga(h){return h=h[gr],h instanceof Mi?h:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qu(h){return typeof h=="function"?h:(h[Yo]||(h[Yo]=function(y){return h.handleEvent(y)}),h[Yo])}function ce(){lt.call(this),this.i=new Mi(this),this.M=this,this.F=null}k(ce,lt),ce.prototype[Oe]=!0,ce.prototype.removeEventListener=function(h,y,_,S){Ko(this,h,y,_,S)};function Yt(h,y){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new at(y,h);else if(y instanceof at)y.target=y.target||h;else{var B=y;y=new at(S,h),O(y,B)}if(B=!0,_)for(var G=_.length-1;0<=G;G--){var ot=y.g=_[G];B=gn(ot,S,!0,y)&&B}if(ot=y.g=h,B=gn(ot,S,!0,y)&&B,B=gn(ot,S,!1,y)&&B,_)for(G=0;G<_.length;G++)ot=y.g=_[G],B=gn(ot,S,!1,y)&&B}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],S=0;S<_.length;S++)gs(_[S]);delete h.g[y],h.h--}}this.F=null},ce.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},ce.prototype.L=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function gn(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,G=0;G<y.length;++G){var ot=y[G];if(ot&&!ot.da&&ot.capture==_){var Bt=ot.listener,Ce=ot.ha||ot.src;ot.fa&&mr(h.i,ot),B=Bt.call(Ce,S)!==!1&&B}}return B&&!S.defaultPrevented}function Xe(h,y,_){if(typeof h=="function")_&&(h=A(h,_));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Xu(h){h.g=Xe(()=>{h.g=null,h.i&&(h.i=!1,Xu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Uf extends lt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(h){lt.call(this),this.h=h,this.g={}}k(vr,lt);var _r=[];function Tr(h){ht(h.g,function(y,_){this.g.hasOwnProperty(_)&&pa(y)},h),h.g={}}vr.prototype.N=function(){vr.aa.N.call(this),Tr(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=d.JSON.stringify,ya=d.JSON.parse,Er=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Qo(){}Qo.prototype.h=null;function Xo(h){return h.h||(h.h=h.i())}function $o(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){at.call(this,"d")}k(Ni,at);function Wo(){at.call(this,"c")}k(Wo,at);var ni={},Zo=null;function ys(){return Zo=Zo||new ce}ni.La="serverreachability";function va(h){at.call(this,ni.La,h)}k(va,at);function vs(h){const y=ys();Yt(y,new va(y))}ni.STAT_EVENT="statevent";function $u(h,y){at.call(this,ni.STAT_EVENT,h),this.stat=y}k($u,at);function se(h){const y=ys();Yt(y,new $u(y,h))}ni.Ma="timingevent";function Re(h,y){at.call(this,ni.Ma,h),this.size=y}k(Re,at);function _e(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Jo(h,y,_,S,B,G){h.info(function(){if(h.g)if(G)for(var ot="",Bt=G.split("&"),Ce=0;Ce<Bt.length;Ce++){var zt=Bt[Ce].split("=");if(1<zt.length){var Pe=zt[0];zt=zt[1];var Ie=Pe.split("_");ot=2<=Ie.length&&Ie[1]=="type"?ot+(Pe+"="+zt+"&"):ot+(Pe+"=redacted&")}}else ot=null;else ot=G;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+_+`
`+ot})}function Bf(h,y,_,S,B,G,ot){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+_+`
`+G+" "+ot})}function _s(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ar(h,_)+(S?" "+S:"")})}function Wu(h,y){h.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function Ar(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ot=1;ot<B.length;ot++)B[ot]=""}}}}return qn(_)}catch{return y}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ii;function si(){}k(si,Qo),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ii=new si;function sn(h,y,_,S){this.j=h,this.i=y,this.l=_,this.R=S||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var tl={},_a={};function Hn(h,y,_){h.L=1,h.v=Cr(yn(y)),h.m=_,h.P=!0,ki(h,null)}function ki(h,y){h.F=Date.now(),br(h),h.A=yn(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),al(_.i,"t",S),h.C=0,_=h.j.J,h.h=new me,h.g=dc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Uf(A(h.Y,h,h.g),h.O)),y=h.U,_=h.g,S=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(_r[0]=B.toString()),B=_r);for(var G=0;G<B.length;G++){var ot=Yu(_,B[G],S||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),vs(),Jo(h.i,h.u,h.A,h.l,h.R,h.m)}sn.prototype.ca=function(h){h=h.target;const y=this.M;y&&Vn(h)==3?y.j():this.Y(h)},sn.prototype.Y=function(h){try{if(h==this.g)t:{const Ie=Vn(this.g);var y=this.g.Ba();const Hi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||rc(this.g)))){this.J||Ie!=4||y==7||(y==8||0>=Hi?vs(3):vs(2)),Es(this);var _=this.g.Z();this.X=_;e:if(Zu(this)){var S=rc(this.g);h="";var B=S.length,G=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),ri(this);var ot="";break e}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(G&&y==B-1)});S.length=0,this.h.g+=h,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,Bf(this.i,this.u,this.A,this.l,this.R,Ie,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Bt,Ce=this.g;if((Bt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Bt)){var zt=Bt;break e}}zt=null}if(_=zt)_s(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sr(this,_);else{this.o=!1,this.s=3,se(12),ze(this),ri(this);break t}}if(this.P){_=!0;let je;for(;!this.J&&this.C<ot.length;)if(je=Ju(this,ot),je==_a){Ie==4&&(this.s=4,se(14),_=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(je==tl){this.s=4,se(15),_s(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else _s(this.i,this.l,je,null),Sr(this,je);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||ot.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)_s(this.i,this.l,ot,"[Invalid Chunked Response]"),ze(this),ri(this);else if(0<ot.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Pr(Pe),Pe.M=!0,se(11))}}else _s(this.i,this.l,ot,null),Sr(this,ot);Ie==4&&ze(this),this.o&&!this.J&&(Ie==4?cc(this.j,this):(this.o=!1,br(this)))}else Hf(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),ze(this),ri(this)}}}catch{}finally{}};function Zu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ju(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?_a:(_=Number(y.substring(_,S)),isNaN(_)?tl:(S+=1,S+_>y.length?_a:(y=y.slice(S,S+_),h.C=S+_,y)))}sn.prototype.cancel=function(){this.J=!0,ze(this)};function br(h){h.S=Date.now()+h.I,tc(h,h.I)}function tc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=_e(A(h.ba,h),y)}function Es(h){h.B&&(d.clearTimeout(h.B),h.B=null)}sn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Wu(this.i,this.A),this.L!=2&&(vs(),se(17)),ze(this),this.s=2,ri(this)):tc(this,this.S-h)};function ri(h){h.j.G==0||h.J||cc(h.j,h)}function ze(h){Es(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Tr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Sr(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||el(_.h,h))){if(!h.K&&el(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Va(_),Da(_);else break t;hl(_),se(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(A(_.Za,_),6e3));if(1>=Ea(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qi(_,11)}else if((h.K||_.g==h)&&Va(_),!J(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let zt=B[y];if(_.T=zt[0],zt=zt[1],_.G==2)if(zt[0]=="c"){_.K=zt[1],_.ia=zt[2];const Pe=zt[3];Pe!=null&&(_.la=Pe,_.j.info("VER="+_.la));const Ie=zt[4];Ie!=null&&(_.Aa=Ie,_.j.info("SVER="+_.Aa));const Hi=zt[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(S=1.5*Hi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const je=h.g;if(je){const fi=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var G=S.h;G.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Aa(G,G.h),G.h=null))}if(S.D){const dl=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(S.ya=dl,$t(S.I,S.D,dl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ot=h;if(S.qa=fc(S,S.J?S.ia:null,S.W),ot.K){rn(S.h,ot);var Bt=ot,Ce=S.L;Ce&&(Bt.I=Ce),Bt.B&&(Es(Bt),br(Bt)),S.g=ot}else lc(S);0<_.i.length&&xa(_)}else zt[0]!="stop"&&zt[0]!="close"||qi(_,7);else _.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?qi(_,7):ul(_):zt[0]!="noop"&&_.l&&_.l.ta(zt),_.v=0)}}vs(4)}catch{}}var ec=class{constructor(h,y){this.g=h,this.map=y}};function Li(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ea(h){return h.h?1:h.g?h.g.size:0}function el(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Aa(h,y){h.g?h.g.add(y):h.h=y}function rn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Li.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return q(h.i)}function zf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],_=h.length,S=0;S<_;S++)y.push(h[S]);return y}y=[],_=0;for(S in h)y[_++]=h[S];return y}function ba(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const S in h)y[_++]=S;return y}}}function il(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=ba(h),S=zf(h),B=S.length,G=0;G<B;G++)y.call(void 0,S[G],_&&_[G],h)}var wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),B=null;if(0<=S){var G=h[_].substring(0,S);B=h[_].substring(S+1)}else G=h[_];y(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Te(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Te){this.h=h.h,Rr(this,h.j),this.o=h.o,this.g=h.g,As(this,h.s),this.l=h.l;var y=h.i,_=new Bi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ui(this,_),this.m=h.m}else h&&(y=String(h).match(wr))?(this.h=!1,Rr(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),As(this,y[4]),this.l=In(y[5]||"",!0),Ui(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Te.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Ir(y,sl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ir(y,sl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ir(_,_.charAt(0)=="/"?Ff:rl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ir(_,Sa)),h.join("")};function yn(h){return new Te(h)}function Rr(h,y,_){h.j=_?In(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function As(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Ui(h,y,_){y instanceof Bi?(h.i=y,ic(h.i,h.h)):(_||(y=Ir(y,qf)),h.i=new Bi(y,h.h))}function $t(h,y,_){h.i.set(y,_)}function Cr(h){return $t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function In(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ir(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,nc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function nc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var sl=/[#\/\?@]/g,rl=/[#\?:]/g,Ff=/[#\?]/g,qf=/[#\?@]/g,Sa=/#/g;function Bi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&jf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Bi.prototype,n.add=function(h,y){Dn(this),this.i=null,h=ai(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function zi(h,y){Dn(h),y=ai(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ji(h,y){return Dn(h),y=ai(h,y),h.g.has(y)}n.forEach=function(h,y){Dn(this),this.g.forEach(function(_,S){_.forEach(function(B){h.call(y,B,S,this)},this)},this)},n.na=function(){Dn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const B=h[S];for(let G=0;G<B.length;G++)_.push(y[S])}return _},n.V=function(h){Dn(this);let y=[];if(typeof h=="string")ji(this,h)&&(y=y.concat(this.g.get(ai(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Dn(this),this.i=null,h=ai(this,h),ji(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function al(h,y,_){zi(h,y),0<_.length&&(h.i=null,h.g.set(ai(h,y),q(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const G=encodeURIComponent(String(S)),ot=this.V(S);for(S=0;S<ot.length;S++){var B=G;ot[S]!==""&&(B+="="+encodeURIComponent(String(ot[S]))),h.push(B)}}return this.i=h.join("&")};function ai(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ic(h,y){y&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(zi(this,S),al(this,B,_))},h)),h.j=y}function Dr(h,y){const _=new Cn;if(d.Image){const S=new Image;S.onload=C(xn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=C(xn,_,"TestLoadImage: error",!1,y,S),S.onabort=C(xn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(xn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Gn(h,y){const _=new Cn,S=new AbortController,B=setTimeout(()=>{S.abort(),xn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(G=>{clearTimeout(B),G.ok?xn(_,"TestPingServer: ok",!0,y):xn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),xn(_,"TestPingServer: error",!1,y)})}function xn(h,y,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function xr(){this.g=new Er}function oi(h,y,_){const S=_||"";try{il(h,function(B,G){let ot=B;g(B)&&(ot=qn(B)),y.push(S+G+"="+encodeURIComponent(ot))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function bs(h){this.l=h.Ub||null,this.j=h.eb||!1}k(bs,Qo),bs.prototype.g=function(){return new Fi(this.l,this.j)},bs.prototype.i=function(h){return function(){return h}}({});function Fi(h,y){ce.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Fi,ce),n=Fi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ui(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?li(this):ui(this),this.readyState==3&&ol(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,li(this))},n.Qa=function(h){this.g&&(this.response=h,li(this))},n.ga=function(){this.g&&li(this)};function li(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ui(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function ui(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ll(h){let y="";return ht(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ne(h,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=ll(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):$t(h,y,_))}function Gt(h){ce.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Gt,ce);var wa=/^https?$/i,Vr=["POST","PUT"];n=Gt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ii.g(),this.v=this.o?Xo(this.o):Xo(ii),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){sc(this,G);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())_.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Vr,y,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of _)this.g.setRequestHeader(G,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mr(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){sc(this,G)}};function sc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ra(h),ci(h)}function Ra(h){h.A||(h.A=!0,Yt(h,"complete"),Yt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Yt(this,"complete"),Yt(this,"abort"),ci(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},n.bb=function(){Ca(this)};function Ca(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Vn(h)!=4||h.Z()!=2)){if(h.u&&Vn(h)==4)Xe(h.Ea,0,h);else if(Yt(h,"readystatechange"),Vn(h)==4){h.h=!1;try{const ot=h.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=ot===0){var B=String(h.D).match(wr)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),S=!wa.test(B?B.toLowerCase():"")}_=S}if(_)Yt(h,"complete"),Yt(h,"success");else{h.m=6;try{var G=2<Vn(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",Ra(h)}}finally{ci(h)}}}}function ci(h,y){if(h.g){Mr(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Yt(h,"ready");try{_.onreadystatechange=S}catch{}}}function Mr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Vn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ya(y)}};function rc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Hf(h){const y={};h=(h.g&&2<=Vn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(J(h[S]))continue;var _=P(h[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[B]||[];y[B]=G,G.push(_)}V(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Ia(h){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,h),this.cb=Or("retryDelaySeedMs",1e4,h),this.Wa=Or("forwardChannelMaxRetries",2,h),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(h&&h.concurrentRequestLimit),this.Da=new xr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ia.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,S){se(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=fc(this,null,this.W),xa(this)};function ul(h){if(ac(h),h.G==3){var y=h.U++,_=yn(h.I);if($t(_,"SID",h.K),$t(_,"RID",y),$t(_,"TYPE","terminate"),Nr(h,_),y=new sn(h,h.j,y),y.L=2,y.v=Cr(yn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=dc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),br(y)}hc(h)}function Da(h){h.g&&(Pr(h),h.g.cancel(),h.g=null)}function ac(h){Da(h),h.u&&(d.clearTimeout(h.u),h.u=null),Va(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function xa(h){if(!Ta(h.h)&&!h.s){h.s=!0;var y=h.Ga;it||M(),ct||(it(),ct=!0),Dt.add(y,h),h.B=0}}function Gf(h,y){return Ea(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=_e(A(h.Ga,h,y),fl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new sn(this,this.j,h);let G=this.o;if(this.S&&(G?(G=w(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=oc(this,B,y),_=yn(this.I),$t(_,"RID",h),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),Nr(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(ll(G)))+"&"+y:this.m&&Ne(_,this.m,G)),Aa(this.h,B),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",y),$t(_,"SID","null"),B.T=!0,Hn(B,_,null)):Hn(B,_,y),this.G=2}}else this.G==3&&(h?cl(this,h):this.i.length==0||Ta(this.h)||cl(this))};function cl(h,y){var _;y?_=y.l:_=h.U++;const S=yn(h.I);$t(S,"SID",h.K),$t(S,"RID",_),$t(S,"AID",h.T),Nr(h,S),h.m&&h.o&&Ne(S,h.m,h.o),_=new sn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=oc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Aa(h.h,_),Hn(_,S,y)}function Nr(h,y){h.H&&ht(h.H,function(_,S){$t(y,S,_)}),h.l&&il({},function(_,S){$t(y,S,_)})}function oc(h,y,_){_=Math.min(h.i.length,_);var S=h.l?A(h.l.Na,h.l,h):null;t:{var B=h.i;let G=-1;for(;;){const ot=["count="+_];G==-1?0<_?(G=B[0].g,ot.push("ofs="+G)):G=0:ot.push("ofs="+G);let Bt=!0;for(let Ce=0;Ce<_;Ce++){let zt=B[Ce].g;const Pe=B[Ce].map;if(zt-=G,0>zt)G=Math.max(0,B[Ce].g-100),Bt=!1;else try{oi(Pe,ot,"req"+zt+"_")}catch{S&&S(Pe)}}if(Bt){S=ot.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,S}function lc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;it||M(),ct||(it(),ct=!0),Dt.add(y,h),h.v=0}}function hl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=_e(A(h.Fa,h),fl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=_e(A(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Da(this),uc(this))};function Pr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function uc(h){h.g=new sn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=yn(h.qa);$t(y,"RID","rpc"),$t(y,"SID",h.K),$t(y,"AID",h.T),$t(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&$t(y,"TO",h.ja),$t(y,"TYPE","xmlhttp"),Nr(h,y),h.m&&h.o&&Ne(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Cr(yn(y)),_.m=null,_.P=!0,ki(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Da(this),hl(this),se(19))};function Va(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function cc(h,y){var _=null;if(h.g==y){Va(h),Pr(h),h.g=null;var S=2}else if(el(h.h,y))_=y.D,rn(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=h.B;S=ys(),Yt(S,new Re(S,_)),xa(h)}else lc(h);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&Gf(h,y)||S==2&&hl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),B){case 1:qi(h,5);break;case 4:qi(h,10);break;case 3:qi(h,6);break;default:qi(h,2)}}}function fl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function qi(h,y){if(h.j.info("Error code "+y),y==2){var _=A(h.fb,h),S=h.Xa;const B=!S;S=new Te(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Rr(S,"https"),Cr(S),B?Dr(S.toString(),_):Gn(S.toString(),_)}else se(2);h.G=0,h.l&&h.l.sa(y),hc(h),ac(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function hc(h){if(h.G=0,h.ka=[],h.l){const y=nl(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ka,y),U(h.ka,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.ra()}}function fc(h,y,_){var S=_ instanceof Te?yn(_):new Te(_);if(S.g!="")y&&(S.g=y+"."+S.g),As(S,S.s);else{var B=d.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var G=new Te(null);S&&Rr(G,S),y&&(G.g=y),B&&As(G,B),_&&(G.l=_),S=G}return _=h.D,y=h.ya,_&&y&&$t(S,_,y),$t(S,"VER",h.la),Nr(h,S),S}function dc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Gt(new bs({eb:_})):new Gt(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}n=mc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ma(){}Ma.prototype.g=function(h,y){return new an(h,y)};function an(h,y){ce.call(this),this.g=new Ia(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!J(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new hi(this)}k(an,ce),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ul(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=qn(h),h=_);y.i.push(new ec(y.Ya++,h)),y.G==3&&xa(y)},an.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,an.aa.N.call(this)};function pc(h){Ni.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}k(pc,Ni);function gc(){Wo.call(this),this.status=1}k(gc,Wo);function hi(h){this.g=h}k(hi,mc),hi.prototype.ua=function(){Yt(this.g,"a")},hi.prototype.ta=function(h){Yt(this.g,new pc(h))},hi.prototype.sa=function(h){Yt(this.g,new gc)},hi.prototype.ra=function(){Yt(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,t1=function(){return new Ma},Jb=function(){return ys()},Zb=ni,wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,Mh=Ts,Pi.COMPLETE="complete",Wb=Pi,$o.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",ce.prototype.listen=ce.prototype.K,nu=$o,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,$b=Gt}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const LT="@firebase/firestore",UT="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new dg("@firebase/firestore");function oo(){return la.logLevel}function ft(n,...t){if(la.logLevel<=kt.DEBUG){const e=t.map(Rg);la.debug(`Firestore (${Lo}): ${n}`,...e)}}function fs(n,...t){if(la.logLevel<=kt.ERROR){const e=t.map(Rg);la.error(`Firestore (${Lo}): ${n}`,...e)}}function So(n,...t){if(la.logLevel<=kt.WARN){const e=t.map(Rg);la.warn(`Firestore (${Lo}): ${n}`,...e)}}function Rg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,e1(n,s,e)}function e1(n,t,e){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw fs(s),new Error(s)}function Kt(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||e1(t,a,s)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends xi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Je.UNAUTHENTICATED))}shutdown(){}}class Mx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ox{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let u=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new tr,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new tr)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new n1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class Nx{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Px{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new Nx(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kx{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const a=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new BT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Lx(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<e&&(s+=t.charAt(a[u]%62))}return s}}function Vt(n,t){return n<t?-1:n>t?1:0}function Rp(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=n.codePointAt(e),a=t.codePointAt(e);if(s!==a){if(s<128&&a<128)return Vt(s,a);{const u=i1(),c=Ux(u.encode(zT(n,e)),u.encode(zT(t,e)));return c!==0?c:Vt(s,a)}}e+=s>65535?2:1}return Vt(n.length,t.length)}function zT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function Ux(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Vt(n[e],t[e]);return Vt(n.length,t.length)}function wo(n,t,e){return n.length===t.length&&n.every((s,a)=>e(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=-62135596800,FT=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*FT);return new Ve(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<jT)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FT}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-jT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Ve(0,0))}static max(){return new Rt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="__name__";class vi{constructor(t,e,s){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Et(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const u=vi.compareSegments(t.get(a),e.get(a));if(u!==0)return u}return Vt(t.length,e.length)}static compareSegments(t,e){const s=vi.isNumericId(t),a=vi.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?vi.extractNumericId(t).compare(vi.extractNumericId(e)):Rp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class ie extends vi{construct(t,e,s){return new ie(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new dt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(a=>a.length>0))}return new ie(e)}static emptyPath(){return new ie([])}}const Bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends vi{construct(t,e,s){return new Ye(t,e,s)}static isValidIdentifier(t){return Bx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qT}static keyField(){return new Ye([qT])}static fromServerFormat(t){const e=[];let s="",a=0;const u=()=>{if(s.length===0)throw new dt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new dt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new dt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(u(),a++)}if(u(),c)throw new dt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(e)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ie.fromString(t))}static fromName(t){return new gt(ie.fromString(t).popFirst(5))}static empty(){return new gt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ie.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function zx(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Rt.fromTimestamp(s===1e9?new Ve(e+1,0):new Ve(e,s));return new sr(a,gt.empty(),t)}function jx(n){return new sr(n.readTime,n.key,Eu)}class sr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new sr(Rt.min(),gt.empty(),Eu)}static max(){return new sr(Rt.max(),gt.empty(),Eu)}}function Fx(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=gt.comparator(n.documentKey,t.documentKey),e!==0?e:Vt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==qx)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Z((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Z?e:Z.resolve(e)}catch(e){return Z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.reject(e)}static resolve(t){return new Z((e,s)=>{e(t)})}static reject(t){return new Z((e,s)=>{s(t)})}static waitFor(t){return new Z((e,s)=>{let a=0,u=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++u,c&&u===a&&e()},m=>s(m))}),c=!0,u===a&&e()})}static or(t){let e=Z.resolve(!1);for(const s of t)e=e.next(a=>a?Z.resolve(a):s());return e}static forEach(t,e){const s=[];return t.forEach((a,u)=>{s.push(e.call(this,a,u))}),this.waitFor(s)}static mapArray(t,e){return new Z((s,a)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next(v=>{c[g]=v,++d,d===u&&s(c)},v=>a(v))}})}static doWhile(t,e){return new Z((s,a)=>{const u=()=>{t()===!0?e().next(()=>{u()},a):s()};u()})}}function Gx(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Bo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}vf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=-1;function _f(n){return n==null}function $h(n){return n===0&&1/n==-1/0}function Kx(n){return typeof n=="number"&&Number.isInteger(n)&&!$h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="";function Yx(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=HT(t)),t=Qx(n.get(e),t);return HT(t)}function Qx(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const u=n.charAt(a);switch(u){case"\0":e+="";break;case r1:e+="";break;default:e+=u}}return e}function HT(n){return n+r1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ha(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function a1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,e){this.comparator=t,this.root=e||Ke.EMPTY}insert(t,e){return new ue(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _h(this.root,t,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _h(this.root,t,this.comparator,!0)}}class _h{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&a&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,e,s,a,u){this.key=t,this.value=e,this.color=s??Ke.RED,this.left=a??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,u){return new Ke(t??this.key,e??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const u=s(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,e,s),null):u===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Ke.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,s,a,u){return this}insert(t,e,s){return new Ke(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new KT(this.data.getIterator())}getIteratorFrom(t){return new KT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Me(this.comparator);return e.data=t,e}}class KT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Zn([])}unionWith(t){let e=new Me(Ye.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Zn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wo(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new o1("Invalid base64 string: "+u):u}}(t);return new Qe(e)}static fromUint8Array(t){const e=function(a){let u="";for(let c=0;c<a.length;++c)u+=String.fromCharCode(a[c]);return u}(t);return new Qe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Xx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=Xx.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(n.seconds),nanos:ve(n.nanos)}}function ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ar(n){return typeof n=="string"?Qe.fromBase64String(n):Qe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="server_timestamp",u1="__type__",c1="__previous_value__",h1="__local_write_time__";function Ig(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[u1])===null||e===void 0?void 0:e.stringValue)===l1}function Tf(n){const t=n.mapValue.fields[c1];return Ig(t)?Tf(t):t}function Au(n){const t=rr(n.mapValue.fields[h1].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,e,s,a,u,c,d,m,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Wh="(default)";class bu{constructor(t,e){this.projectId=t,this.database=e||Wh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(t){return t instanceof bu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="__type__",Wx="__max__",Th={mapValue:{}},d1="__vector__",Zh="value";function or(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ig(n)?4:Jx(n)?9007199254740991:Zx(n)?10:11:Et(28295,{value:n})}function Ii(n,t){if(n===t)return!0;const e=or(n);if(e!==or(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Au(n).isEqual(Au(t));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const c=rr(a.timestampValue),d=rr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,u){return ar(a.bytesValue).isEqual(ar(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,u){return ve(a.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(a.geoPointValue.longitude)===ve(u.geoPointValue.longitude)}(n,t);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return ve(a.integerValue)===ve(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const c=ve(a.doubleValue),d=ve(u.doubleValue);return c===d?$h(c)===$h(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return wo(n.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return function(a,u){const c=a.mapValue.fields||{},d=u.mapValue.fields||{};if(GT(c)!==GT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ii(c[m],d[m])))return!1;return!0}(n,t);default:return Et(52216,{left:n})}}function Su(n,t){return(n.values||[]).find(e=>Ii(e,t))!==void 0}function Ro(n,t){if(n===t)return 0;const e=or(n),s=or(t);if(e!==s)return Vt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,t.booleanValue);case 2:return function(u,c){const d=ve(u.integerValue||u.doubleValue),m=ve(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return YT(n.timestampValue,t.timestampValue);case 4:return YT(Au(n),Au(t));case 5:return Rp(n.stringValue,t.stringValue);case 6:return function(u,c){const d=ar(u),m=ar(c);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Vt(d[g],m[g]);if(v!==0)return v}return Vt(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,c){const d=Vt(ve(u.latitude),ve(c.latitude));return d!==0?d:Vt(ve(u.longitude),ve(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return QT(n.arrayValue,t.arrayValue);case 10:return function(u,c){var d,m,g,v;const E=u.fields||{},A=c.fields||{},C=(d=E[Zh])===null||d===void 0?void 0:d.arrayValue,k=(m=A[Zh])===null||m===void 0?void 0:m.arrayValue,q=Vt(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return q!==0?q:QT(C,k)}(n.mapValue,t.mapValue);case 11:return function(u,c){if(u===Th.mapValue&&c===Th.mapValue)return 0;if(u===Th.mapValue)return 1;if(c===Th.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const A=Rp(m[E],v[E]);if(A!==0)return A;const C=Ro(d[m[E]],g[v[E]]);if(C!==0)return C}return Vt(m.length,v.length)}(n.mapValue,t.mapValue);default:throw Et(23264,{Pe:e})}}function YT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Vt(n,t);const e=rr(n),s=rr(t),a=Vt(e.seconds,s.seconds);return a!==0?a:Vt(e.nanos,s.nanos)}function QT(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const u=Ro(e[a],s[a]);if(u)return u}return Vt(e.length,s.length)}function Co(n){return Cp(n)}function Cp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const s=rr(e);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ar(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return gt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let s="[",a=!0;for(const u of e.values||[])a?a=!1:s+=",",s+=Cp(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(e){const s=Object.keys(e.fields||{}).sort();let a="{",u=!0;for(const c of s)u?u=!1:a+=",",a+=`${c}:${Cp(e.fields[c])}`;return a+"}"}(n.mapValue):Et(61005,{value:n})}function Oh(n){switch(or(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Tf(n);return t?16+Oh(t):16;case 5:return 2*n.stringValue.length;case 6:return ar(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+Oh(u),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return ha(s.fields,(u,c)=>{a+=u.length+Oh(c)}),a}(n.mapValue);default:throw Et(13486,{value:n})}}function XT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ip(n){return!!n&&"integerValue"in n}function Dg(n){return!!n&&"arrayValue"in n}function $T(n){return!!n&&"nullValue"in n}function WT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nh(n){return!!n&&"mapValue"in n}function Zx(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[f1])===null||e===void 0?void 0:e.stringValue)===d1}function cu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ha(n.mapValue.fields,(e,s)=>t.mapValue.fields[e]=cu(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=cu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Jx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Wx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.value=t}static empty(){return new jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Nh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=cu(e)}setAll(t){let e=Ye.emptyPath(),s={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,s,a),s={},a=[],e=d.popLast()}c?s[d.lastSegment()]=cu(c):a.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,s,a)}delete(t){const e=this.field(t.popLast());Nh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];Nh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){ha(e,(a,u)=>t[a]=u);for(const a of s)delete t[a]}clone(){return new jn(cu(this.value))}}function m1(n){const t=[];return ha(n.fields,(e,s)=>{const a=new Ye([e]);if(Nh(s)){const u=m1(s.mapValue).fields;if(u.length===0)t.push(a);else for(const c of u)t.push(a.child(c))}else t.push(a)}),new Zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,e,s,a,u,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new tn(t,0,Rt.min(),Rt.min(),Rt.min(),jn.empty(),0)}static newFoundDocument(t,e,s,a){return new tn(t,1,e,Rt.min(),s,a,0)}static newNoDocument(t,e){return new tn(t,2,e,Rt.min(),Rt.min(),jn.empty(),0)}static newUnknownDocument(t,e){return new tn(t,3,e,Rt.min(),Rt.min(),jn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,e){this.position=t,this.inclusive=e}}function ZT(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const u=t[a],c=n.position[a];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(c.referenceValue),e.key):s=Ro(c,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function JT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ii(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,e="asc"){this.field=t,this.dir=e}}function tV(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{}class we extends p1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new nV(t,e,s):e==="array-contains"?new rV(t,s):e==="in"?new aV(t,s):e==="not-in"?new oV(t,s):e==="array-contains-any"?new lV(t,s):new we(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new iV(t,s):new sV(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ro(e,this.value)):e!==null&&or(this.value)===or(e)&&this.matchesComparison(Ro(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends p1{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new ti(t,e)}matches(t){return g1(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function g1(n){return n.op==="and"}function y1(n){return eV(n)&&g1(n)}function eV(n){for(const t of n.filters)if(t instanceof ti)return!1;return!0}function Dp(n){if(n instanceof we)return n.field.canonicalString()+n.op.toString()+Co(n.value);if(y1(n))return n.filters.map(t=>Dp(t)).join(",");{const t=n.filters.map(e=>Dp(e)).join(",");return`${n.op}(${t})`}}function v1(n,t){return n instanceof we?function(s,a){return a instanceof we&&s.op===a.op&&s.field.isEqual(a.field)&&Ii(s.value,a.value)}(n,t):n instanceof ti?function(s,a){return a instanceof ti&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,c,d)=>u&&v1(c,a.filters[d]),!0):!1}(n,t):void Et(19439)}function _1(n){return n instanceof we?function(e){return`${e.field.canonicalString()} ${e.op} ${Co(e.value)}`}(n):n instanceof ti?function(e){return e.op.toString()+" {"+e.getFilters().map(_1).join(" ,")+"}"}(n):"Filter"}class nV extends we{constructor(t,e,s){super(t,e,s),this.key=gt.fromName(s.referenceValue)}matches(t){const e=gt.comparator(t.key,this.key);return this.matchesComparison(e)}}class iV extends we{constructor(t,e){super(t,"in",e),this.keys=T1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class sV extends we{constructor(t,e){super(t,"not-in",e),this.keys=T1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function T1(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>gt.fromName(s.referenceValue))}class rV extends we{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Dg(e)&&Su(e.arrayValue,this.value)}}class aV extends we{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Su(this.value.arrayValue,e)}}class oV extends we{constructor(t,e){super(t,"not-in",e)}matches(t){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Su(this.value.arrayValue,e)}}class lV extends we{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Dg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(t,e=null,s=[],a=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=c,this.endAt=d,this.Ie=null}}function tE(n,t=null,e=[],s=[],a=null,u=null,c=null){return new uV(n,t,e,s,a,u,c)}function xg(n){const t=Ct(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Dp(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),_f(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Co(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Co(s)).join(",")),t.Ie=e}return t.Ie}function Vg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!tV(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!v1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!JT(n.startAt,t.startAt)&&JT(n.endAt,t.endAt)}function xp(n){return gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t,e=null,s=[],a=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function cV(n,t,e,s,a,u,c,d){return new zo(n,t,e,s,a,u,c,d)}function Mg(n){return new zo(n)}function eE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function E1(n){return n.collectionGroup!==null}function hu(n){const t=Ct(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Me(Ye.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new wu(u,s))}),e.has(Ye.keyField().canonicalString())||t.Ee.push(new wu(Ye.keyField(),s))}return t.Ee}function Ai(n){const t=Ct(n);return t.de||(t.de=hV(t,hu(n))),t.de}function hV(n,t){if(n.limitType==="F")return tE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new wu(a.field,u)});const e=n.endAt?new Jh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Jh(n.startAt.position,n.startAt.inclusive):null;return tE(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Vp(n,t){const e=n.filters.concat([t]);return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Mp(n,t,e){return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ef(n,t){return Vg(Ai(n),Ai(t))&&n.limitType===t.limitType}function A1(n){return`${xg(Ai(n))}|lt:${n.limitType}`}function lo(n){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(a=>_1(a)).join(", ")}]`),_f(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>Co(a)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>Co(a)).join(",")),`Target(${s})`}(Ai(n))}; limitType=${n.limitType})`}function Af(n,t){return t.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(n,t)&&function(s,a){for(const u of hu(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(n,t)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(n,t)&&function(s,a){return!(s.startAt&&!function(c,d,m){const g=ZT(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,hu(s),a)||s.endAt&&!function(c,d,m){const g=ZT(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,hu(s),a))}(n,t)}function fV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function b1(n){return(t,e)=>{let s=!1;for(const a of hu(n)){const u=dV(a,t,e);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function dV(n,t,e){const s=n.field.isKeyField()?gt.comparator(t.key,e.key):function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Ro(m,g):Et(42886)}(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],t))return void(a[u]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ha(this.inner,(e,s)=>{for(const[a,u]of s)t(a,u)})}isEmpty(){return a1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new ue(gt.comparator);function ds(){return mV}const S1=new ue(gt.comparator);function iu(...n){let t=S1;for(const e of n)t=t.insert(e.key,e);return t}function w1(n){let t=S1;return n.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function ta(){return fu()}function R1(){return fu()}function fu(){return new fa(n=>n.toString(),(n,t)=>n.isEqual(t))}const pV=new ue(gt.comparator),gV=new Me(gt.comparator);function Lt(...n){let t=gV;for(const e of n)t=t.add(e);return t}const yV=new Me(Vt);function vV(){return yV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(t)?"-0":t}}function C1(n){return{integerValue:""+n}}function _V(n,t){return Kx(t)?C1(t):Og(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function TV(n,t,e){return n instanceof Ru?function(a,u){const c={fields:{[u1]:{stringValue:l1},[h1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Ig(u)&&(u=Tf(u)),u&&(c.fields[c1]=u),{mapValue:c}}(e,t):n instanceof Cu?D1(n,t):n instanceof Iu?x1(n,t):function(a,u){const c=I1(a,u),d=nE(c)+nE(a.Re);return Ip(c)&&Ip(a.Re)?C1(d):Og(a.serializer,d)}(n,t)}function EV(n,t,e){return n instanceof Cu?D1(n,t):n instanceof Iu?x1(n,t):e}function I1(n,t){return n instanceof tf?function(s){return Ip(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Ru extends bf{}class Cu extends bf{constructor(t){super(),this.elements=t}}function D1(n,t){const e=V1(t);for(const s of n.elements)e.some(a=>Ii(a,s))||e.push(s);return{arrayValue:{values:e}}}class Iu extends bf{constructor(t){super(),this.elements=t}}function x1(n,t){let e=V1(t);for(const s of n.elements)e=e.filter(a=>!Ii(a,s));return{arrayValue:{values:e}}}class tf extends bf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function nE(n){return ve(n.integerValue||n.doubleValue)}function V1(n){return Dg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(t,e){this.field=t,this.transform=e}}function bV(n,t){return n.field.isEqual(t.field)&&function(s,a){return s instanceof Cu&&a instanceof Cu||s instanceof Iu&&a instanceof Iu?wo(s.elements,a.elements,Ii):s instanceof tf&&a instanceof tf?Ii(s.Re,a.Re):s instanceof Ru&&a instanceof Ru}(n.transform,t.transform)}class SV{constructor(t,e){this.version=t,this.transformResults=e}}class bi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ph(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Sf{}function M1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ng(n.key,bi.none()):new Bu(n.key,n.data,bi.none());{const e=n.data,s=jn.empty();let a=new Me(Ye.comparator);for(let u of t.fields)if(!a.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?s.delete(u):s.set(u,c),a=a.add(u)}return new da(n.key,s,new Zn(a.toArray()),bi.none())}}function wV(n,t,e){n instanceof Bu?function(a,u,c){const d=a.value.clone(),m=sE(a.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof da?function(a,u,c){if(!Ph(a.precondition,u))return void u.convertToUnknownDocument(c.version);const d=sE(a.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(O1(a)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,t,e):function(a,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function du(n,t,e,s){return n instanceof Bu?function(u,c,d,m){if(!Ph(u.precondition,c))return d;const g=u.value.clone(),v=rE(u.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,s):n instanceof da?function(u,c,d,m){if(!Ph(u.precondition,c))return d;const g=rE(u.fieldTransforms,m,c),v=c.data;return v.setAll(O1(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,e,s):function(u,c,d){return Ph(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function RV(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),u=I1(s.transform,a||null);u!=null&&(e===null&&(e=jn.empty()),e.set(s.field,u))}return e||null}function iE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&wo(s,a,(u,c)=>bV(u,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Bu extends Sf{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class da extends Sf{constructor(t,e,s,a,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function O1(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}}),t}function sE(n,t,e){const s=new Map;Kt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let a=0;a<e.length;a++){const u=n[a],c=u.transform,d=t.data.field(u.field);s.set(u.field,EV(c,d,e[a]))}return s}function rE(n,t,e){const s=new Map;for(const a of n){const u=a.transform,c=e.data.field(a.field);s.set(a.field,TV(u,c,t))}return s}class Ng extends Sf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CV extends Sf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(t.key)&&wV(u,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=du(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=du(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=R1();return this.mutations.forEach(a=>{const u=t.get(a.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(a.key)?null:d;const m=M1(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Lt())}isEqual(t){return this.batchId===t.batchId&&wo(this.mutations,t.mutations,(e,s)=>iE(e,s))&&wo(this.baseMutations,t.baseMutations,(e,s)=>iE(e,s))}}class Pg{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){Kt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let a=function(){return pV}();const u=t.mutations;for(let c=0;c<u.length;c++)a=a.insert(u[c].key,s[c].version);return new Pg(t,e,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Ft;function VV(n){switch(n){case tt.OK:return Et(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function N1(n){if(n===void 0)return fs("GRPC error has no .code"),tt.UNKNOWN;switch(n){case be.OK:return tt.OK;case be.CANCELLED:return tt.CANCELLED;case be.UNKNOWN:return tt.UNKNOWN;case be.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case be.INTERNAL:return tt.INTERNAL;case be.UNAVAILABLE:return tt.UNAVAILABLE;case be.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case be.NOT_FOUND:return tt.NOT_FOUND;case be.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case be.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case be.ABORTED:return tt.ABORTED;case be.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case be.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case be.DATA_LOSS:return tt.DATA_LOSS;default:return Et(39323,{code:n})}}(Ft=be||(be={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=new Js([4294967295,4294967295],0);function aE(n){const t=i1().encode(n),e=new Xb;return e.update(t),new Uint8Array(e.digest())}function oE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Js([e,s],0),new Js([a,u],0)]}class kg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new su(`Invalid padding: ${e}`);if(s<0)throw new su(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new su(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Js.fromNumber(this.pe)}we(t,e,s){let a=t.add(e.multiply(Js.fromNumber(s)));return a.compare(MV)===1&&(a=new Js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=aE(t),[s,a]=oE(e);for(let u=0;u<this.hashCount;u++){const c=this.we(s,a,u);if(!this.Se(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new kg(u,a,e);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const e=aE(t),[s,a]=oE(e);for(let u=0;u<this.hashCount;u++){const c=this.we(s,a,u);this.be(c)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,e,s,a,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,zu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new wf(Rt.min(),a,new ue(Vt),ds(),Lt())}}class zu{constructor(t,e,s,a,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new zu(s,e,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,e,s,a){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=a}}class P1{constructor(t,e){this.targetId=t,this.Ce=e}}class k1{constructor(t,e,s=Qe.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class lE{constructor(){this.Fe=0,this.Me=uE(),this.xe=Qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lt(),e=Lt(),s=Lt();return this.Me.forEach((a,u)=>{switch(u){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:Et(38017,{changeType:u})}}),new zu(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=uE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class OV{constructor(t){this.ze=t,this.je=new Map,this.He=ds(),this.Je=Eh(),this.Ye=Eh(),this.Ze=new ue(Vt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,s=t.Ce.count,a=this._t(e);if(a){const u=a.target;if(xp(u))if(s===0){const c=new gt(u.path);this.tt(e,c,tn.newNoDocument(c,Rt.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this.ut(e);if(c!==s){const d=this.ct(t),m=d?this.lt(d,t,c):1;if(m!==0){this.st(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=e;let c,d;try{c=ar(s).toUint8Array()}catch(m){if(m instanceof o1)return So("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new kg(c,a,u)}catch(m){return So(m instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let a=0;return s.forEach(u=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,u,null),a++)}),a}It(t){const e=new Map;this.je.forEach((u,c)=>{const d=this._t(c);if(d){if(u.current&&xp(d.target)){const m=new gt(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,tn.newNoDocument(m,t))}u.Le&&(e.set(c,u.qe()),u.Qe())}});let s=Lt();this.Ye.forEach((u,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.He.forEach((u,c)=>c.setReadTime(t));const a=new wf(t,e,this.Ze,this.He,s);return this.He=ds(),this.Je=Eh(),this.Ye=Eh(),this.Ze=new ue(Vt),a}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new lE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Me(Vt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Me(Vt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new lE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Eh(){return new ue(gt.comparator)}function uE(){return new ue(gt.comparator)}const NV={asc:"ASCENDING",desc:"DESCENDING"},PV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kV={and:"AND",or:"OR"};class LV{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Op(n,t){return n.useProto3Json||_f(t)?t:{value:t}}function ef(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function L1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function UV(n,t){return ef(n,t.toTimestamp())}function Si(n){return Kt(!!n,49232),Rt.fromTimestamp(function(e){const s=rr(e);return new Ve(s.seconds,s.nanos)}(n))}function Lg(n,t){return Np(n,t).canonicalString()}function Np(n,t){const e=function(a){return new ie(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function U1(n){const t=ie.fromString(n);return Kt(q1(t),10190,{key:t.toString()}),t}function Pp(n,t){return Lg(n.databaseId,t.path)}function Xm(n,t){const e=U1(t);if(e.get(1)!==n.databaseId.projectId)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new gt(z1(e))}function B1(n,t){return Lg(n.databaseId,t)}function BV(n){const t=U1(n);return t.length===4?ie.emptyPath():z1(t)}function kp(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z1(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cE(n,t,e){return{name:Pp(n,t),fields:e.value.mapValue.fields}}function zV(n,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),Qe.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Qe.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const v=g.code===void 0?tt.UNKNOWN:N1(g.code);return new dt(v,g.message||"")}(c);e=new k1(s,a,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Xm(n,s.document.name),u=Si(s.document.updateTime),c=s.document.createTime?Si(s.document.createTime):Rt.min(),d=new jn({mapValue:{fields:s.document.fields}}),m=tn.newFoundDocument(a,u,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new kh(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Xm(n,s.document),u=s.readTime?Si(s.readTime):Rt.min(),c=tn.newNoDocument(a,u),d=s.removedTargetIds||[];e=new kh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Xm(n,s.document),u=s.removedTargetIds||[];e=new kh([],u,a,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,c=new xV(a,u),d=s.targetId;e=new P1(d,c)}}return e}function jV(n,t){let e;if(t instanceof Bu)e={update:cE(n,t.key,t.value)};else if(t instanceof Ng)e={delete:Pp(n,t.key)};else if(t instanceof da)e={update:cE(n,t.key,t.data),updateMask:$V(t.fieldMask)};else{if(!(t instanceof CV))return Et(16599,{ft:t.type});e={verify:Pp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(u,c){const d=c.transform;if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof tf)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Et(20930,{transform:c.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:UV(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)}(n,t.precondition)),e}function FV(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map(e=>function(a,u){let c=a.updateTime?Si(a.updateTime):Si(u);return c.isEqual(Rt.min())&&(c=Si(u)),new SV(c,a.transformResults||[])}(e,t))):[]}function qV(n,t){return{documents:[B1(n,t.path)]}}function HV(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=B1(n,a);const u=function(g){if(g.length!==0)return F1(ti.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const c=function(g){if(g.length!==0)return g.map(v=>function(A){return{field:uo(A.field),direction:YV(A.dir)}}(v))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Op(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:a}}function GV(n){let t=BV(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){Kt(s===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=function(E){const A=j1(E);return A instanceof ti&&y1(A)?A.getFilters():[A]}(e.where));let c=[];e.orderBy&&(c=function(E){return E.map(A=>function(k){return new wu(co(k.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(e.orderBy));let d=null;e.limit&&(d=function(E){let A;return A=typeof E=="object"?E.value:E,_f(A)?null:A}(e.limit));let m=null;e.startAt&&(m=function(E){const A=!!E.before,C=E.values||[];return new Jh(C,A)}(e.startAt));let g=null;return e.endAt&&(g=function(E){const A=!E.before,C=E.values||[];return new Jh(C,A)}(e.endAt)),cV(t,a,c,u,d,"F",m,g)}function KV(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function j1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=co(e.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=co(e.unaryFilter.field);return we.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(e.unaryFilter.field);return we.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=co(e.unaryFilter.field);return we.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(n):n.fieldFilter!==void 0?function(e){return we.create(co(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ti.create(e.compositeFilter.filters.map(s=>j1(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(e.compositeFilter.op))}(n):Et(30097,{filter:n})}function YV(n){return NV[n]}function QV(n){return PV[n]}function XV(n){return kV[n]}function uo(n){return{fieldPath:n.canonicalString()}}function co(n){return Ye.fromServerFormat(n.fieldPath)}function F1(n){return n instanceof we?function(e){if(e.op==="=="){if(WT(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NAN"}};if($T(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(WT(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NOT_NAN"}};if($T(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(e.field),op:QV(e.op),value:e.value}}}(n):n instanceof ti?function(e){const s=e.getFilters().map(a=>F1(a));return s.length===1?s[0]:{compositeFilter:{op:XV(e.op),filters:s}}}(n):Et(54877,{filter:n})}function $V(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function q1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,e,s,a,u=Rt.min(),c=Rt.min(),d=Qe.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t){this.wt=t}}function ZV(n){const t=GV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.Cn=new tM}addToCollectionParentIndex(t,e){return this.Cn.add(e),Z.resolve()}getCollectionParents(t,e){return Z.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Z.resolve()}deleteFieldIndex(t,e){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,e){return Z.resolve()}getDocumentsMatchingTarget(t,e){return Z.resolve(null)}getIndexType(t,e){return Z.resolve(0)}getFieldIndexes(t,e){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,e){return Z.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,e){return Z.resolve(sr.min())}updateCollectionGroup(t,e,s){return Z.resolve()}updateIndexEntries(t,e){return Z.resolve()}}class tM{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Me(ie.comparator),u=!a.has(s);return this.index[e]=a.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Me(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H1=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(H1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Io(0)}static lr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LruGarbageCollector",eM=1048576;function dE([n,t],[e,s]){const a=Vt(n,e);return a===0?Vt(t,s):a}class nM{constructor(t){this.Er=t,this.buffer=new Me(dE),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();dE(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class iM{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ft(fE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Bo(e)?ft(fE,"Ignoring IndexedDB error during garbage collection: ",e):await Uo(e)}await this.mr(3e5)})}}class sM{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return Z.resolve(vf.le);const s=new nM(e);return this.gr.forEachTarget(t,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(hE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,a,u,c,d,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,e))).next(E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(g=Date.now(),oo()<=kt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:E})))}}function rM(n,t){return new sM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.changes=new fa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?Z.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(s!==null&&du(s.mutation,a,Zn.empty(),Ve.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Lt()){const a=ta();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,s).next(u=>{let c=iu();return u.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const s=ta();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Lt()))}populateOverlays(t,e,s){const a=[];return s.forEach(u=>{e.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(t,a).next(u=>{u.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,s,a){let u=ds();const c=fu(),d=function(){return fu()}();return e.forEach((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof da)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),du(v.mutation,g,v.mutation.getFieldMask(),Ve.now())):c.set(g.key,Zn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,v)=>c.set(g,v)),e.forEach((g,v)=>{var E;return d.set(g,new oM(v,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,e){const s=fu();let a=new ue((c,d)=>c-d),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let v=s.get(m)||Zn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const E=(a.get(d.batchId)||Lt()).add(m);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,E=R1();v.forEach(A=>{if(!u.has(A)){const C=M1(e.get(A),s.get(A));C!==null&&E.set(A,C),u=u.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return Z.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,a){return function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):E1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next(u=>{const c=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-u.size):Z.resolve(ta());let d=Eu,m=u;return c.next(g=>Z.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(t,v).next(A=>{m=m.insert(v,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Lt())).next(v=>({batchId:d,changes:w1(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new gt(e)).next(s=>{let a=iu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const u=e.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(t,u).next(d=>Z.forEach(d,m=>{const g=function(E,A){return new zo(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next(v=>{v.forEach((E,A)=>{c=c.insert(E,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,a))).next(c=>{u.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,tn.newInvalidDocument(v)))});let d=iu();return c.forEach((m,g)=>{const v=u.get(m);v!==void 0&&du(v.mutation,g,Zn.empty(),Ve.now()),Af(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return Z.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:Si(a.createTime)}}(e)),Z.resolve()}getNamedQuery(t,e){return Z.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(a){return{name:a.name,query:ZV(a.bundledQuery),readTime:Si(a.readTime)}}(e)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.overlays=new ue(gt.comparator),this.Qr=new Map}getOverlay(t,e){return Z.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ta();return Z.forEach(e,a=>this.getOverlay(t,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((a,u)=>{this.bt(t,e,u)}),Z.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),Z.resolve()}getOverlaysForCollection(t,e,s){const a=ta(),u=e.length+1,c=new gt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&a.set(m.getKey(),m)}return Z.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let u=new ue((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ta(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ta(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return Z.resolve(d)}bt(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new DV(e,s));let u=this.Qr.get(e);u===void 0&&(u=Lt(),this.Qr.set(e,u)),this.Qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.$r=new Me(Be.Ur),this.Kr=new Me(Be.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new Be(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new Be(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new gt(new ie([])),s=new Be(e,t),a=new Be(e,t+1),u=[];return this.Kr.forEachInRange([s,a],c=>{this.zr(c),u.push(c.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new gt(new ie([])),s=new Be(e,t),a=new Be(e,t+1);let u=Lt();return this.Kr.forEachInRange([s,a],c=>{u=u.add(c.key)}),u}containsKey(t){const e=new Be(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return gt.comparator(t.key,e.key)||Vt(t.Zr,e.Zr)}static Wr(t,e){return Vt(t.Zr,e.Zr)||gt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Me(Be.Ur)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new IV(u,e,s,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Be(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(t,e){return Z.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.ti(s),u=a<0?0:a;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Cg:this.nr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Be(e,0),a=new Be(e,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,a],c=>{const d=this.ei(c.Zr);u.push(d)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Me(Vt);return e.forEach(a=>{const u=new Be(a,0),c=new Be(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,c],d=>{s=s.add(d.Zr)})}),Z.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const c=new Be(new gt(u),0);let d=new Me(Vt);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Zr)),!0)},c),Z.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(s=>{const a=this.ei(s);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){Kt(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Z.forEach(e.mutations,a=>{const u=new Be(a.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new Be(e,0),a=this.Xr.firstAfterOrEqual(s);return Z.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t){this.ii=t,this.docs=function(){return new ue(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),u=a?a.size:0,c=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return Z.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(e))}getEntries(t,e){let s=ds();return e.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():tn.newInvalidDocument(a))}),Z.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let u=ds();const c=e.path,d=new gt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Fx(jx(v),s)<=0||(a.has(v.key)||Af(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,e,s,a){Et(9500)}si(t,e){return Z.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new mM(this)}getSize(t){return Z.resolve(this.size)}}class mM extends aM{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?e.push(this.Br.addEntry(t,a)):this.Br.removeEntry(s)}),Z.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t){this.persistence=t,this.oi=new fa(e=>xg(e),Vg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this._i=0,this.ai=new Ug,this.targetCount=0,this.ui=Io.cr()}forEachTarget(t,e){return this.oi.forEach((s,a)=>e(a)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),Z.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Io(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,Z.resolve()}updateTargetData(t,e){return this.Tr(e),Z.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,e,s){let a=0;const u=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.oi.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),Z.waitFor(u).next(()=>a)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return Z.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),Z.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const a=this.persistence.referenceDelegate,u=[];return a&&e.forEach(c=>{u.push(a.markPotentiallyOrphaned(t,c))}),Z.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),Z.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return Z.resolve(s)}containsKey(t,e){return Z.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,e){this.ci={},this.overlays={},this.li=new vf(0),this.hi=!1,this.hi=!0,this.Pi=new hM,this.referenceDelegate=t(this),this.Ti=new pM(this),this.indexManager=new JV,this.remoteDocumentCache=function(a){return new dM(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new WV(e),this.Ei=new uM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new cM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new fM(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){ft("MemoryPersistence","Starting transaction:",t);const a=new gM(this.li.next());return this.referenceDelegate.di(),s(a).next(u=>this.referenceDelegate.Ai(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ri(t,e){return Z.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class gM extends Hx{constructor(t){super(),this.currentSequenceNumber=t}}class Bg{constructor(t){this.persistence=t,this.Vi=new Ug,this.mi=null}static fi(t){return new Bg(t)}get gi(){if(this.mi)return this.mi;throw Et(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),Z.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),Z.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,s=>{const a=gt.fromPath(s);return this.pi(t,a).next(u=>{u||e.removeEntry(a,Rt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return Z.or([()=>Z.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class nf{constructor(t,e){this.persistence=t,this.yi=new fa(s=>Yx(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=rM(this,e)}static fi(t,e){return new nf(t,e)}di(){}Ai(t){return Z.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(a=>s+a))}Sr(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return Z.forEach(this.yi,(s,a)=>this.Dr(t,s,a).next(u=>u?Z.resolve():e(a)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,e).next(d=>{d||(s++,u.removeEntry(c,Rt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),Z.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),Z.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Oh(t.data.value)),e}Dr(t,e,s){return Z.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.yi.get(e);return Z.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.ds=s,this.As=a}static Rs(t,e){let s=Lt(),a=Lt();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new zg(t,e.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return fI()?8:Gx(nn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,a){const u={result:null};return this.ws(t,e).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.Ss(t,e,a,s).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new yM;return this.bs(t,e,c).next(d=>{if(u.result=d,this.fs)return this.Ds(t,e,c,d.size)})}).next(()=>u.result)}Ds(t,e,s,a){return s.documentReadCount<this.gs?(oo()<=kt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",lo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(oo()<=kt.DEBUG&&ft("QueryEngine","Query:",lo(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(oo()<=kt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",lo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(e))):Z.resolve())}ws(t,e){if(eE(e))return Z.resolve(null);let s=Ai(e);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=Mp(e,null,"F"),s=Ai(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const c=Lt(...u);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.vs(e,d);return this.Cs(e,g,c,m.readTime)?this.ws(t,Mp(e,null,"F")):this.Fs(t,g,e,m)}))})))}Ss(t,e,s,a){return eE(e)||a.isEqual(Rt.min())?Z.resolve(null):this.ys.getDocuments(t,s).next(u=>{const c=this.vs(e,u);return this.Cs(e,c,s,a)?Z.resolve(null):(oo()<=kt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),lo(e)),this.Fs(t,c,e,zx(a,Eu)).next(d=>d))})}vs(t,e){let s=new Me(b1(t));return e.forEach((a,u)=>{Af(t,u)&&(s=s.add(u))}),s}Cs(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}bs(t,e,s){return oo()<=kt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",lo(e)),this.ys.getDocumentsMatchingQuery(t,e,sr.min(),s)}Fs(t,e,s,a){return this.ys.getDocumentsMatchingQuery(t,s,a).next(u=>(e.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="LocalStore",_M=3e8;class TM{constructor(t,e,s,a){this.persistence=t,this.Ms=e,this.serializer=a,this.xs=new ue(Vt),this.Os=new fa(u=>xg(u),Vg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function EM(n,t,e,s){return new TM(n,t,e,s)}async function K1(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(u=>{const c=[],d=[];let m=Lt();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return e.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function AM(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),u=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const E=g.batch,A=E.keys();let C=Z.resolve();return A.forEach(k=>{C=C.next(()=>v.getEntry(m,k)).next(q=>{const U=g.docVersions.get(k);Kt(U!==null,48541),q.version.compareTo(U)<0&&(E.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(e,s,t,u).next(()=>u.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Lt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(s,a))})}function Y1(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function bM(n,t){const e=Ct(n),s=t.snapshotVersion;let a=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=e.Bs.newChangeBuffer({trackRemovals:!0});a=e.xs;const d=[];t.targetChanges.forEach((v,E)=>{const A=a.get(E);if(!A)return;d.push(e.Ti.removeMatchingKeys(u,v.removedDocuments,E).next(()=>e.Ti.addMatchingKeys(u,v.addedDocuments,E)));let C=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(Qe.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),a=a.insert(E,C),function(q,U,X){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=_M?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(A,C,v)&&d.push(e.Ti.updateTargetData(u,C))});let m=ds(),g=Lt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(SM(u,c,t.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!s.isEqual(Rt.min())){const v=e.Ti.getLastRemoteSnapshotVersion(u).next(E=>e.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(v)}return Z.waitFor(d).next(()=>c.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(e.xs=a,u))}function SM(n,t,e){let s=Lt(),a=Lt();return e.forEach(u=>s=s.add(u)),t.getEntries(n,s).next(u=>{let c=ds();return e.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Rt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ft(jg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function wM(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Cg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function RM(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return e.Ti.getTargetData(s,t).next(u=>u?(a=u,Z.resolve(a)):e.Ti.allocateTargetId(s).next(c=>(a=new $s(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=e.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Lp(n,t,e){const s=Ct(n),a=s.xs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Bo(c))throw c;ft(jg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.xs=s.xs.remove(t),s.Os.delete(a.target)}function mE(n,t,e){const s=Ct(n);let a=Rt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const E=Ct(m),A=E.Os.get(v);return A!==void 0?Z.resolve(E.xs.get(A)):E.Ti.getTargetData(g,v)}(s,c,Ai(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{u=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,t,e?a:Rt.min(),e?u:Lt())).next(d=>(CM(s,fV(t),d),{documents:d,$s:u})))}function CM(n,t,e){let s=n.Ns.get(t)||Rt.min();e.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),n.Ns.set(t,s)}class pE{constructor(){this.activeTargetIds=vV()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class IM{constructor(){this.xo=new pE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new pE,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="ConnectivityMonitor";class yE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ft(gE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ft(gE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function Up(){return Ah===null?Ah=function(){return 268435456+Math.round(2147483648*Math.random())}():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",xM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VM{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===Wh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(t,e,s,a,u){const c=Up(),d=this.jo(t,e.toUriEncodedString());ft($m,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,u);const{host:g}=new URL(d),v=No(g);return this.Jo(t,d,m,s,v).then(E=>(ft($m,`Received RPC '${t}' ${c}: `,E),E),E=>{throw So($m,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E})}Yo(t,e,s,a,u,c){return this.zo(t,e,s,a,u)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}jo(t,e){const s=xM[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class OM extends VM{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,a,u){const c=Up();return new Promise((d,m)=>{const g=new $b;g.setWithCredentials(!0),g.listenOnce(Wb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Mh.NO_ERROR:const E=g.getResponseJson();ft(Ze,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case Mh.TIMEOUT:ft(Ze,`RPC '${t}' ${c} timed out`),m(new dt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const A=g.getStatus();if(ft(Ze,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C==null?void 0:C.error;if(k&&k.status&&k.message){const q=function(X){const J=X.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(J)>=0?J:tt.UNKNOWN}(k.status);m(new dt(q,k.message))}else m(new dt(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new dt(tt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(Ze,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(a);ft(Ze,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",v,s,15)})}T_(t,e,s){const a=Up(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=t1(),d=Jb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const v=u.join("");ft(Ze,`Creating RPC '${t}' stream ${a}: ${v}`,m);const E=c.createWebChannel(v,m);let A=!1,C=!1;const k=new MM({Zo:U=>{C?ft(Ze,`Not sending because RPC '${t}' stream ${a} is closed:`,U):(A||(ft(Ze,`Opening RPC '${t}' stream ${a} transport.`),E.open(),A=!0),ft(Ze,`RPC '${t}' stream ${a} sending:`,U),E.send(U))},Xo:()=>E.close()}),q=(U,X,J)=>{U.listen(X,Y=>{try{J(Y)}catch(rt){setTimeout(()=>{throw rt},0)}})};return q(E,nu.EventType.OPEN,()=>{C||(ft(Ze,`RPC '${t}' stream ${a} transport opened.`),k.__())}),q(E,nu.EventType.CLOSE,()=>{C||(C=!0,ft(Ze,`RPC '${t}' stream ${a} transport closed`),k.u_())}),q(E,nu.EventType.ERROR,U=>{C||(C=!0,So(Ze,`RPC '${t}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),k.u_(new dt(tt.UNAVAILABLE,"The operation could not be completed")))}),q(E,nu.EventType.MESSAGE,U=>{var X;if(!C){const J=U.data[0];Kt(!!J,16349);const Y=J,rt=(Y==null?void 0:Y.error)||((X=Y[0])===null||X===void 0?void 0:X.error);if(rt){ft(Ze,`RPC '${t}' stream ${a} received error:`,rt);const et=rt.status;let ht=function(I){const O=be[I];if(O!==void 0)return N1(O)}(et),V=rt.message;ht===void 0&&(ht=tt.INTERNAL,V="Unknown error status: "+et+" with message "+rt.message),C=!0,k.u_(new dt(ht,V)),E.close()}else ft(Ze,`RPC '${t}' stream ${a} received:`,J),k.c_(J)}}),q(d,Zb.STAT_EVENT,U=>{U.stat===wp.PROXY?ft(Ze,`RPC '${t}' stream ${a} detected buffering proxy`):U.stat===wp.NOPROXY&&ft(Ze,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n){return new LV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,e,s=1e3,a=1.5,u=6e4){this.xi=t,this.timerId=e,this.I_=s,this.E_=a,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const e=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),a=Math.max(0,e-s);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="PersistentStream";class X1{constructor(t,e,s,a,u,c,d,m){this.xi=t,this.y_=s,this.w_=a,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Q1(t,e)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,e){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(fs(e.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):e&&e.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),e=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.S_===e&&this.K_(s,a)},s=>{t(()=>{const a=new dt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(a)})})}K_(t,e){const s=this.U_(this.S_);this.stream=this.G_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.W_(a))}),this.stream.onMessage(a=>{s(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return ft(vE,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return e=>{this.xi.enqueueAndForget(()=>this.S_===t?e():(ft(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NM extends X1{constructor(t,e,s,a,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=u}G_(t,e){return this.connection.T_("Listen",t,e)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const e=zV(this.serializer,t),s=function(u){if(!("targetChange"in u))return Rt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Si(c.readTime):Rt.min()}(t);return this.listener.j_(e,s)}H_(t){const e={};e.database=kp(this.serializer),e.addTarget=function(u,c){let d;const m=c.target;if(d=xp(m)?{documents:qV(u,m)}:{query:HV(u,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=L1(u,c.resumeToken);const g=Op(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Rt.min())>0){d.readTime=ef(u,c.snapshotVersion.toTimestamp());const g=Op(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=KV(this.serializer,t);s&&(e.labels=s),this.L_(e)}J_(t){const e={};e.database=kp(this.serializer),e.removeTarget=t,this.L_(e)}}class PM extends X1{constructor(t,e,s,a,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,e){return this.connection.T_("Write",t,e)}z_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const e=FV(t.writeResults,t.commitTime),s=Si(t.commitTime);return this.listener.ea(s,e)}ta(){const t={};t.database=kp(this.serializer),this.L_(t)}Z_(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>jV(this.serializer,s))};this.L_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{}class LM extends kM{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.na=!1}ra(){if(this.na)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.zo(t,Np(e,s),a,u,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(tt.UNKNOWN,u.toString())})}Yo(t,e,s,a,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,Np(e,s),a,c,d,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(tt.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class UM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(fs(e),this.oa=!1):ft("OnlineStateTracker",e)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class BM{constructor(t,e,s,a,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(c=>{s.enqueueAndForget(async()=>{ma(this)&&(ft(ua,"Restarting streams for network reachability change."),await async function(m){const g=Ct(m);g.Ta.add(4),await ju(g),g.da.set("Unknown"),g.Ta.delete(4),await Cf(g)}(this))})}),this.da=new UM(s,a)}}async function Cf(n){if(ma(n))for(const t of n.Ia)await t(!0)}async function ju(n){for(const t of n.Ia)await t(!1)}function $1(n,t){const e=Ct(n);e.Pa.has(t.targetId)||(e.Pa.set(t.targetId,t),Gg(e)?Hg(e):jo(e).M_()&&qg(e,t))}function Fg(n,t){const e=Ct(n),s=jo(e);e.Pa.delete(t),s.M_()&&W1(e,t),e.Pa.size===0&&(s.M_()?s.N_():ma(e)&&e.da.set("Unknown"))}function qg(n,t){if(n.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}jo(n).H_(t)}function W1(n,t){n.Aa.Ke(t),jo(n).J_(t)}function Hg(n){n.Aa=new OV({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Pa.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),jo(n).start(),n.da._a()}function Gg(n){return ma(n)&&!jo(n).F_()&&n.Pa.size>0}function ma(n){return Ct(n).Ta.size===0}function Z1(n){n.Aa=void 0}async function zM(n){n.da.set("Online")}async function jM(n){n.Pa.forEach((t,e)=>{qg(n,t)})}async function FM(n,t){Z1(n),Gg(n)?(n.da.ca(t),Hg(n)):n.da.set("Unknown")}async function qM(n,t,e){if(n.da.set("Online"),t instanceof k1&&t.state===2&&t.cause)try{await async function(a,u){const c=u.cause;for(const d of u.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Pa.delete(d),a.Aa.removeTarget(d))}(n,t)}catch(s){ft(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await sf(n,s)}else if(t instanceof kh?n.Aa.Xe(t):t instanceof P1?n.Aa.ot(t):n.Aa.nt(t),!e.isEqual(Rt.min()))try{const s=await Y1(n.localStore);e.compareTo(s)>=0&&await function(u,c){const d=u.Aa.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Pa.get(g);v&&u.Pa.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=u.Pa.get(m);if(!v)return;u.Pa.set(m,v.withResumeToken(Qe.EMPTY_BYTE_STRING,v.snapshotVersion)),W1(u,m);const E=new $s(v.target,m,g,v.sequenceNumber);qg(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(s){ft(ua,"Failed to raise snapshot:",s),await sf(n,s)}}async function sf(n,t,e){if(!Bo(t))throw t;n.Ta.add(1),await ju(n),n.da.set("Offline"),e||(e=()=>Y1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ft(ua,"Retrying IndexedDB access"),await e(),n.Ta.delete(1),await Cf(n)})}function J1(n,t){return t().catch(e=>sf(n,e,t))}async function If(n){const t=Ct(n),e=lr(t);let s=t.ha.length>0?t.ha[t.ha.length-1].batchId:Cg;for(;HM(t);)try{const a=await wM(t.localStore,s);if(a===null){t.ha.length===0&&e.N_();break}s=a.batchId,GM(t,a)}catch(a){await sf(t,a)}tS(t)&&eS(t)}function HM(n){return ma(n)&&n.ha.length<10}function GM(n,t){n.ha.push(t);const e=lr(n);e.M_()&&e.Y_&&e.Z_(t.mutations)}function tS(n){return ma(n)&&!lr(n).F_()&&n.ha.length>0}function eS(n){lr(n).start()}async function KM(n){lr(n).ta()}async function YM(n){const t=lr(n);for(const e of n.ha)t.Z_(e.mutations)}async function QM(n,t,e){const s=n.ha.shift(),a=Pg.from(s,t,e);await J1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await If(n)}async function XM(n,t){t&&lr(n).Y_&&await async function(s,a){if(function(c){return VV(c)&&c!==tt.ABORTED}(a.code)){const u=s.ha.shift();lr(s).O_(),await J1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await If(s)}}(n,t),tS(n)&&eS(n)}async function _E(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),ft(ua,"RemoteStore received new credentials");const s=ma(e);e.Ta.add(3),await ju(e),s&&e.da.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ta.delete(3),await Cf(e)}async function $M(n,t){const e=Ct(n);t?(e.Ta.delete(2),await Cf(e)):t||(e.Ta.add(2),await ju(e),e.da.set("Unknown"))}function jo(n){return n.Ra||(n.Ra=function(e,s,a){const u=Ct(e);return u.ra(),new NM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:zM.bind(null,n),n_:jM.bind(null,n),i_:FM.bind(null,n),j_:qM.bind(null,n)}),n.Ia.push(async t=>{t?(n.Ra.O_(),Gg(n)?Hg(n):n.da.set("Unknown")):(await n.Ra.stop(),Z1(n))})),n.Ra}function lr(n){return n.Va||(n.Va=function(e,s,a){const u=Ct(e);return u.ra(),new PM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:KM.bind(null,n),i_:XM.bind(null,n),X_:YM.bind(null,n),ea:QM.bind(null,n)}),n.Ia.push(async t=>{t?(n.Va.O_(),await If(n)):(await n.Va.stop(),n.ha.length>0&&(ft(ua,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t,e,s,a,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,u){const c=Date.now()+s,d=new Kg(t,e,c,a,u);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(n,t){if(fs("AsyncQueue",`${t}: ${n}`),Bo(n))return new dt(tt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(t){return new Eo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||gt.comparator(e.key,s.key):(e,s)=>gt.comparator(e.key,s.key),this.keyedMap=iu(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Eo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.ma=new ue(gt.comparator)}track(t){const e=t.doc.key,s=this.ma.get(e);s?t.type!==0&&s.type===3?this.ma=this.ma.insert(e,t):t.type===3&&s.type!==1?this.ma=this.ma.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ma=this.ma.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ma=this.ma.remove(e):t.type===1&&s.type===2?this.ma=this.ma.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):Et(63341,{Vt:t,fa:s}):this.ma=this.ma.insert(e,t)}ga(){const t=[];return this.ma.inorderTraversal((e,s)=>{t.push(s)}),t}}class Do{constructor(t,e,s,a,u,c,d,m,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,a,u){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Do(t,e,Eo.emptySet(e),c,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class ZM{constructor(){this.queries=EE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(e,s){const a=Ct(e),u=a.queries;a.queries=EE(),u.forEach((c,d)=>{for(const m of d.ya)m.onError(s)})})(this,new dt(tt.ABORTED,"Firestore shutting down"))}}function EE(){return new fa(n=>A1(n),Ef)}async function nS(n,t){const e=Ct(n);let s=3;const a=t.query;let u=e.queries.get(a);u?!u.wa()&&t.Sa()&&(s=2):(u=new WM,s=t.Sa()?0:1);try{switch(s){case 0:u.pa=await e.onListen(a,!0);break;case 1:u.pa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=Yg(c,`Initialization of query '${lo(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,u),u.ya.push(t),t.Da(e.onlineState),u.pa&&t.va(u.pa)&&Qg(e)}async function iS(n,t){const e=Ct(n),s=t.query;let a=3;const u=e.queries.get(s);if(u){const c=u.ya.indexOf(t);c>=0&&(u.ya.splice(c,1),u.ya.length===0?a=t.Sa()?0:1:!u.wa()&&t.Sa()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function JM(n,t){const e=Ct(n);let s=!1;for(const a of t){const u=a.query,c=e.queries.get(u);if(c){for(const d of c.ya)d.va(a)&&(s=!0);c.pa=a}}s&&Qg(e)}function tO(n,t,e){const s=Ct(n),a=s.queries.get(t);if(a)for(const u of a.ya)u.onError(e);s.queries.delete(t)}function Qg(n){n.ba.forEach(t=>{t.next()})}var Bp,AE;(AE=Bp||(Bp={})).Ca="default",AE.Cache="cache";class sS{constructor(t,e,s){this.query=t,this.Fa=e,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Do(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),e=!0):this.Na(t,this.onlineState)&&(this.Ba(t),e=!0),this.xa=t,e}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let e=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),e=!0),e}Na(t,e){if(!t.fromCache||!this.Sa())return!0;const s=e!=="Offline";return(!this.options.La||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const e=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ba(t){t=Do.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t){this.key=t}}class aS{constructor(t){this.key=t}}class eO{constructor(t,e){this.query=t,this.Ga=e,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Lt(),this.mutatedKeys=Lt(),this.Ha=b1(t),this.Ja=new Eo(this.Ha)}get Ya(){return this.Ga}Za(t,e){const s=e?e.Xa:new TE,a=e?e.Ja:this.Ja;let u=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((v,E)=>{const A=a.get(v),C=Af(this.query,E)?E:null,k=!!A&&this.mutatedKeys.has(A.key),q=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;A&&C?A.data.isEqual(C.data)?k!==q&&(s.track({type:3,doc:C}),U=!0):this.eu(A,C)||(s.track({type:2,doc:C}),U=!0,(m&&this.Ha(C,m)>0||g&&this.Ha(C,g)<0)&&(d=!0)):!A&&C?(s.track({type:0,doc:C}),U=!0):A&&!C&&(s.track({type:1,doc:A}),U=!0,(m||g)&&(d=!0)),U&&(C?(c=c.add(C),u=q?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{Ja:c,Xa:s,Cs:d,mutatedKeys:u}}eu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const u=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const c=t.Xa.ga();c.sort((v,E)=>function(C,k){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:U})}};return q(C)-q(k)}(v.type,E.type)||this.Ha(v.doc,E.doc)),this.tu(s),a=a!=null&&a;const d=e&&!a?this.nu():[],m=this.ja.size===0&&this.current&&!a?1:0,g=m!==this.za;return this.za=m,c.length!==0||g?{snapshot:new Do(this.query,t.Ja,u,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new TE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(e=>this.Ga=this.Ga.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ga=this.Ga.delete(e)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Lt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const e=[];return t.forEach(s=>{this.ja.has(s)||e.push(new aS(s))}),this.ja.forEach(s=>{t.has(s)||e.push(new rS(s))}),e}su(t){this.Ga=t.$s,this.ja=Lt();const e=this.Za(t.documents);return this.applyChanges(e,!0)}ou(){return Do.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Xg="SyncEngine";class nO{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class iO{constructor(t){this.key=t,this._u=!1}}class sO{constructor(t,e,s,a,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new fa(d=>A1(d),Ef),this.cu=new Map,this.lu=new Set,this.hu=new ue(gt.comparator),this.Pu=new Map,this.Tu=new Ug,this.Iu={},this.Eu=new Map,this.du=Io.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function rO(n,t,e=!0){const s=fS(n);let a;const u=s.uu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.ou()):a=await oS(s,t,e,!0),a}async function aO(n,t){const e=fS(n);await oS(e,t,!0,!1)}async function oS(n,t,e,s){const a=await RM(n.localStore,Ai(t)),u=a.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await oO(n,t,u,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&$1(n.remoteStore,a),d}async function oO(n,t,e,s,a){n.Ru=(E,A,C)=>async function(q,U,X,J){let Y=U.view.Za(X);Y.Cs&&(Y=await mE(q.localStore,U.query,!1).then(({documents:V})=>U.view.Za(V,Y)));const rt=J&&J.targetChanges.get(U.targetId),et=J&&J.targetMismatches.get(U.targetId)!=null,ht=U.view.applyChanges(Y,q.isPrimaryClient,rt,et);return SE(q,U.targetId,ht.ru),ht.snapshot}(n,E,A,C);const u=await mE(n.localStore,t,!0),c=new eO(t,u.$s),d=c.Za(u.documents),m=zu.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,m);SE(n,e,g.ru);const v=new nO(t,e,c);return n.uu.set(t,v),n.cu.has(e)?n.cu.get(e).push(t):n.cu.set(e,[t]),g.snapshot}async function lO(n,t,e){const s=Ct(n),a=s.uu.get(t),u=s.cu.get(a.targetId);if(u.length>1)return s.cu.set(a.targetId,u.filter(c=>!Ef(c,t))),void s.uu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Lp(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),e&&Fg(s.remoteStore,a.targetId),zp(s,a.targetId)}).catch(Uo)):(zp(s,a.targetId),await Lp(s.localStore,a.targetId,!0))}async function uO(n,t){const e=Ct(n),s=e.uu.get(t),a=e.cu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Fg(e.remoteStore,s.targetId))}async function cO(n,t,e){const s=yO(n);try{const a=await function(c,d){const m=Ct(c),g=Ve.now(),v=d.reduce((C,k)=>C.add(k.key),Lt());let E,A;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=ds(),q=Lt();return m.Bs.getEntries(C,v).next(U=>{k=U,k.forEach((X,J)=>{J.isValidDocument()||(q=q.add(X))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,k)).next(U=>{E=U;const X=[];for(const J of d){const Y=RV(J,E.get(J.key).overlayedDocument);Y!=null&&X.push(new da(J.key,Y,m1(Y.value.mapValue),bi.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,X,d)}).next(U=>{A=U;const X=U.applyToLocalDocumentSet(E,q);return m.documentOverlayCache.saveOverlays(C,U.batchId,X)})}).then(()=>({batchId:A.batchId,changes:w1(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Iu[c.currentUser.toKey()];g||(g=new ue(Vt)),g=g.insert(d,m),c.Iu[c.currentUser.toKey()]=g}(s,a.batchId,e),await Fu(s,a.changes),await If(s.remoteStore)}catch(a){const u=Yg(a,"Failed to persist write");e.reject(u)}}async function lS(n,t){const e=Ct(n);try{const s=await bM(e.localStore,t);t.targetChanges.forEach((a,u)=>{const c=e.Pu.get(u);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?Kt(c._u,14607):a.removedDocuments.size>0&&(Kt(c._u,42227),c._u=!1))}),await Fu(e,s,t)}catch(s){await Uo(s)}}function bE(n,t,e){const s=Ct(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.uu.forEach((u,c)=>{const d=c.view.Da(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ct(c);m.onlineState=d;let g=!1;m.queries.forEach((v,E)=>{for(const A of E.ya)A.Da(d)&&(g=!0)}),g&&Qg(m)}(s.eventManager,t),a.length&&s.au.j_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function hO(n,t,e){const s=Ct(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Pu.get(t),u=a&&a.key;if(u){let c=new ue(gt.comparator);c=c.insert(u,tn.newNoDocument(u,Rt.min()));const d=Lt().add(u),m=new wf(Rt.min(),new Map,new ue(Vt),c,d);await lS(s,m),s.hu=s.hu.remove(u),s.Pu.delete(t),$g(s)}else await Lp(s.localStore,t,!1).then(()=>zp(s,t,e)).catch(Uo)}async function fO(n,t){const e=Ct(n),s=t.batch.batchId;try{const a=await AM(e.localStore,t);cS(e,s,null),uS(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Fu(e,a)}catch(a){await Uo(a)}}async function dO(n,t,e){const s=Ct(n);try{const a=await function(c,d){const m=Ct(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(E=>(Kt(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,t);cS(s,t,e),uS(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Fu(s,a)}catch(a){await Uo(a)}}function uS(n,t){(n.Eu.get(t)||[]).forEach(e=>{e.resolve()}),n.Eu.delete(t)}function cS(n,t,e){const s=Ct(n);let a=s.Iu[s.currentUser.toKey()];if(a){const u=a.get(t);u&&(e?u.reject(e):u.resolve(),a=a.remove(t)),s.Iu[s.currentUser.toKey()]=a}}function zp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.cu.get(t))n.uu.delete(s),e&&n.au.Vu(s,e);n.cu.delete(t),n.isPrimaryClient&&n.Tu.Hr(t).forEach(s=>{n.Tu.containsKey(s)||hS(n,s)})}function hS(n,t){n.lu.delete(t.path.canonicalString());const e=n.hu.get(t);e!==null&&(Fg(n.remoteStore,e),n.hu=n.hu.remove(t),n.Pu.delete(e),$g(n))}function SE(n,t,e){for(const s of e)s instanceof rS?(n.Tu.addReference(s.key,t),mO(n,s)):s instanceof aS?(ft(Xg,"Document no longer in limbo: "+s.key),n.Tu.removeReference(s.key,t),n.Tu.containsKey(s.key)||hS(n,s.key)):Et(19791,{mu:s})}function mO(n,t){const e=t.key,s=e.path.canonicalString();n.hu.get(e)||n.lu.has(s)||(ft(Xg,"New document in limbo: "+e),n.lu.add(s),$g(n))}function $g(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const t=n.lu.values().next().value;n.lu.delete(t);const e=new gt(ie.fromString(t)),s=n.du.next();n.Pu.set(s,new iO(e)),n.hu=n.hu.insert(e,s),$1(n.remoteStore,new $s(Ai(Mg(e.path)),s,"TargetPurposeLimboResolution",vf.le))}}async function Fu(n,t,e){const s=Ct(n),a=[],u=[],c=[];s.uu.isEmpty()||(s.uu.forEach((d,m)=>{c.push(s.Ru(m,t,e).then(g=>{var v;if((g||e)&&s.isPrimaryClient){const E=g?!g.fromCache:(v=e==null?void 0:e.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){a.push(g);const E=zg.Rs(m.targetId,g);u.push(E)}}))}),await Promise.all(c),s.au.j_(a),await async function(m,g){const v=Ct(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Z.forEach(g,A=>Z.forEach(A.ds,C=>v.persistence.referenceDelegate.addReference(E,A.targetId,C)).next(()=>Z.forEach(A.As,C=>v.persistence.referenceDelegate.removeReference(E,A.targetId,C)))))}catch(E){if(!Bo(E))throw E;ft(jg,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const C=v.xs.get(A),k=C.snapshotVersion,q=C.withLastLimboFreeSnapshotVersion(k);v.xs=v.xs.insert(A,q)}}}(s.localStore,u))}async function pO(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){ft(Xg,"User change. New user:",t.toKey());const s=await K1(e.localStore,t);e.currentUser=t,function(u,c){u.Eu.forEach(d=>{d.forEach(m=>{m.reject(new dt(tt.CANCELLED,c))})}),u.Eu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Fu(e,s.ks)}}function gO(n,t){const e=Ct(n),s=e.Pu.get(t);if(s&&s._u)return Lt().add(s.key);{let a=Lt();const u=e.cu.get(t);if(!u)return a;for(const c of u){const d=e.uu.get(c);a=a.unionWith(d.view.Ya)}return a}}function fS(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=lS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hO.bind(null,t),t.au.j_=JM.bind(null,t.eventManager),t.au.Vu=tO.bind(null,t.eventManager),t}function yO(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,t),t}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rf(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,e){return null}bu(t,e){return null}wu(t){return EM(this.persistence,new vM,t.initialUser,this.serializer)}yu(t){return new G1(Bg.fi,this.serializer)}pu(t){return new IM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class vO extends rf{constructor(t){super(),this.cacheSizeBytes=t}Su(t,e){Kt(this.persistence.referenceDelegate instanceof nf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iM(s,t.asyncQueue,e)}yu(t){const e=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new G1(s=>nf.fi(s,e),this.serializer)}}class jp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pO.bind(null,this.syncEngine),await $M(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ZM}()}createDatastore(t){const e=Rf(t.databaseInfo.databaseId),s=function(u){return new OM(u)}(t.databaseInfo);return function(u,c,d,m){return new LM(u,c,d,m)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,a,u,c,d){return new BM(s,a,u,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>bE(this.syncEngine,e,0),function(){return yE.C()?new yE:new DM}())}createSyncEngine(t,e){return function(a,u,c,d,m,g,v){const E=new sO(a,u,c,d,m,g);return v&&(E.Au=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const u=Ct(a);ft(ua,"RemoteStore shutting down."),u.Ta.add(5),await ju(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}jp.provider={build:()=>new jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):fs("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="FirestoreClient";class _O{constructor(t,e,s,a,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=a,this.user=Je.UNAUTHENTICATED,this.clientId=s1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async c=>{ft(ur,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ft(ur,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Yg(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Zm(n,t){n.asyncQueue.verifyOperationInProgress(),ft(ur,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await K1(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function wE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await TO(n);ft(ur,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(s=>_E(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>_E(t.remoteStore,a)),n._onlineComponents=t}async function TO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(ur,"Using user provided OfflineComponentProvider");try{await Zm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;So("Error using user provided cache. Falling back to memory cache: "+e),await Zm(n,new rf)}}else ft(ur,"Using default OfflineComponentProvider"),await Zm(n,new vO(void 0));return n._offlineComponents}async function mS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(ur,"Using user provided OnlineComponentProvider"),await wE(n,n._uninitializedComponentsProvider._online)):(ft(ur,"Using default OnlineComponentProvider"),await wE(n,new jp))),n._onlineComponents}function EO(n){return mS(n).then(t=>t.syncEngine)}async function Fp(n){const t=await mS(n),e=t.eventManager;return e.onListen=rO.bind(null,t.syncEngine),e.onUnlisten=lO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=aO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=uO.bind(null,t.syncEngine),e}function AO(n,t,e={}){const s=new tr;return n.asyncQueue.enqueueAndForget(async()=>function(u,c,d,m,g){const v=new dS({next:A=>{v.Cu(),c.enqueueAndForget(()=>iS(u,E)),A.fromCache&&m.source==="server"?g.reject(new dt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new sS(d,v,{includeMetadataChanges:!0,La:!0});return nS(u,E)}(await Fp(n),n.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n,t,e){if(!e)throw new dt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function bO(n,t,e,s){if(t===!0&&s===!0)throw new dt(tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function CE(n){if(!gt.isDocumentKey(n))throw new dt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IE(n){if(gt.isDocumentKey(n))throw new dt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Df(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function er(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new dt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Df(n);throw new dt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firestore.googleapis.com",DE=!0;class xE{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new dt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yS,this.ssl=DE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:DE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=H1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eM)throw new dt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xf{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Vx;switch(s.type){case"firstParty":return new Px(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=RE.get(e);s&&(ft("ComponentProvider","Removing Datastore"),RE.delete(e),s.terminate())}(this),Promise.resolve()}}function SO(n,t,e,s={}){var a;n=er(n,xf);const u=No(t),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${t}:${e}`;u&&(hg(`https://${m}`),fg("Firestore",!0)),c.host!==yS&&c.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:u,emulatorOptions:s});if(!aa(g,d)&&(n._setSettings(g),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=Je.MOCK_USER;else{v=fb(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new dt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(A)}n._authCredentials=new Mx(new n1(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new fr(this.firestore,t,this._query)}}class wn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new wn(this.firestore,t,this._key)}}class nr extends fr{constructor(t,e,s){super(t,e,Mg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new wn(this.firestore,null,new gt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function Jm(n,t,...e){if(n=cn(n),gS("collection","path",t),n instanceof xf){const s=ie.fromString(t,...e);return IE(s),new nr(n,null,s)}{if(!(n instanceof wn||n instanceof nr))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ie.fromString(t,...e));return IE(s),new nr(n.firestore,null,s)}}function wO(n,t,...e){if(n=cn(n),arguments.length===1&&(t=s1.newId()),gS("doc","path",t),n instanceof xf){const s=ie.fromString(t,...e);return CE(s),new wn(n,null,new gt(s))}{if(!(n instanceof wn||n instanceof nr))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ie.fromString(t,...e));return CE(s),new wn(n.firestore,n instanceof nr?n.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class ME{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Q1(this,"async_queue_retry"),this.ec=()=>{const s=Wm();s&&ft(VE,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=t;const e=Wm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const e=Wm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const e=new tr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!Bo(t))throw t;ft(VE,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const e=this.tc.then(()=>(this.Yu=!0,t().catch(s=>{throw this.Ju=s,this.Yu=!1,fs("INTERNAL UNHANDLED ERROR: ",OE(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=e,e}enqueueAfterDelay(t,e,s){this.nc(),this.Xu.indexOf(t)>-1&&(e=0);const a=Kg.createAndSchedule(this,t,e,s,u=>this.oc(u));return this.Hu.push(a),a}nc(){this.Ju&&Et(47125,{_c:OE(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const e of this.Hu)if(e.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Hu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const e=this.Hu.indexOf(t);this.Hu.splice(e,1)}}function OE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n){return function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const u of s)if(u in a&&typeof a[u]=="function")return!0;return!1}(n,["next","error","complete"])}class xo extends xf{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new ME,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ME(t),this._firestoreClient=void 0,await t}}}function RO(n,t){const e=typeof n=="object"?n:pg(),s=typeof n=="string"?n:Wh,a=pf(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=ub("firestore");u&&SO(a,...u)}return a}function Wg(n){if(n._terminated)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||CO(n),n._firestoreClient}function CO(n){var t,e,s;const a=n._freezeSettings(),u=function(d,m,g,v){return new $x(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,pS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new _O(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vo(Qe.fromBase64String(t))}catch(e){throw new dt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vo(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new dt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new dt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^__.*__$/;class DO{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new da(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bu(t,this.data,e,this.fieldTransforms)}}function vS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{hc:n})}}class ny{constructor(t,e,s,a,u,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new ny(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Tc({path:s,Ec:!1});return a.dc(t),a}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Tc({path:s,Ec:!1});return a.Pc(),a}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return af(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(vS(this.hc)&&IO.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class xO{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Rf(t)}gc(t,e,s,a=!1){return new ny({hc:t,methodName:e,fc:s,path:Ye.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _S(n){const t=n._freezeSettings(),e=Rf(n._databaseId);return new xO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function VO(n,t,e,s,a,u={}){const c=n.gc(u.merge||u.mergeFields?2:0,t,e,a);AS("Data must be an object, but it was:",c,s);const d=TS(s,c);let m,g;if(u.merge)m=new Zn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const A=OO(t,E,e);if(!c.contains(A))throw new dt(tt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);PO(v,A)||v.push(A)}m=new Zn(v),g=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=c.fieldTransforms;return new DO(new jn(d),m,g)}class iy extends Jg{_toFieldTransform(t){return new AV(t.path,new Ru)}isEqual(t){return t instanceof iy}}function MO(n,t,e,s=!1){return sy(e,n.gc(s?4:3,t))}function sy(n,t){if(ES(n=cn(n)))return AS("Unsupported field value:",t,n),TS(n,t);if(n instanceof Jg)return function(s,a){if(!vS(a.hc))throw a.Vc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(s,a){const u=[];let c=0;for(const d of s){let m=sy(d,a.Rc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}}(n,t)}return function(s,a){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _V(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ve.fromDate(s);return{timestampValue:ef(a.serializer,u)}}if(s instanceof Ve){const u=new Ve(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ef(a.serializer,u)}}if(s instanceof ty)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vo)return{bytesValue:L1(a.serializer,s._byteString)};if(s instanceof wn){const u=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Lg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ey)return function(c,d){return{mapValue:{fields:{[f1]:{stringValue:d1},[Zh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Vc("VectorValues must only contain numeric values.");return Og(d.serializer,g)})}}}}}}(s,a);throw a.Vc(`Unsupported field value: ${Df(s)}`)}(n,t)}function TS(n,t){const e={};return a1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ha(n,(s,a)=>{const u=sy(a,t.Ic(s));u!=null&&(e[s]=u)}),{mapValue:{fields:e}}}function ES(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ve||n instanceof ty||n instanceof Vo||n instanceof wn||n instanceof Jg||n instanceof ey)}function AS(n,t,e){if(!ES(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const s=Df(e);throw s==="an object"?t.Vc(n+" a custom object"):t.Vc(n+" "+s)}}function OO(n,t,e){if((t=cn(t))instanceof Zg)return t._internalPath;if(typeof t=="string")return bS(n,t);throw af("Field path arguments must be of type string or ",n,!1,void 0,e)}const NO=new RegExp("[~\\*/\\[\\]]");function bS(n,t,e){if(t.search(NO)>=0)throw af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Zg(...t.split("."))._internalPath}catch{throw af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function af(n,t,e,s,a){const u=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new dt(tt.INVALID_ARGUMENT,d+n+m)}function PO(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t,e,s,a,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Vf("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class kO extends SS{data(){return super.data()}}function Vf(n,t){return typeof t=="string"?bS(n,t):t instanceof Zg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new dt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class RS extends ry{}function PE(n,t,...e){let s=[];t instanceof ry&&s.push(t),s=s.concat(e),function(u){const c=u.filter(m=>m instanceof ay).length,d=u.filter(m=>m instanceof Mf).length;if(c>1||c>0&&d>0)throw new dt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class Mf extends RS{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Mf(t,e,s)}_apply(t){const e=this._parse(t);return CS(t._query,e),new fr(t.firestore,t.converter,Vp(t._query,e))}_parse(t){const e=_S(t.firestore);return function(u,c,d,m,g,v,E){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new dt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){LE(E,v);const k=[];for(const q of E)k.push(kE(m,u,q));A={arrayValue:{values:k}}}else A=kE(m,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||LE(E,v),A=MO(d,c,E,v==="in"||v==="not-in");return we.create(g,v,A)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function tp(n,t,e){const s=t,a=Vf("where",n);return Mf._create(a,s,e)}class ay extends ry{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ay(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:ti.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,u){let c=a;const d=u.getFlattenedFilters();for(const m of d)CS(c,m),c=Vp(c,m)}(t._query,e),new fr(t.firestore,t.converter,Vp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class oy extends RS{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new oy(t,e)}_apply(t){const e=function(a,u,c){if(a.startAt!==null)throw new dt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new dt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(u,c)}(t._query,this._field,this._direction);return new fr(t.firestore,t.converter,function(a,u){const c=a.explicitOrderBy.concat([u]);return new zo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,e))}}function LO(n,t="asc"){const e=t,s=Vf("orderBy",n);return oy._create(s,e)}function kE(n,t,e){if(typeof(e=cn(e))=="string"){if(e==="")throw new dt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E1(t)&&e.indexOf("/")!==-1)throw new dt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ie.fromString(e));if(!gt.isDocumentKey(s))throw new dt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return XT(n,new gt(s))}if(e instanceof wn)return XT(n,e._key);throw new dt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(e)}.`)}function LE(n,t){if(!Array.isArray(n)||n.length===0)throw new dt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CS(n,t){const e=function(a,u){for(const c of a)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new dt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class UO{convertValue(t,e="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return ha(t,(a,u)=>{s[a]=this.convertValue(u,e)}),s}convertVectorValue(t){var e,s,a;const u=(a=(s=(e=t.fields)===null||e===void 0?void 0:e[Zh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>ve(c.doubleValue));return new ey(u)}convertGeoPoint(t){return new ty(ve(t.latitude),ve(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Tf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Au(t));default:return null}}convertTimestamp(t){const e=rr(t);return new Ve(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ie.fromString(t);Kt(q1(s),9688,{name:t});const a=new bu(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return a.isEqual(e)||fs(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(n,t,e){let s;return s=n?n.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class IS extends SS{constructor(t,e,s,a,u,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Vf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class Lh extends IS{data(t={}){return super.data(t)}}class DS{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new ru(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new Lh(this._firestore,this._userDataWriter,s.key,s,new ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Lh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Lh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:zO(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}class ly extends UO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new wn(this.firestore,null,e)}}function jO(n){n=er(n,fr);const t=er(n.firestore,xo),e=Wg(t),s=new ly(t);return wS(n._query),AO(e,n._query).then(a=>new DS(t,s,n,a))}function FO(n){return xS(er(n.firestore,xo),[new Ng(n._key,bi.none())])}function qO(n,t){const e=er(n.firestore,xo),s=wO(n),a=BO(n.converter,t);return xS(e,[VO(_S(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,bi.exists(!1))]).then(()=>s)}function HO(n,...t){var e,s,a;n=cn(n);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||NE(t[c])||(u=t[c],c++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(NE(t[c])){const E=t[c];t[c]=(e=E.next)===null||e===void 0?void 0:e.bind(E),t[c+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),t[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let m,g,v;if(n instanceof wn)g=er(n.firestore,xo),v=Mg(n._key.path),m={next:E=>{t[c]&&t[c](GO(g,n,E))},error:t[c+1],complete:t[c+2]};else{const E=er(n,fr);g=er(E.firestore,xo),v=E._query;const A=new ly(g);m={next:C=>{t[c]&&t[c](new DS(g,A,E,C))},error:t[c+1],complete:t[c+2]},wS(n._query)}return function(A,C,k,q){const U=new dS(q),X=new sS(C,U,k);return A.asyncQueue.enqueueAndForget(async()=>nS(await Fp(A),X)),()=>{U.Cu(),A.asyncQueue.enqueueAndForget(async()=>iS(await Fp(A),X))}}(Wg(g),v,d,m)}function xS(n,t){return function(s,a){const u=new tr;return s.asyncQueue.enqueueAndForget(async()=>cO(await EO(s),a,u)),u.promise}(Wg(n),t)}function GO(n,t,e){const s=e.docs.get(t._key),a=new ly(n);return new IS(n,a,t._key,s,new ru(e.hasPendingWrites,e.fromCache),t.converter)}function KO(){return new iy("serverTimestamp")}(function(t,e=!0){(function(a){Lo=a})(ca),oa(new ir("firestore",(s,{instanceIdentifier:a,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new xo(new Ox(s.getProvider("auth-internal")),new kx(c,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new dt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(g.options.projectId,v)}(c,a),c);return u=Object.assign({useFetchStreams:e},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),_i(LT,UT,t),_i(LT,UT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firebasestorage.googleapis.com",YO="storageBucket",QO=2*60*1e3,XO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends xi{constructor(t,e,s=0){super(ep(t),`Firebase Storage: ${e} (${ep(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ep(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Di;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Di||(Di={}));function ep(n){return"storage/"+n}function $O(){const n="An unknown error occurred, please check the error payload for server response.";return new Vi(Di.UNKNOWN,n)}function WO(){return new Vi(Di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZO(){return new Vi(Di.CANCELED,"User canceled the upload/download.")}function JO(n){return new Vi(Di.INVALID_URL,"Invalid URL '"+n+"'.")}function tN(n){return new Vi(Di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function UE(n){return new Vi(Di.INVALID_ARGUMENT,n)}function MS(){return new Vi(Di.APP_DELETED,"The Firebase app was deleted.")}function eN(n){return new Vi(Di.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let s;try{s=Jn.makeFromUrl(t,e)}catch{return new Jn(t,"")}if(s.path==="")return s;throw tN(t)}static makeFromUrl(t,e){let s=null;const a="([A-Za-z0-9.\\-_]+)";function u(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(rt){rt.path_=decodeURIComponent(rt.path)}const v="v[A-Za-z0-9_]+",E=e.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",C=new RegExp(`^https?://${E}/${v}/b/${a}/o${A}`,"i"),k={bucket:1,path:3},q=e===VS?"(?:storage.googleapis.com|storage.cloud.google.com)":e,U="([^?#]*)",X=new RegExp(`^https?://${q}/${a}/${U}`,"i"),Y=[{regex:d,indices:m,postModify:u},{regex:C,indices:k,postModify:g},{regex:X,indices:{bucket:1,path:2},postModify:g}];for(let rt=0;rt<Y.length;rt++){const et=Y[rt],ht=et.regex.exec(t);if(ht){const V=ht[et.indices.bucket];let w=ht[et.indices.path];w||(w=""),s=new Jn(V,w),et.postModify(s);break}}if(s==null)throw JO(t);return s}}class nN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(n,t,e){let s=1,a=null,u=null,c=!1,d=0;function m(){return d===2}let g=!1;function v(...U){g||(g=!0,t.apply(null,U))}function E(U){a=setTimeout(()=>{a=null,n(C,m())},U)}function A(){u&&clearTimeout(u)}function C(U,...X){if(g){A();return}if(U){A(),v.call(null,U,...X);return}if(m()||c){A(),v.call(null,U,...X);return}s<64&&(s*=2);let Y;d===1?(d=2,Y=0):Y=(s+Math.random())*1e3,E(Y)}let k=!1;function q(U){k||(k=!0,A(),!g&&(a!==null?(U||(d=2),clearTimeout(a),E(0)):U||(d=1)))}return E(0),u=setTimeout(()=>{c=!0,q(!0)},e),q}function sN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n){return n!==void 0}function BE(n,t,e,s){if(s<t)throw UE(`Invalid value for '${n}'. Expected ${t} or greater.`);if(s>e)throw UE(`Invalid value for '${n}'. Expected ${e} or less.`)}function aN(n){const t=encodeURIComponent;let e="?";for(const s in n)if(n.hasOwnProperty(s)){const a=t(s)+"="+t(n[s]);e=e+a+"&"}return e=e.slice(0,-1),e}var of;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(of||(of={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n,t){const e=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,u=t.indexOf(n)!==-1;return e||a||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,e,s,a,u,c,d,m,g,v,E,A=!0,C=!1){this.url_=t,this.method_=e,this.headers_=s,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,q)=>{this.resolve_=k,this.reject_=q,this.start_()})}start_(){const t=(s,a)=>{if(a){s(!1,new bh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const d=u.getErrorCode()===of.NO_ERROR,m=u.getStatus();if(!d||oN(m,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===of.ABORT;s(!1,new bh(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new bh(g,u))})},e=(s,a)=>{const u=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());rN(m)?u(m):u()}catch(m){c(m)}else if(d!==null){const m=$O();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?MS():ZO();c(m)}else{const m=WO();c(m)}};this.canceled_?e(!1,new bh(!1,null,!0)):this.backoffId_=iN(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&sN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bh{constructor(t,e,s){this.wasSuccessCode=t,this.connection=e,this.canceled=!!s}}function uN(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function cN(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hN(n,t){t&&(n["X-Firebase-GMPID"]=t)}function fN(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function dN(n,t,e,s,a,u,c=!0,d=!1){const m=aN(n.urlParams),g=n.url+m,v=Object.assign({},n.headers);return hN(v,t),uN(v,e),cN(v,u),fN(v,s),new lN(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function pN(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,e){this._service=t,e instanceof Jn?this._location=e:this._location=Jn.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new lf(t,e)}get root(){const t=new Jn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pN(this._location.path)}get storage(){return this._service}get parent(){const t=mN(this._location.path);if(t===null)return null;const e=new Jn(this._location.bucket,t);return new lf(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw eN(t)}}function zE(n,t){const e=t==null?void 0:t[YO];return e==null?null:Jn.makeFromBucketSpec(e,n)}function gN(n,t,e,s={}){n.host=`${t}:${e}`;const a=No(t);a&&(hg(`https://${n.host}`),fg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:u}=s;u&&(n._overrideAuthToken=typeof u=="string"?u:fb(u,n.app.options.projectId))}class yN{constructor(t,e,s,a,u,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=s,this._url=a,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=VS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QO,this._maxUploadRetryTime=XO,this._requests=new Set,a!=null?this._bucket=Jn.makeFromBucketSpec(a,this._host):this._bucket=zE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,t):this._bucket=zE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){BE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){BE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new lf(this,t)}_makeRequest(t,e,s,a,u=!0){if(this._deleted)return new nN(MS());{const c=dN(t,this._appId,s,a,e,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,s,a).getPromise()}}const jE="@firebase/storage",FE="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="storage";function vN(n=pg(),t){n=cn(n);const s=pf(n,OS).getImmediate({identifier:t}),a=ub("storage");return a&&_N(s,...a),s}function _N(n,t,e,s={}){gN(n,t,e,s)}function TN(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new yN(e,s,a,t,ca)}function EN(){oa(new ir(OS,TN,"PUBLIC").setMultipleInstances(!0)),_i(jE,FE,""),_i(jE,FE,"esm2017")}EN();const NS={apiKey:"your-api-key",authDomain:"your-project.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"123456789",appId:"your-app-id"},uy=pb(NS),qE=Cx(uy),np=RO(uy);vN(uy);const PS=new rs;PS.addScope("profile");PS.addScope("email");const kS=new uu("apple.com");kS.addScope("email");kS.addScope("name");const AN=()=>NS.apiKey!=="your-api-key",bN=["badword1","badword2","inappropriate"],SN=[/\b\d{3}-\d{4}-\d{4}\b/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,/\bhttps?:\/\/[^\s]+/gi],wN=n=>{let t=n,e=!1;return bN.forEach(s=>{const a=new RegExp(s,"gi");a.test(t)&&(t=t.replace(a,"*".repeat(s.length)),e=!0)}),SN.forEach(s=>{s.test(t)&&(t=t.replace(s,"[Censored]"),e=!0)}),{filteredMessage:t,hasViolation:e}},RN=async(n,t,e,s)=>{const a={reportedUserId:n,reporterUserId:t,reason:e,messageId:s,timestamp:new Date,status:"pending"};return console.log("Report submitted:",a),a};class ss{constructor(){this.userLocation=null,this.watchId=null,this.locationOptions={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4}}async getCurrentPosition(){return new Promise((t,e)=>{if(!navigator.geolocation){e({error:"GEOLOCATION_NOT_SUPPORTED",message:"This browser does not support location services."});return}navigator.geolocation.getCurrentPosition(s=>{const a={latitude:s.coords.latitude,longitude:s.coords.longitude,accuracy:s.coords.accuracy,timestamp:Date.now()};this.userLocation=a,t(a)},s=>{let a="";switch(s.code){case s.PERMISSION_DENIED:a="Location access denied. Please allow location permission in your browser settings.";break;case s.POSITION_UNAVAILABLE:a="Current location cannot be found.";break;case s.TIMEOUT:a="Location request timed out.";break;default:a="An unknown error occurred.";break}e({error:"GEOLOCATION_ERROR",code:s.code,message:a})},this.locationOptions)})}startWatchingLocation(t){if(!navigator.geolocation){t({error:"GEOLOCATION_NOT_SUPPORTED",message:"This browser does not support location services."});return}return this.watchId=navigator.geolocation.watchPosition(e=>{const s={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:Date.now()};this.hasLocationChanged(s,10)&&(this.userLocation=s,t({success:!0,location:s}))},e=>{t({error:"GEOLOCATION_ERROR",code:e.code,message:"An error occurred during location tracking."})},this.locationOptions),this.watchId}stopWatchingLocation(){this.watchId!==null&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null)}hasLocationChanged(t,e=10){return this.userLocation?ss.calculateDistance(this.userLocation.latitude,this.userLocation.longitude,t.latitude,t.longitude)*1e3>=e:!0}static calculateDistance(t,e,s,a){const c=ss.toRadians(s-t),d=ss.toRadians(a-e),m=Math.sin(c/2)*Math.sin(c/2)+Math.cos(ss.toRadians(t))*Math.cos(ss.toRadians(s))*Math.sin(d/2)*Math.sin(d/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}static toRadians(t){return t*(Math.PI/180)}static isWithinRadius(t,e,s,a,u=1){return this.calculateDistance(t,e,s,a)<=u}static generateGeohash(t,e,s=7){const a="0123456789bcdefghjkmnpqrstuvwxyz";let u=0,c=0,d=!0,m="",g=-90,v=90,E=-180,A=180;for(;m.length<s;){if(d){const C=(E+A)/2;e>=C?(u=(u<<1)+1,E=C):(u=u<<1,A=C)}else{const C=(g+v)/2;t>=C?(u=(u<<1)+1,g=C):(u=u<<1,v=C)}d=!d,++c===5&&(m+=a[u],c=0,u=0)}return m}static getChatRoomId(t,e){const a=Math.floor(t/.009),u=Math.floor(e/.009);return`room_${a}_${u}`}getCurrentGeohash(t=7){return this.userLocation?ss.generateGeohash(this.userLocation.latitude,this.userLocation.longitude,t):null}static anonymizeLocation(t,e,s=100){const a=(Math.random()-.5)*(s/111e3),u=(Math.random()-.5)*(s/(111e3*Math.cos(t*Math.PI/180)));return{latitude:t+a,longitude:e+u}}getLocationStatus(){var t;return{hasLocation:this.userLocation!==null,isWatching:this.watchId!==null,location:this.userLocation,geohash:this.getCurrentGeohash(),lastUpdate:(t=this.userLocation)==null?void 0:t.timestamp}}async checkLocationPermission(){if(!navigator.permissions)return{state:"unknown"};try{const t=await navigator.permissions.query({name:"geolocation"});return{state:t.state,permission:t}}catch(t){return{state:"unknown",error:t.message}}}}const CN=new ss,IN=()=>CN.getCurrentPosition(),DN=(n,t)=>ss.getChatRoomId(n,t),xN=n=>n>=1e3?{effect:"",color:"#FFD700"}:n>=500?{effect:"",color:"#FF69B4"}:n>=300?{effect:"",color:"#00CED1"}:n>=100?{effect:"",color:"#FF4500"}:{effect:"",color:""},HE="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20fill='%23228BE6'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.523,4.477,10,10,10s10-4.477,10-10C22,6.477,17.523,2,12,2z%20M17.707,9.707l-7,7%20C10.512,16.902,10.256,17,10,17s-0.512-0.098-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414s1.023-0.391,1.414,0L10,14.586%20l6.293-6.293c0.391-0.391,1.023-0.391,1.414,0S18.098,9.316,17.707,9.707z'/%3e%3c/svg%3e",VN=({user:n,onLogout:t})=>{const[e,s]=ut.useState([]),[a,u]=ut.useState(""),[c,d]=ut.useState(null),[m,g]=ut.useState(null),[v,E]=ut.useState(!0),[A,C]=ut.useState(""),[k,q]=ut.useState(0),[U,X]=ut.useState(!0),[J,Y]=ut.useState([!1,!1,!1]),rt=ut.useRef(null),et=ut.useRef(null),ht=[{title:"Impersonation Warning",text:"Anyone claiming to be an administrator or cyber investigation officer is an imposter."},{title:"Scam Warning",text:"Anyone sharing Telegram / WhatsApp / LINE / WeChat / Kakao without conversation is a scammer."},{title:"Scam Warning",text:"All adult web site promotions are scams."}],V=J.every(x=>x),w=x=>{const R=[...J];R[x]=!R[x],Y(R)};ut.useEffect(()=>{(async()=>{try{const R=await IN();d(R);const St=DN(R.latitude,R.longitude);g(St),E(!1)}catch(R){console.error("Location error:",R),C("Unable to get location information. Please allow location permission."),E(!1)}})()},[]),ut.useEffect(()=>{if(!m)return;const x=PE(Jm(np,"messages"),tp("chatRoomId","==",m),LO("timestamp","asc")),R=HO(x,St=>{const Ut=[];St.forEach(K=>{var ct;const it=K.data();Ut.push({id:K.id,...it,timestamp:((ct=it.timestamp)==null?void 0:ct.toDate())||new Date})}),s(Ut),setTimeout(()=>{rt.current&&(rt.current.scrollTop=rt.current.scrollHeight)},50)});return()=>R()},[m]),ut.useEffect(()=>{if(!m)return;const x=setInterval(async()=>{const R=new Date(Date.now()-36e5),St=PE(Jm(np,"messages"),tp("chatRoomId","==",m),tp("timestamp","<",R));try{const K=(await jO(St)).docs.map(it=>FO(it.ref));await Promise.all(K)}catch(Ut){console.error("Cleanup error:",Ut)}},5*60*1e3);return()=>clearInterval(x)},[m]),ut.useEffect(()=>{const x=()=>{setTimeout(()=>{et.current&&et.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},100),setTimeout(()=>{var St;if(et.current){const Ut=et.current.getBoundingClientRect(),K=((St=window.visualViewport)==null?void 0:St.height)||window.innerHeight,it=Ut.bottom;it>K-50&&window.scrollBy({top:it-K+100,behavior:"smooth"})}},300)},R=()=>{setTimeout(()=>{document.activeElement===et.current&&x()},100)};return et.current&&et.current.addEventListener("focus",x),window.visualViewport?window.visualViewport.addEventListener("resize",R):window.addEventListener("resize",R),()=>{et.current&&et.current.removeEventListener("focus",x),window.visualViewport?window.visualViewport.removeEventListener("resize",R):window.removeEventListener("resize",R)}},[]),ut.useEffect(()=>{const x=()=>{q(Math.floor(Math.random()*46)+5)};x();const R=setInterval(x,3e4);return()=>clearInterval(R)},[]);const I=async()=>{if(a.trim()==="")return;const{filteredMessage:x,hasViolation:R}=wN(a);if(n.uid.startsWith("guest_")||!m){const St={id:"local_"+Date.now(),text:x,nickname:n.nickname,userId:n.uid,timestamp:new Date,hasViolation:R,likeCount:0,isBlueCheck:n.isBlueCheck||!1,color:n.color||"#58a6ff"};s(Ut=>[...Ut,St]),u(""),setTimeout(()=>{rt.current&&(rt.current.scrollTop=rt.current.scrollHeight)},50);return}try{await qO(Jm(np,"messages"),{text:x,nickname:n.nickname,userId:n.uid,chatRoomId:m,location:{latitude:c.latitude,longitude:c.longitude},timestamp:KO(),hasViolation:R,likeCount:0,isBlueCheck:n.isBlueCheck||!1,color:n.color||"#58a6ff"}),u("")}catch(St){console.error("Send message error:",St),C("Failed to send message.")}},O=async x=>{console.log("Like message:",x)},P=async(x,R)=>{try{await RN(R,n.uid,"inappropriate_content",x),alert("Report has been submitted.")}catch(St){console.error("Report error:",St),alert("Failed to submit report.")}};return v?st.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"white"},children:st.jsx("p",{children:"Checking location..."})}):A?st.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#ff4444"},children:[st.jsx("p",{children:A}),st.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",backgroundColor:"#58a6ff",color:"white",border:"none",borderRadius:"4px"},children:"Retry"})]}):st.jsxs("div",{className:"chat-layout",style:{display:"flex",flexDirection:"column",minHeight:"100dvh",width:"100%",backgroundColor:"#0d1117",position:"fixed",top:0,left:0,right:0,bottom:0},children:[st.jsxs("div",{className:"chat-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 1rem",backgroundColor:"#161b22",borderBottom:"1px solid #21262d",flexShrink:0,minHeight:"50px",zIndex:1e3},children:[st.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[st.jsxs("h2",{style:{margin:0,color:"white",fontSize:"1.2rem"},children:[n.nickname,n.isBlueCheck&&st.jsx("img",{src:HE,alt:"Blue Check",style:{width:"18px",height:"18px",marginLeft:"8px"}})]}),st.jsxs("div",{style:{backgroundColor:"#58a6ff",color:"white",padding:"0.3rem 0.8rem",borderRadius:"12px",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.4rem"},children:[st.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#00ff00",borderRadius:"50%",animation:"pulse 2s infinite"}}),k," online"]})]}),st.jsx("button",{onClick:t,style:{padding:"0.5rem 1rem",backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem"},children:"Logout"})]}),st.jsx("div",{ref:rt,className:"chat-messages",style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"1rem",backgroundColor:"#0d1117",WebkitOverflowScrolling:"touch",minHeight:0,paddingBottom:"1rem"},children:e.length===0?st.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"#8b949e",fontSize:"1.1rem"},children:"Start chatting with users within 1km around you!"}):e.map(x=>{const R=xN(x.likeCount||0);return st.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",backgroundColor:"#161b22",borderRadius:"8px",border:"1px solid #21262d"},children:[st.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[st.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[st.jsxs("strong",{style:{color:x.color||"#58a6ff",fontSize:"0.95rem"},children:[R.effect,x.nickname,R.effect]}),x.isBlueCheck&&st.jsx("img",{src:HE,alt:"Blue Check",style:{width:"16px",height:"16px"}})]}),st.jsx("span",{style:{fontSize:"0.8rem",color:"#8b949e"},children:x.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),st.jsx("div",{style:{color:"#f0f6fc",marginBottom:"0.8rem",lineHeight:"1.5"},children:x.text}),st.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.8rem"},children:[st.jsxs("button",{onClick:()=>O(x.id,x.likeCount||0),style:{background:"none",border:"none",color:"#58a6ff",cursor:"pointer",padding:"0.2rem 0.5rem",borderRadius:"4px",transition:"background-color 0.2s"},onMouseOver:St=>St.target.style.backgroundColor="#21262d",onMouseOut:St=>St.target.style.backgroundColor="transparent",children:[" ",x.likeCount||0]}),x.userId!==n.uid&&st.jsx("button",{onClick:()=>P(x.id,x.userId),style:{background:"none",border:"none",color:"#ff7b72",cursor:"pointer",padding:"0.2rem 0.5rem",borderRadius:"4px",transition:"background-color 0.2s"},onMouseOver:St=>St.target.style.backgroundColor="#21262d",onMouseOut:St=>St.target.style.backgroundColor="transparent",children:"Report"})]})]},x.id)})}),st.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#2f2f2f",borderRadius:"20px",border:"none",padding:"0.2rem 0.8rem",minHeight:"44px",margin:"0.5rem 0.75rem",position:"sticky",bottom:"max(0.5rem, env(keyboard-inset-height, 0px))",zIndex:1e3,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(255, 255, 255, 0.03)",backgroundClip:"padding-box",WebkitBackgroundClip:"padding-box",transform:"translateZ(0)",willChange:"transform"},children:[st.jsx("input",{ref:et,type:"text",placeholder:U?"Please acknowledge safety warnings first...":"Message ChitChat",value:a,onChange:x=>u(x.target.value),onKeyDown:x=>{x.key==="Enter"&&(x.preventDefault(),U||I())},disabled:U,style:{flex:1,padding:"0.3rem 0.4rem",backgroundColor:"transparent",color:U?"#8b949e":"#ececf1",border:"none",borderRadius:"0",fontSize:"16px",outline:"none",cursor:U?"not-allowed":"text",resize:"none",fontFamily:"inherit"}}),st.jsx("button",{onClick:I,disabled:U||!a.trim(),style:{padding:"0.3rem",backgroundColor:U||!a.trim()?"#565869":"#19c37d",color:"white",border:"none",borderRadius:"16px",cursor:U||!a.trim()?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:"600",transition:"all 0.2s ease",minWidth:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"0.4rem"},onMouseOver:x=>{!U&&a.trim()&&(x.target.style.backgroundColor="#0fa968")},onMouseOut:x=>{!U&&a.trim()&&(x.target.style.backgroundColor="#19c37d")},children:""})]}),U&&st.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},children:st.jsxs("div",{style:{backgroundColor:"black",borderRadius:"12px",padding:"1.5rem",maxWidth:"400px",width:"100%",maxHeight:"70vh",overflowY:"auto",border:"2px solid #ffffff",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)",fontFamily:"Poppins, sans-serif"},children:[st.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[st.jsx("h2",{style:{color:"#ffffff",fontSize:"1.2rem",fontWeight:"bold",margin:0,marginBottom:"0.5rem",fontFamily:"Poppins, sans-serif"},children:"DISCLOSURE"}),st.jsx("p",{style:{color:"#cccccc",fontSize:"0.9rem",margin:0,fontFamily:"Poppins, sans-serif"},children:"Please read these important safety notices before chatting"})]}),ht.map((x,R)=>st.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"1rem 0",borderBottom:R<ht.length-1?"1px solid #333333":"none",cursor:"pointer",transition:"background-color 0.2s ease"},onClick:()=>w(R),onMouseOver:St=>St.target.style.backgroundColor="#2a2a2a",onMouseOut:St=>St.target.style.backgroundColor="transparent",children:[st.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:J[R]?"none":"2px solid #666666",backgroundColor:J[R]?"#007AFF":"transparent",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"1rem",transition:"all 0.2s ease"},children:J[R]&&st.jsx("span",{style:{color:"white",fontSize:"12px",fontWeight:"bold"},children:""})}),st.jsxs("div",{style:{flex:1},children:[st.jsx("div",{style:{fontSize:"0.95rem",fontWeight:"500",color:"#ffffff",lineHeight:"1.3",fontFamily:"Poppins, sans-serif"},children:x.title}),st.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"normal",lineHeight:"1.4",color:"#999999",marginTop:"0.3rem",fontFamily:"Poppins, sans-serif"},children:x.text})]}),st.jsx("div",{style:{fontSize:"0.8rem",color:"#FF3B30",fontWeight:"600",marginLeft:"0.5rem",fontFamily:"Poppins, sans-serif"},children:"(Required)"})]},R)),st.jsx("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:st.jsx("button",{onClick:()=>V&&X(!1),disabled:!V,style:{backgroundColor:V?"#007AFF":"#333333",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"12px",cursor:V?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"600",transition:"all 0.2s",width:"100%",opacity:V?1:.5,fontFamily:"Poppins, sans-serif"},onMouseOver:x=>{V&&(x.target.style.backgroundColor="#0056CC")},onMouseOut:x=>{V&&(x.target.style.backgroundColor="#007AFF")},children:V?"Agree":"Please agree to all items"})})]})})]})},LS=ut.forwardRef(({className:n="",size:t="default",children:e,...s},a)=>{const u=ut.useMemo(()=>({default:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs",lg:"px-6 py-3 text-base"}),[]),c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d=ut.useMemo(()=>`${c} ${u[t]||u.default} ${n}`,[c,u,t,n]);return st.jsx("button",{className:d,ref:a,...s,children:e})});LS.displayName="Button";const US=ut.createContext({});function MN(n){const t=ut.useRef(null);return t.current===null&&(t.current=n()),t.current}const cy=typeof window<"u",ON=cy?ut.useLayoutEffect:ut.useEffect,hy=ut.createContext(null);function fy(n,t){n.indexOf(t)===-1&&n.push(t)}function dy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ms=(n,t,e)=>e>t?t:e<n?n:e;let my=()=>{};const ps={},BS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function zS(n){return typeof n=="object"&&n!==null}const jS=n=>/^0[^.\s]+$/u.test(n);function py(n){let t;return()=>(t===void 0&&(t=n()),t)}const Fn=n=>n,NN=(n,t)=>e=>t(n(e)),qu=(...n)=>n.reduce(NN),Du=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class gy{constructor(){this.subscriptions=[]}add(t){return fy(this.subscriptions,t),()=>dy(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let u=0;u<a;u++){const c=this.subscriptions[u];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi=n=>n*1e3,Ri=n=>n/1e3;function FS(n,t){return t?n*(1e3/t):0}const qS=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,PN=1e-7,kN=12;function LN(n,t,e,s,a){let u,c,d=0;do c=t+(e-t)/2,u=qS(c,s,a)-n,u>0?e=c:t=c;while(Math.abs(u)>PN&&++d<kN);return c}function Hu(n,t,e,s){if(n===t&&e===s)return Fn;const a=u=>LN(u,0,1,n,e);return u=>u===0||u===1?u:qS(a(u),t,s)}const HS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,GS=n=>t=>1-n(1-t),KS=Hu(.33,1.53,.69,.99),yy=GS(KS),YS=HS(yy),QS=n=>(n*=2)<1?.5*yy(n):.5*(2-Math.pow(2,-10*(n-1))),vy=n=>1-Math.sin(Math.acos(n)),XS=GS(vy),$S=HS(vy),UN=Hu(.42,0,1,1),BN=Hu(0,0,.58,1),WS=Hu(.42,0,.58,1),zN=n=>Array.isArray(n)&&typeof n[0]!="number",ZS=n=>Array.isArray(n)&&typeof n[0]=="number",jN={linear:Fn,easeIn:UN,easeInOut:WS,easeOut:BN,circIn:vy,circInOut:$S,circOut:XS,backIn:yy,backInOut:YS,backOut:KS,anticipate:QS},FN=n=>typeof n=="string",GE=n=>{if(ZS(n)){my(n.length===4);const[t,e,s,a]=n;return Hu(t,e,s,a)}else if(FN(n))return jN[n];return n},Sh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qN(n,t){let e=new Set,s=new Set,a=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,E=!1,A=!1)=>{const k=A&&a?e:s;return E&&c.add(v),k.has(v)||k.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){u=!0;return}a=!0,[e,s]=[s,e],e.forEach(m),e.clear(),a=!1,u&&(u=!1,g.process(v))}};return g}const HN=40;function JS(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Sh.reduce((Y,rt)=>(Y[rt]=qN(u),Y),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:E,preRender:A,render:C,postRender:k}=c,q=()=>{const Y=ps.useManualTiming?a.timestamp:performance.now();e=!1,ps.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,HN),1)),a.timestamp=Y,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),v.process(a),E.process(a),A.process(a),C.process(a),k.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(q))},U=()=>{e=!0,s=!0,a.isProcessing||n(q)};return{schedule:Sh.reduce((Y,rt)=>{const et=c[rt];return Y[rt]=(ht,V=!1,w=!1)=>(e||U(),et.schedule(ht,V,w)),Y},{}),cancel:Y=>{for(let rt=0;rt<Sh.length;rt++)c[Sh[rt]].cancel(Y)},state:a,steps:c}}const{schedule:ae,cancel:cr,state:Ge,steps:ip}=JS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let Uh;function GN(){Uh=void 0}const pn={now:()=>(Uh===void 0&&pn.set(Ge.isProcessing||ps.useManualTiming?Ge.timestamp:performance.now()),Uh),set:n=>{Uh=n,queueMicrotask(GN)}},tw=n=>t=>typeof t=="string"&&t.startsWith(n),_y=tw("--"),KN=tw("var(--"),Ty=n=>KN(n)?YN.test(n.split("/*")[0].trim()):!1,YN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},xu={...Fo,transform:n=>ms(0,1,n)},wh={...Fo,default:1},mu=n=>Math.round(n*1e5)/1e5,Ey=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QN(n){return n==null}const XN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ay=(n,t)=>e=>!!(typeof e=="string"&&XN.test(e)&&e.startsWith(n)||t&&!QN(e)&&Object.prototype.hasOwnProperty.call(e,t)),ew=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,u,c,d]=s.match(Ey);return{[n]:parseFloat(a),[t]:parseFloat(u),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},$N=n=>ms(0,255,n),sp={...Fo,transform:n=>Math.round($N(n))},ea={test:Ay("rgb","red"),parse:ew("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+sp.transform(n)+", "+sp.transform(t)+", "+sp.transform(e)+", "+mu(xu.transform(s))+")"};function WN(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const qp={test:Ay("#"),parse:WN,transform:ea.transform},Gu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ks=Gu("deg"),Ci=Gu("%"),bt=Gu("px"),ZN=Gu("vh"),JN=Gu("vw"),KE={...Ci,parse:n=>Ci.parse(n)/100,transform:n=>Ci.transform(n*100)},fo={test:Ay("hsl","hue"),parse:ew("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Ci.transform(mu(t))+", "+Ci.transform(mu(e))+", "+mu(xu.transform(s))+")"},Se={test:n=>ea.test(n)||qp.test(n)||fo.test(n),parse:n=>ea.test(n)?ea.parse(n):fo.test(n)?fo.parse(n):qp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ea.transform(n):fo.transform(n),getAnimatableNone:n=>{const t=Se.parse(n);return t.alpha=0,Se.transform(t)}},tP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eP(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Ey))==null?void 0:t.length)||0)+(((e=n.match(tP))==null?void 0:e.length)||0)>0}const nw="number",iw="color",nP="var",iP="var(",YE="${}",sP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vu(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let u=0;const d=t.replace(sP,m=>(Se.test(m)?(s.color.push(u),a.push(iw),e.push(Se.parse(m))):m.startsWith(iP)?(s.var.push(u),a.push(nP),e.push(m)):(s.number.push(u),a.push(nw),e.push(parseFloat(m))),++u,YE)).split(YE);return{values:e,split:d,indexes:s,types:a}}function sw(n){return Vu(n).values}function rw(n){const{split:t,types:e}=Vu(n),s=t.length;return a=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],a[c]!==void 0){const d=e[c];d===nw?u+=mu(a[c]):d===iw?u+=Se.transform(a[c]):u+=a[c]}return u}}const rP=n=>typeof n=="number"?0:Se.test(n)?Se.getAnimatableNone(n):n;function aP(n){const t=sw(n);return rw(n)(t.map(rP))}const hr={test:eP,parse:sw,createTransformer:rw,getAnimatableNone:aP};function rp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function oP({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,u=0,c=0;if(!t)a=u=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,m=2*e-d;a=rp(m,d,n+1/3),u=rp(m,d,n),c=rp(m,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function uf(n,t){return e=>e>0?t:n}const le=(n,t,e)=>n+(t-n)*e,ap=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},lP=[qp,ea,fo],uP=n=>lP.find(t=>t.test(n));function QE(n){const t=uP(n);if(!t)return!1;let e=t.parse(n);return t===fo&&(e=oP(e)),e}const XE=(n,t)=>{const e=QE(n),s=QE(t);if(!e||!s)return uf(n,t);const a={...e};return u=>(a.red=ap(e.red,s.red,u),a.green=ap(e.green,s.green,u),a.blue=ap(e.blue,s.blue,u),a.alpha=le(e.alpha,s.alpha,u),ea.transform(a))},Hp=new Set(["none","hidden"]);function cP(n,t){return Hp.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function hP(n,t){return e=>le(n,t,e)}function by(n){return typeof n=="number"?hP:typeof n=="string"?Ty(n)?uf:Se.test(n)?XE:mP:Array.isArray(n)?aw:typeof n=="object"?Se.test(n)?XE:fP:uf}function aw(n,t){const e=[...n],s=e.length,a=n.map((u,c)=>by(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)e[c]=a[c](u);return e}}function fP(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=by(n[a])(n[a],t[a]));return a=>{for(const u in s)e[u]=s[u](a);return e}}function dP(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const u=t.types[a],c=n.indexes[u][s[u]],d=n.values[c]??0;e[a]=d,s[u]++}return e}const mP=(n,t)=>{const e=hr.createTransformer(t),s=Vu(n),a=Vu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Hp.has(n)&&!a.values.length||Hp.has(t)&&!s.values.length?cP(n,t):qu(aw(dP(s,a),a.values),e):uf(n,t)};function ow(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?le(n,t,e):by(n)(n,t)}const pP=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>cr(t),now:()=>Ge.isProcessing?Ge.timestamp:pn.now()}},lw=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let u=0;u<a;u++)s+=Math.round(n(u/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},cf=2e4;function Sy(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<cf;)t+=e,s=n.next(t);return t>=cf?1/0:t}function gP(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(Sy(s),cf);return{type:"keyframes",ease:u=>s.next(a*u).value/t,duration:Ri(a)}}const yP=5;function uw(n,t,e){const s=Math.max(t-yP,0);return FS(e-n(s),t-s)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$E=.001;function vP({duration:n=de.duration,bounce:t=de.bounce,velocity:e=de.velocity,mass:s=de.mass}){let a,u,c=1-t;c=ms(de.minDamping,de.maxDamping,c),n=ms(de.minDuration,de.maxDuration,Ri(n)),c<1?(a=g=>{const v=g*c,E=v*n,A=v-e,C=Gp(g,c),k=Math.exp(-E);return $E-A/C*k},u=g=>{const E=g*c*n,A=E*e+e,C=Math.pow(c,2)*Math.pow(g,2)*n,k=Math.exp(-E),q=Gp(Math.pow(g,2),c);return(-a(g)+$E>0?-1:1)*((A-C)*k)/q}):(a=g=>{const v=Math.exp(-g*n),E=(g-e)*n+1;return-.001+v*E},u=g=>{const v=Math.exp(-g*n),E=(e-g)*(n*n);return v*E});const d=5/n,m=TP(a,u,d);if(n=wi(n),isNaN(m))return{stiffness:de.stiffness,damping:de.damping,duration:n};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const _P=12;function TP(n,t,e){let s=e;for(let a=1;a<_P;a++)s=s-n(s)/t(s);return s}function Gp(n,t){return n*Math.sqrt(1-t*t)}const EP=["duration","bounce"],AP=["stiffness","damping","mass"];function WE(n,t){return t.some(e=>n[e]!==void 0)}function bP(n){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...n};if(!WE(n,AP)&&WE(n,EP))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,u=2*ms(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:de.mass,stiffness:a,damping:u}}else{const e=vP(n);t={...t,...e,mass:de.mass},t.isResolvedFromDuration=!0}return t}function hf(n=de.visualDuration,t=de.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:v,duration:E,velocity:A,isResolvedFromDuration:C}=bP({...e,velocity:-Ri(e.velocity||0)}),k=A||0,q=g/(2*Math.sqrt(m*v)),U=c-u,X=Ri(Math.sqrt(m/v)),J=Math.abs(U)<5;s||(s=J?de.restSpeed.granular:de.restSpeed.default),a||(a=J?de.restDelta.granular:de.restDelta.default);let Y;if(q<1){const et=Gp(X,q);Y=ht=>{const V=Math.exp(-q*X*ht);return c-V*((k+q*X*U)/et*Math.sin(et*ht)+U*Math.cos(et*ht))}}else if(q===1)Y=et=>c-Math.exp(-X*et)*(U+(k+X*U)*et);else{const et=X*Math.sqrt(q*q-1);Y=ht=>{const V=Math.exp(-q*X*ht),w=Math.min(et*ht,300);return c-V*((k+q*X*U)*Math.sinh(w)+et*U*Math.cosh(w))/et}}const rt={calculatedDuration:C&&E||null,next:et=>{const ht=Y(et);if(C)d.done=et>=E;else{let V=et===0?k:0;q<1&&(V=et===0?wi(k):uw(Y,et,ht));const w=Math.abs(V)<=s,I=Math.abs(c-ht)<=a;d.done=w&&I}return d.value=d.done?c:ht,d},toString:()=>{const et=Math.min(Sy(rt),cf),ht=lw(V=>rt.next(et*V).value,et,30);return et+"ms "+ht},toTransition:()=>{}};return rt}hf.applyToOptions=n=>{const t=gP(n,100,hf);return n.ease=t.ease,n.duration=wi(t.duration),n.type="keyframes",n};function Kp({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:v}){const E=n[0],A={done:!1,value:E},C=w=>d!==void 0&&w<d||m!==void 0&&w>m,k=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let q=e*t;const U=E+q,X=c===void 0?U:c(U);X!==U&&(q=X-E);const J=w=>-q*Math.exp(-w/s),Y=w=>X+J(w),rt=w=>{const I=J(w),O=Y(w);A.done=Math.abs(I)<=g,A.value=A.done?X:O};let et,ht;const V=w=>{C(A.value)&&(et=w,ht=hf({keyframes:[A.value,k(A.value)],velocity:uw(Y,w,A.value),damping:a,stiffness:u,restDelta:g,restSpeed:v}))};return V(0),{calculatedDuration:null,next:w=>{let I=!1;return!ht&&et===void 0&&(I=!0,rt(w),V(w)),et!==void 0&&w>=et?ht.next(w-et):(!I&&rt(w),A)}}}function SP(n,t,e){const s=[],a=e||ps.mix||ow,u=n.length-1;for(let c=0;c<u;c++){let d=a(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||Fn:t;d=qu(m,d)}s.push(d)}return s}function wP(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const u=n.length;if(my(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=SP(t,s,a),m=d.length,g=v=>{if(c&&v<n[0])return t[0];let E=0;if(m>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const A=Du(n[E],n[E+1],v);return d[E](A)};return e?v=>g(ms(n[0],n[u-1],v)):g}function RP(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=Du(0,t,s);n.push(le(e,1,a))}}function CP(n){const t=[0];return RP(t,n.length-1),t}function IP(n,t){return n.map(e=>e*t)}function DP(n,t){return n.map(()=>t||WS).splice(0,n.length-1)}function pu({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=zN(s)?s.map(GE):GE(s),u={done:!1,value:t[0]},c=IP(e&&e.length===t.length?e:CP(t),n),d=wP(c,t,{ease:Array.isArray(a)?a:DP(t,a)});return{calculatedDuration:n,next:m=>(u.value=d(m),u.done=m>=n,u)}}const xP=n=>n!==null;function wy(n,{repeat:t,repeatType:e="loop"},s,a=1){const u=n.filter(xP),d=a<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const VP={decay:Kp,inertia:Kp,tween:pu,keyframes:pu,spring:hf};function cw(n){typeof n.type=="string"&&(n.type=VP[n.type])}class Ry{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const MP=n=>n/100;class Cy extends Ry{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:e}=this.options;e&&e.updatedAt!==pn.now()&&this.tick(pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cw(t);const{type:e=pu,repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const m=e||pu;m!==pu&&typeof d[0]!="number"&&(this.mixKeyframes=qu(MP,ow(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Sy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:A,repeatDelay:C,type:k,onUpdate:q,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const X=this.currentTime-g*(this.playbackSpeed>=0?1:-1),J=this.playbackSpeed>=0?X<0:X>a;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,rt=s;if(E){const w=Math.min(this.currentTime,a)/d;let I=Math.floor(w),O=w%1;!O&&w>=1&&(O=1),O===1&&I--,I=Math.min(I,E+1),!!(I%2)&&(A==="reverse"?(O=1-O,C&&(O-=C/d)):A==="mirror"&&(rt=c)),Y=ms(0,1,O)*d}const et=J?{done:!1,value:v[0]}:rt.next(Y);u&&(et.value=u(et.value));let{done:ht}=et;!J&&m!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return V&&k!==Kp&&(et.value=wy(v,this.options,U,this.speed)),q&&q(et.value),V&&this.finish(),et}then(t,e){return this.finished.then(t,e)}get duration(){return Ri(this.calculatedDuration)}get time(){return Ri(this.currentTime)}set time(t){var e;t=wi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(pn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ri(this.currentTime))}play(){var a,u;if(this.isStopped)return;const{driver:t=pP,startTime:e}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(u=(a=this.options).onPlay)==null||u.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function OP(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const na=n=>n*180/Math.PI,Yp=n=>{const t=na(Math.atan2(n[1],n[0]));return Qp(t)},NP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Yp,rotateZ:Yp,skewX:n=>na(Math.atan(n[1])),skewY:n=>na(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Qp=n=>(n=n%360,n<0&&(n+=360),n),ZE=Yp,JE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),tA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),PP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JE,scaleY:tA,scale:n=>(JE(n)+tA(n))/2,rotateX:n=>Qp(na(Math.atan2(n[6],n[5]))),rotateY:n=>Qp(na(Math.atan2(-n[2],n[0]))),rotateZ:ZE,rotate:ZE,skewX:n=>na(Math.atan(n[4])),skewY:n=>na(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Xp(n){return n.includes("scale")?1:0}function $p(n,t){if(!n||n==="none")return Xp(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=PP,a=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=NP,a=d}if(!a)return Xp(t);const u=s[t],c=a[1].split(",").map(LP);return typeof u=="function"?u(c):c[u]}const kP=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return $p(e,t)};function LP(n){return parseFloat(n.trim())}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ho=new Set(qo),eA=n=>n===Fo||n===bt,UP=new Set(["x","y","z"]),BP=qo.filter(n=>!UP.has(n));function zP(n){const t=[];return BP.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const sa={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>$p(t,"x"),y:(n,{transform:t})=>$p(t,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const ra=new Set;let Wp=!1,Zp=!1,Jp=!1;function hw(){if(Zp){const n=Array.from(ra).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=zP(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([u,c])=>{var d;(d=s.getValue(u))==null||d.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zp=!1,Wp=!1,ra.forEach(n=>n.complete(Jp)),ra.clear()}function fw(){ra.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Zp=!0)})}function jP(){Jp=!0,fw(),hw(),Jp=!1}class Iy{constructor(t,e,s,a,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ra.add(this),Wp||(Wp=!0,ae.read(fw),ae.resolveKeyframes(hw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const u=a==null?void 0:a.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&e){const d=s.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&u===void 0&&a.set(t[0])}OP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ra.delete(this)}cancel(){this.state==="scheduled"&&(ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const FP=n=>n.startsWith("--");function qP(n,t,e){FP(t)?n.style.setProperty(t,e):n.style[t]=e}const HP=py(()=>window.ScrollTimeline!==void 0),GP={};function KP(n,t){const e=py(n);return()=>GP[t]??e()}const dw=KP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,nA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function mw(n,t){if(n)return typeof n=="function"?dw()?lw(n,t):"ease-out":ZS(n)?au(n):Array.isArray(n)?n.map(e=>mw(e,t)||nA.easeOut):nA[n]}function YP(n,t,e,{delay:s=0,duration:a=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[t]:e};m&&(v.offset=m);const E=mw(d,a);Array.isArray(E)&&(v.easing=E);const A={delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),n.animate(v,A)}function pw(n){return typeof n=="function"&&"applyToOptions"in n}function QP({type:n,...t}){return pw(n)&&dw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XP extends Ry{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,my(typeof t.type!="string");const g=QP(t);this.animation=YP(e,s,a,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=wy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):qP(e,s,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,s;const t=((s=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:s.call(e).duration)||0;return Ri(Number(t))}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=wi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&HP()?(this.animation.timeline=t,Fn):e(this)}}const gw={anticipate:QS,backInOut:YS,circInOut:$S};function $P(n){return n in gw}function WP(n){typeof n.ease=="string"&&$P(n.ease)&&(n.ease=gw[n.ease])}const iA=10;class ZP extends XP{constructor(t){WP(t),cw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new Cy({...c,autoplay:!1}),m=wi(this.finishedTime??this.time);e.setWithVelocity(d.sample(m-iA).value,d.sample(m).value,iA),d.stop()}}const sA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(hr.test(n)||n==="0")&&!n.startsWith("url("));function JP(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function t4(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=sA(a,t),d=sA(u,t);return!c||!d?!1:JP(n)||(e==="spring"||pw(e))&&s}function tg(n){n.duration=0,n.type}const e4=new Set(["opacity","clipPath","filter","transform"]),n4=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function i4(n){var v;const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:u,type:c}=n;if(!(((v=t==null?void 0:t.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return n4()&&e&&e4.has(e)&&(e!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&u!==0&&c!=="inertia"}const s4=40;class r4 extends Ry{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:v,...E}){var k;super(),this.stop=()=>{var q,U;this._animation&&(this._animation.stop(),(q=this.stopTimeline)==null||q.call(this)),(U=this.keyframeResolver)==null||U.cancel()},this.createdAt=pn.now();const A={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:u,repeatType:c,name:m,motionValue:g,element:v,...E},C=(v==null?void 0:v.KeyframeResolver)||Iy;this.keyframeResolver=new C(d,(q,U,X)=>this.onKeyframesResolved(q,U,A,!X),m,g,v),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=pn.now(),t4(t,u,c,d)||((ps.instantAnimations||!m)&&(v==null||v(wy(t,s,e))),t[0]=t[t.length-1],tg(s),s.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>s4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},C=!g&&i4(A)?new ZP({...A,element:A.motionValue.owner.current}):new Cy(A);C.finished.then(()=>this.notifyFinished()).catch(Fn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),jP()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const a4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function o4(n){const t=a4.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function yw(n,t,e=1){const[s,a]=o4(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return BS(c)?parseFloat(c):c}return Ty(a)?yw(a,t,e+1):a}function Dy(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const vw=new Set(["width","height","top","left","right","bottom",...qo]),l4={test:n=>n==="auto",parse:n=>n},_w=n=>t=>t.test(n),Tw=[Fo,bt,Ci,Ks,JN,ZN,l4],rA=n=>Tw.find(_w(n));function u4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||jS(n):!0}const c4=new Set(["brightness","contrast","saturate","opacity"]);function h4(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(Ey)||[];if(!s)return n;const a=e.replace(s,"");let u=c4.has(t)?1:0;return s!==e&&(u*=100),t+"("+u+a+")"}const f4=/\b([a-z-]*)\(.*?\)/gu,eg={...hr,getAnimatableNone:n=>{const t=n.match(f4);return t?t.map(h4).join(" "):n}},aA={...Fo,transform:Math.round},d4={rotate:Ks,rotateX:Ks,rotateY:Ks,rotateZ:Ks,scale:wh,scaleX:wh,scaleY:wh,scaleZ:wh,skew:Ks,skewX:Ks,skewY:Ks,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:xu,originX:KE,originY:KE,originZ:bt},xy={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...d4,zIndex:aA,fillOpacity:xu,strokeOpacity:xu,numOctaves:aA},m4={...xy,color:Se,backgroundColor:Se,outlineColor:Se,fill:Se,stroke:Se,borderColor:Se,borderTopColor:Se,borderRightColor:Se,borderBottomColor:Se,borderLeftColor:Se,filter:eg,WebkitFilter:eg},Ew=n=>m4[n];function Aw(n,t){let e=Ew(n);return e!==eg&&(e=hr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const p4=new Set(["auto","none","0"]);function g4(n,t,e){let s=0,a;for(;s<n.length&&!a;){const u=n[s];typeof u=="string"&&!p4.has(u)&&Vu(u).values.length&&(a=n[s]),s++}if(a&&e)for(const u of t)n[u]=Aw(e,a)}class y4 extends Iy{constructor(t,e,s,a,u){super(t,e,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Ty(g))){const v=yw(g,e.current);v!==void 0&&(t[m]=v),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!vw.has(s)||t.length!==2)return;const[a,u]=t,c=rA(a),d=rA(u);if(c!==d)if(eA(c)&&eA(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||u4(t[a]))&&s.push(a);s.length&&g4(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=sa[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,g])=>{t.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function v4(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(e==null?void 0:e[n])??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const bw=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function _4(n){return zS(n)&&"offsetHeight"in n}const oA=30,T4=n=>!isNaN(parseFloat(n));class E4{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const a=pn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=T4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new gy);const s=this.events[t].add(e);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,oA);return FS(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mo(n,t){return new E4(n,t)}const{schedule:Vy}=JS(queueMicrotask,!1),Xn={x:!1,y:!1};function Sw(){return Xn.x||Xn.y}function A4(n){return n==="x"||n==="y"?Xn[n]?null:(Xn[n]=!0,()=>{Xn[n]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}function ww(n,t){const e=v4(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function lA(n){return!(n.pointerType==="touch"||Sw())}function b4(n,t,e={}){const[s,a,u]=ww(n,e),c=d=>{if(!lA(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const v=E=>{lA(E)&&(g(E),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),u}const Rw=(n,t)=>t?n===t?!0:Rw(n,t.parentElement):!1,My=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,S4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w4(n){return S4.has(n.tagName)||n.tabIndex!==-1}const Bh=new WeakSet;function uA(n){return t=>{t.key==="Enter"&&n(t)}}function op(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const R4=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=uA(()=>{if(Bh.has(e))return;op(e,"down");const a=uA(()=>{op(e,"up")}),u=()=>op(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function cA(n){return My(n)&&!Sw()}function C4(n,t,e={}){const[s,a,u]=ww(n,e),c=d=>{const m=d.currentTarget;if(!cA(d))return;Bh.add(m);const g=t(m,d),v=(C,k)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),Bh.has(m)&&Bh.delete(m),cA(C)&&typeof g=="function"&&g(C,{success:k})},E=C=>{v(C,m===window||m===document||e.useGlobalTarget||Rw(m,C.target))},A=C=>{v(C,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",A,a)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),_4(d)&&(d.addEventListener("focus",g=>R4(g,a)),!w4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function Cw(n){return zS(n)&&"ownerSVGElement"in n}function I4(n){return Cw(n)&&n.tagName==="svg"}const en=n=>!!(n&&n.getVelocity),D4=[...Tw,Se,hr],x4=n=>D4.find(_w(n)),Iw=ut.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function V4(n=!0){const t=ut.useContext(hy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,u=ut.useId();ut.useEffect(()=>{if(n)return a(u)},[n]);const c=ut.useCallback(()=>n&&s&&s(u),[u,s,n]);return!e&&s?[!1,c]:[!0]}const Dw=ut.createContext({strict:!1}),hA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oo={};for(const n in hA)Oo[n]={isEnabled:t=>hA[n].some(e=>!!t[e])};function M4(n){for(const t in n)Oo[t]={...Oo[t],...n[t]}}const O4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ff(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||O4.has(n)}let xw=n=>!ff(n);function N4(n){typeof n=="function"&&(xw=t=>t.startsWith("on")?!ff(t):n(t))}try{N4(require("@emotion/is-prop-valid").default)}catch{}function P4(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(xw(a)||e===!0&&ff(a)||!t&&!ff(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const Of=ut.createContext({});function Nf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Mu(n){return typeof n=="string"||Array.isArray(n)}const Oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ny=["initial",...Oy];function Pf(n){return Nf(n.animate)||Ny.some(t=>Mu(n[t]))}function Vw(n){return!!(Pf(n)||n.variants)}function k4(n,t){if(Pf(n)){const{initial:e,animate:s}=n;return{initial:e===!1||Mu(e)?e:void 0,animate:Mu(s)?s:void 0}}return n.inherit!==!1?t:{}}function L4(n){const{initial:t,animate:e}=k4(n,ut.useContext(Of));return ut.useMemo(()=>({initial:t,animate:e}),[fA(t),fA(e)])}function fA(n){return Array.isArray(n)?n.join(" "):n}const Ou={};function U4(n){for(const t in n)Ou[t]=n[t],_y(t)&&(Ou[t].isCSSVariable=!0)}function Mw(n,{layout:t,layoutId:e}){return Ho.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Ou[n]||n==="opacity")}const B4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},z4=qo.length;function j4(n,t,e){let s="",a=!0;for(let u=0;u<z4;u++){const c=qo[u],d=n[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||e){const g=bw(d,xy[c]);if(!m){a=!1;const v=B4[c]||c;s+=`${v}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function Py(n,t,e){const{style:s,vars:a,transformOrigin:u}=n;let c=!1,d=!1;for(const m in t){const g=t[m];if(Ho.has(m)){c=!0;continue}else if(_y(m)){a[m]=g;continue}else{const v=bw(g,xy[m]);m.startsWith("origin")?(d=!0,u[m]=v):s[m]=v}}if(t.transform||(c||e?s.transform=j4(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=u;s.transformOrigin=`${m} ${g} ${v}`}}const ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ow(n,t,e){for(const s in t)!en(t[s])&&!Mw(s,e)&&(n[s]=t[s])}function F4({transformTemplate:n},t){return ut.useMemo(()=>{const e=ky();return Py(e,t,n),Object.assign({},e.vars,e.style)},[t])}function q4(n,t){const e=n.style||{},s={};return Ow(s,e,n),Object.assign(s,F4(n,t)),s}function H4(n,t){const e={},s=q4(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const G4={offset:"stroke-dashoffset",array:"stroke-dasharray"},K4={offset:"strokeDashoffset",array:"strokeDasharray"};function Y4(n,t,e=1,s=0,a=!0){n.pathLength=1;const u=a?G4:K4;n[u.offset]=bt.transform(-s);const c=bt.transform(t),d=bt.transform(e);n[u.array]=`${c} ${d}`}function Nw(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:u=1,pathOffset:c=0,...d},m,g,v){if(Py(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A}=n;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),s!==void 0&&(E.scale=s),a!==void 0&&Y4(E,a,u,c,!1)}const Pw=()=>({...ky(),attrs:{}}),kw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Q4(n,t,e,s){const a=ut.useMemo(()=>{const u=Pw();return Nw(u,t,kw(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};Ow(u,n.style,n),a.style={...u,...a.style}}return a}const X4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ly(n){return typeof n!="string"||n.includes("-")?!1:!!(X4.indexOf(n)>-1||/[A-Z]/u.test(n))}function $4(n,t,e,{latestValues:s},a,u=!1){const d=(Ly(n)?Q4:H4)(t,s,a,n),m=P4(t,typeof n=="string",u),g=n!==ut.Fragment?{...m,...d,ref:e}:{},{children:v}=t,E=ut.useMemo(()=>en(v)?v.get():v,[v]);return ut.createElement(n,{...g,children:E})}function dA(n){const t=[{},{}];return n==null||n.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function Uy(n,t,e,s){if(typeof t=="function"){const[a,u]=dA(s);t=t(e!==void 0?e:n.custom,a,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,u]=dA(s);t=t(e!==void 0?e:n.custom,a,u)}return t}function zh(n){return en(n)?n.get():n}function W4({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:Z4(e,s,a,n),renderState:t()}}function Z4(n,t,e,s){const a={},u=s(n,{});for(const A in u)a[A]=zh(u[A]);let{initial:c,animate:d}=n;const m=Pf(n),g=Vw(n);t&&g&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const E=v?d:c;if(E&&typeof E!="boolean"&&!Nf(E)){const A=Array.isArray(E)?E:[E];for(let C=0;C<A.length;C++){const k=Uy(n,A[C]);if(k){const{transitionEnd:q,transition:U,...X}=k;for(const J in X){let Y=X[J];if(Array.isArray(Y)){const rt=v?Y.length-1:0;Y=Y[rt]}Y!==null&&(a[J]=Y)}for(const J in q)a[J]=q[J]}}}return a}const Lw=n=>(t,e)=>{const s=ut.useContext(Of),a=ut.useContext(hy),u=()=>W4(n,t,s,a);return e?u():MN(u)};function By(n,t,e){var u;const{style:s}=n,a={};for(const c in s)(en(s[c])||t.style&&en(t.style[c])||Mw(c,n)||((u=e==null?void 0:e.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const J4=Lw({scrapeMotionValuesFromProps:By,createRenderState:ky});function Uw(n,t,e){const s=By(n,t,e);for(const a in n)if(en(n[a])||en(t[a])){const u=qo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=n[a]}return s}const tk=Lw({scrapeMotionValuesFromProps:Uw,createRenderState:Pw}),ek=Symbol.for("motionComponentSymbol");function mo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function nk(n,t,e){return ut.useCallback(s=>{s&&n.onMount&&n.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):mo(e)&&(e.current=s))},[t])}const zy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ik="framerAppearId",Bw="data-"+zy(ik),zw=ut.createContext({});function sk(n,t,e,s,a){var q,U;const{visualElement:u}=ut.useContext(Of),c=ut.useContext(Dw),d=ut.useContext(hy),m=ut.useContext(Iw).reducedMotion,g=ut.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,E=ut.useContext(zw);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&rk(g.current,e,a,E);const A=ut.useRef(!1);ut.useInsertionEffect(()=>{v&&A.current&&v.update(e,d)});const C=e[Bw],k=ut.useRef(!!C&&!((q=window.MotionHandoffIsComplete)!=null&&q.call(window,C))&&((U=window.MotionHasOptimisedAnimation)==null?void 0:U.call(window,C)));return ON(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),ut.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var X;(X=window.MotionHandoffMarkAsComplete)==null||X.call(window,C)}),k.current=!1),v.enteringChildren=void 0)}),v}function rk(n,t,e,s){const{layoutId:a,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:jw(n.parent)),n.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||d&&mo(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function jw(n){if(n)return n.options.allowProjection!==!1?n.projection:jw(n.parent)}function lp(n,{forwardMotionProps:t=!1}={},e,s){e&&M4(e);const a=Ly(n)?tk:J4;function u(d,m){let g;const v={...ut.useContext(Iw),...d,layoutId:ak(d)},{isStatic:E}=v,A=L4(d),C=a(d,E);if(!E&&cy){ok();const k=lk(v);g=k.MeasureLayout,A.visualElement=sk(n,C,v,s,k.ProjectionNode)}return st.jsxs(Of.Provider,{value:A,children:[g&&A.visualElement?st.jsx(g,{visualElement:A.visualElement,...v}):null,$4(n,d,nk(C,A.visualElement,m),C,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=ut.forwardRef(u);return c[ek]=n,c}function ak({layoutId:n}){const t=ut.useContext(US).id;return t&&n!==void 0?t+"-"+n:n}function ok(n,t){ut.useContext(Dw).strict}function lk(n){const{drag:t,layout:e}=Oo;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function uk(n,t){if(typeof Proxy>"u")return lp;const e=new Map,s=(u,c)=>lp(u,c,n,t),a=(u,c)=>s(u,c);return new Proxy(a,{get:(u,c)=>c==="create"?s:(e.has(c)||e.set(c,lp(c,void 0,n,t)),e.get(c))})}function Fw({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function ck({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function hk(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function up(n){return n===void 0||n===1}function ng({scale:n,scaleX:t,scaleY:e}){return!up(n)||!up(t)||!up(e)}function Jr(n){return ng(n)||qw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function qw(n){return mA(n.x)||mA(n.y)}function mA(n){return n&&n!=="0%"}function df(n,t,e){const s=n-e,a=t*s;return e+a}function pA(n,t,e,s,a){return a!==void 0&&(n=df(n,a,s)),df(n,e,s)+t}function ig(n,t=0,e=1,s,a){n.min=pA(n.min,t,e,s,a),n.max=pA(n.max,t,e,s,a)}function Hw(n,{x:t,y:e}){ig(n.x,t.translate,t.scale,t.originPoint),ig(n.y,e.translate,e.scale,e.originPoint)}const gA=.999999999999,yA=1.0000000000001;function fk(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let u,c;for(let d=0;d<a;d++){u=e[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&go(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Hw(n,c)),s&&Jr(u.latestValues)&&go(n,u.latestValues))}t.x<yA&&t.x>gA&&(t.x=1),t.y<yA&&t.y>gA&&(t.y=1)}function po(n,t){n.min=n.min+t,n.max=n.max+t}function vA(n,t,e,s,a=.5){const u=le(n.min,n.max,a);ig(n,t,e,u,s)}function go(n,t){vA(n.x,t.x,t.scaleX,t.scale,t.originX),vA(n.y,t.y,t.scaleY,t.scale,t.originY)}function Gw(n,t){return Fw(hk(n.getBoundingClientRect(),t))}function dk(n,t,e){const s=Gw(n,e),{scroll:a}=t;return a&&(po(s.x,a.offset.x),po(s.y,a.offset.y)),s}const _A=()=>({translate:0,scale:1,origin:0,originPoint:0}),yo=()=>({x:_A(),y:_A()}),TA=()=>({min:0,max:0}),ye=()=>({x:TA(),y:TA()}),sg={current:null},Kw={current:!1};function mk(){if(Kw.current=!0,!!cy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>sg.current=n.matches;n.addEventListener("change",t),t()}else sg.current=!1}const pk=new WeakMap;function gk(n,t,e){for(const s in t){const a=t[s],u=e[s];if(en(a))n.addValue(s,a);else if(en(u))n.addValue(s,Mo(a,{owner:n}));else if(u!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,Mo(c!==void 0?c:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const EA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yk{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Iy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=pn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ae.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=e.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Pf(e),this.isVariantNode=Vw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in E){const C=E[A];m[A]!==void 0&&en(C)&&C.set(m[A])}}mount(t){var e;this.current=t,pk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),Kw.current||mk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sg.current,(e=this.parent)==null||e.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),cr(this.notifyUpdate),cr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ho.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Oo){const e=Oo[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<EA.length;s++){const a=EA[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,c=t[u];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=gk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=Mo(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(BS(s)||jS(s))?s=parseFloat(s):!x4(s)&&hr.test(e)&&(s=Aw(t,e)),this.setBaseTarget(t,en(s)?s.get():s)),en(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var u;const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const c=Uy(this.props,e,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!en(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new gy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Vy.render(this.render)}}class Yw extends yk{constructor(){super(...arguments),this.KeyframeResolver=y4}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;en(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Qw(n,{style:t,vars:e},s,a){const u=n.style;let c;for(c in t)u[c]=t[c];a==null||a.applyProjectionStyles(u,s);for(c in e)u.setProperty(c,e[c])}function vk(n){return window.getComputedStyle(n)}class _k extends Yw{constructor(){super(...arguments),this.type="html",this.renderInstance=Qw}readValueFromInstance(t,e){var s;if(Ho.has(e))return(s=this.projection)!=null&&s.isProjecting?Xp(e):kP(t,e);{const a=vk(t),u=(_y(e)?a.getPropertyValue(e):a[e])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Gw(t,e)}build(t,e,s){Py(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return By(t,e,s)}}const Xw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tk(n,t,e,s){Qw(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(Xw.has(a)?a:zy(a),t.attrs[a])}class Ek extends Yw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ho.has(e)){const s=Ew(e);return s&&s.default||0}return e=Xw.has(e)?e:zy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return Uw(t,e,s)}build(t,e,s){Nw(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){Tk(t,e,s,a)}mount(t){this.isSVGTag=kw(t.tagName),super.mount(t)}}const Ak=(n,t)=>Ly(n)?new Ek(t):new _k(t,{allowProjection:n!==ut.Fragment});function Ao(n,t,e){const s=n.getProps();return Uy(s,t,e!==void 0?e:s.custom,n)}const rg=n=>Array.isArray(n);function bk(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Mo(e))}function Sk(n){return rg(n)?n[n.length-1]||0:n}function wk(n,t){const e=Ao(n,t);let{transitionEnd:s={},transition:a={},...u}=e||{};u={...u,...s};for(const c in u){const d=Sk(u[c]);bk(n,c,d)}}function Rk(n){return!!(en(n)&&n.add)}function ag(n,t){const e=n.getValue("willChange");if(Rk(e))return e.add(t);if(!e&&ps.WillChange){const s=new ps.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function $w(n){return n.props[Bw]}const Ck=n=>n!==null;function Ik(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(Ck),u=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[u]}const Dk={type:"spring",stiffness:500,damping:25,restSpeed:10},xk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Vk={type:"keyframes",duration:.8},Mk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ok=(n,{keyframes:t})=>t.length>2?Vk:Ho.has(n)?n.startsWith("scale")?xk(t[1]):Dk:Mk;function Nk({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const jy=(n,t,e,s={},a,u)=>c=>{const d=Dy(s,n)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-wi(m);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:a};Nk(d)||Object.assign(v,Ok(n,v)),v.duration&&(v.duration=wi(v.duration)),v.repeatDelay&&(v.repeatDelay=wi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(tg(v),v.delay===0&&(E=!0)),(ps.instantAnimations||ps.skipAnimations)&&(E=!0,tg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const A=Ik(v.keyframes,d);if(A!==void 0){ae.update(()=>{v.onUpdate(A),v.onComplete()});return}}return d.isSync?new Cy(v):new r4(v)};function Pk({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function Ww(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const m=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),A=d[v];if(A===void 0||g&&Pk(g,v))continue;const C={delay:e,...Dy(u||{},v)},k=E.get();if(k!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===k&&!C.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const X=$w(n);if(X){const J=window.MotionHandoffAnimation(X,v,ae);J!==null&&(C.startTime=J,q=!0)}}ag(n,v),E.start(jy(v,E,A,n.shouldReduceMotion&&vw.has(v)?{type:!1}:C,n,q));const U=E.animation;U&&m.push(U)}return c&&Promise.all(m).then(()=>{ae.update(()=>{c&&wk(n,c)})}),m}function Zw(n,t,e,s=0,a=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*s;return typeof e=="function"?e(u,c):a===1?u*s:d-u*s}function og(n,t,e={}){var m;const s=Ao(n,t,e.type==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const u=s?()=>Promise.all(Ww(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:A}=a;return kk(n,t,g,v,E,A,e)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,v]=d==="beforeChildren"?[u,c]:[c,u];return g().then(()=>v())}else return Promise.all([u(),c(e.delay)])}function kk(n,t,e=0,s=0,a=0,u=1,c){const d=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),d.push(og(m,t,{...c,delay:e+(typeof s=="function"?0:s)+Zw(n.variantChildren,m,s,a,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function Lk(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(u=>og(n,u,e));s=Promise.all(a)}else if(typeof t=="string")s=og(n,t,e);else{const a=typeof t=="function"?Ao(n,t,e.custom):t;s=Promise.all(Ww(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}function Jw(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const Uk=Ny.length;function tR(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?tR(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Uk;e++){const s=Ny[e],a=n.props[s];(Mu(a)||a===!1)&&(t[s]=a)}return t}const Bk=[...Oy].reverse(),zk=Oy.length;function jk(n){return t=>Promise.all(t.map(({animation:e,options:s})=>Lk(n,e,s)))}function Fk(n){let t=jk(n),e=AA(),s=!0;const a=m=>(g,v)=>{var A;const E=Ao(n,v,m==="exit"?(A=n.presenceContext)==null?void 0:A.custom:void 0);if(E){const{transition:C,transitionEnd:k,...q}=E;g={...g,...q,...k}}return g};function u(m){t=m(n)}function c(m){const{props:g}=n,v=tR(n.parent)||{},E=[],A=new Set;let C={},k=1/0;for(let U=0;U<zk;U++){const X=Bk[U],J=e[X],Y=g[X]!==void 0?g[X]:v[X],rt=Mu(Y),et=X===m?J.isActive:null;et===!1&&(k=U);let ht=Y===v[X]&&Y!==g[X]&&rt;if(ht&&s&&n.manuallyAnimateOnMount&&(ht=!1),J.protectedKeys={...C},!J.isActive&&et===null||!Y&&!J.prevProp||Nf(Y)||typeof Y=="boolean")continue;const V=qk(J.prevProp,Y);let w=V||X===m&&J.isActive&&!ht&&rt||U>k&&rt,I=!1;const O=Array.isArray(Y)?Y:[Y];let P=O.reduce(a(X),{});et===!1&&(P={});const{prevResolvedValues:x={}}=J,R={...x,...P},St=it=>{w=!0,A.has(it)&&(I=!0,A.delete(it)),J.needsAnimating[it]=!0;const ct=n.getValue(it);ct&&(ct.liveStyle=!1)};for(const it in R){const ct=P[it],Dt=x[it];if(C.hasOwnProperty(it))continue;let M=!1;rg(ct)&&rg(Dt)?M=!Jw(ct,Dt):M=ct!==Dt,M?ct!=null?St(it):A.add(it):ct!==void 0&&A.has(it)?St(it):J.protectedKeys[it]=!0}J.prevProp=Y,J.prevResolvedValues=P,J.isActive&&(C={...C,...P}),s&&n.blockInitialAnimation&&(w=!1);const Ut=ht&&V;w&&(!Ut||I)&&E.push(...O.map(it=>{const ct={type:X};if(typeof it=="string"&&s&&!Ut&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,M=Ao(Dt,it);if(Dt.enteringChildren&&M){const{delayChildren:nt}=M.transition||{};ct.delay=Zw(Dt.enteringChildren,n,nt)}}return{animation:it,options:ct}}))}if(A.size){const U={};if(typeof g.initial!="boolean"){const X=Ao(n,Array.isArray(g.initial)?g.initial[0]:g.initial);X&&X.transition&&(U.transition=X.transition)}A.forEach(X=>{const J=n.getBaseTarget(X),Y=n.getValue(X);Y&&(Y.liveStyle=!0),U[X]=J??null}),E.push({animation:U})}let q=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(q=!1),s=!1,q?t(E):Promise.resolve()}function d(m,g){var E;if(e[m].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(A=>{var C;return(C=A.animationState)==null?void 0:C.setActive(m,g)}),e[m].isActive=g;const v=c(m);for(const A in e)e[A].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>e,reset:()=>{e=AA(),s=!0}}}function qk(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Jw(t,n):!1}function Wr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AA(){return{animate:Wr(!0),whileInView:Wr(),whileHover:Wr(),whileTap:Wr(),whileDrag:Wr(),whileFocus:Wr(),exit:Wr()}}class dr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Hk extends dr{constructor(t){super(t),t.animationState||(t.animationState=Fk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Gk=0;class Kk extends dr{constructor(){super(...arguments),this.id=Gk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Yk={animation:{Feature:Hk},exit:{Feature:Kk}};function Nu(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}function Ku(n){return{point:{x:n.pageX,y:n.pageY}}}const Qk=n=>t=>My(t)&&n(t,Ku(t));function gu(n,t,e,s){return Nu(n,t,Qk(e),s)}const eR=1e-4,Xk=1-eR,$k=1+eR,nR=.01,Wk=0-nR,Zk=0+nR;function un(n){return n.max-n.min}function Jk(n,t,e){return Math.abs(n-t)<=e}function bA(n,t,e,s=.5){n.origin=s,n.originPoint=le(t.min,t.max,n.origin),n.scale=un(e)/un(t),n.translate=le(e.min,e.max,n.origin)-n.originPoint,(n.scale>=Xk&&n.scale<=$k||isNaN(n.scale))&&(n.scale=1),(n.translate>=Wk&&n.translate<=Zk||isNaN(n.translate))&&(n.translate=0)}function yu(n,t,e,s){bA(n.x,t.x,e.x,s?s.originX:void 0),bA(n.y,t.y,e.y,s?s.originY:void 0)}function SA(n,t,e){n.min=e.min+t.min,n.max=n.min+un(t)}function t3(n,t,e){SA(n.x,t.x,e.x),SA(n.y,t.y,e.y)}function wA(n,t,e){n.min=t.min-e.min,n.max=n.min+un(t)}function vu(n,t,e){wA(n.x,t.x,e.x),wA(n.y,t.y,e.y)}function zn(n){return[n("x"),n("y")]}const iR=({current:n})=>n?n.ownerDocument.defaultView:null,RA=(n,t)=>Math.abs(n-t);function e3(n,t){const e=RA(n.x,t.x),s=RA(n.y,t.y);return Math.sqrt(e**2+s**2)}class sR{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=hp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,k=e3(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!k)return;const{point:q}=A,{timestamp:U}=Ge;this.history.push({...q,timestamp:U});const{onStart:X,onMove:J}=this.handlers;C||(X&&X(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,A)},this.handlePointerMove=(A,C)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=cp(C,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(A,C)=>{this.end();const{onEnd:k,onSessionEnd:q,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=hp(A.type==="pointercancel"?this.lastMoveEventInfo:cp(C,this.transformPagePoint),this.history);this.startEvent&&k&&k(A,X),q&&q(A,X)},!My(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Ku(t),m=cp(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=Ge;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,hp(m,this.history)),this.removeListeners=qu(gu(this.contextWindow,"pointermove",this.handlePointerMove),gu(this.contextWindow,"pointerup",this.handlePointerUp),gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cr(this.updatePoint)}}function cp(n,t){return t?{point:t(n.point)}:n}function CA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function hp({point:n},t){return{point:n,delta:CA(n,rR(t)),offset:CA(n,n3(t)),velocity:i3(t,.1)}}function n3(n){return n[0]}function rR(n){return n[n.length-1]}function i3(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=rR(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>wi(t)));)e--;if(!s)return{x:0,y:0};const u=Ri(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function s3(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?le(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?le(e,n,s.max):Math.min(n,e)),n}function IA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function r3(n,{top:t,left:e,bottom:s,right:a}){return{x:IA(n.x,e,a),y:IA(n.y,t,s)}}function DA(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function a3(n,t){return{x:DA(n.x,t.x),y:DA(n.y,t.y)}}function o3(n,t){let e=.5;const s=un(n),a=un(t);return a>s?e=Du(t.min,t.max-s,n.min):s>a&&(e=Du(n.min,n.max-a,t.min)),ms(0,1,e)}function l3(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const lg=.35;function u3(n=lg){return n===!1?n=0:n===!0&&(n=lg),{x:xA(n,"left","right"),y:xA(n,"top","bottom")}}function xA(n,t,e){return{min:VA(n,t),max:VA(n,e)}}function VA(n,t){return typeof n=="number"?n:n[t]||0}const c3=new WeakMap;class h3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Ku(E).point)},c=(E,A)=>{const{drag:C,dragPropagation:k,onDragStart:q}=this.getProps();if(C&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A4(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(X=>{let J=this.getAxisMotionValue(X).get()||0;if(Ci.test(J)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const rt=Y.layout.layoutBox[X];rt&&(J=un(rt)*(parseFloat(J)/100))}}this.originPoint[X]=J}),q&&ae.postRender(()=>q(E,A)),ag(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:C,dragDirectionLock:k,onDirectionLock:q,onDrag:U}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:X}=A;if(k&&this.currentDirection===null){this.currentDirection=f3(X),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",A.point,X),this.updateAxis("y",A.point,X),this.visualElement.render(),U&&U(E,A)},m=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>zn(E=>{var A;return this.getAnimationState(E)==="paused"&&((A=this.getAxisMotionValue(E).animation)==null?void 0:A.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new sR(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:iR(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!Rh(t,a,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=s3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,a=this.constraints;t&&mo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=r3(s.layoutBox,t):this.constraints=!1,this.elastic=u3(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=l3(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!mo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=dk(s,a.root,this.visualElement.getTransformPagePoint());let c=a3(a.layout.layoutBox,u);if(e){const d=e(ck(c));this.hasMutatedConstraints=!!d,d&&(c=Fw(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=zn(v=>{if(!Rh(v,e,this.currentDirection))return;let E=m&&m[v]||{};c&&(E={min:0,max:0});const A=a?200:1e6,C=a?40:1e7,k={type:"inertia",velocity:s?t[v]:0,bounceStiffness:A,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,k)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return ag(this.visualElement,t),s.start(jy(t,s,0,e,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zn(e=>{const{drag:s}=this.getProps();if(!Rh(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[e];u.set(t[e]-le(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!mo(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};zn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=o3({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(c=>{if(!Rh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(le(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;c3.set(this.visualElement,this);const t=this.visualElement.current,e=gu(t,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();mo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ae.read(s);const c=Nu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(zn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())});return()=>{c(),e(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:c=lg,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Rh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function f3(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class d3 extends dr{constructor(t){super(t),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new h3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const MA=n=>(t,e)=>{n&&ae.postRender(()=>n(t,e))};class m3 extends dr{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(t){this.session=new sR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:MA(t),onStart:MA(e),onMove:s,onEnd:(u,c)=>{delete this.session,a&&ae.postRender(()=>a(u,c))}}}mount(){this.removePointerDownListener=gu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const eu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(bt.test(n))n=parseFloat(n);else return n;const e=OA(n,t.target.x),s=OA(n,t.target.y);return`${e}% ${s}%`}},p3={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=hr.parse(n);if(a.length>5)return s;const u=hr.createTransformer(n),c=typeof a[0]!="number"?1:0,d=e.x.scale*t.x,m=e.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=le(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),u(a)}};let fp=!1;class g3 extends ut.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=t;U4(y3),u&&(e.group&&e.group.add(u),s&&s.register&&a&&s.register(u),fp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,fp=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;fp=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aR(n){const[t,e]=V4(),s=ut.useContext(US);return st.jsx(g3,{...n,layoutGroup:s,switchLayoutGroup:ut.useContext(zw),isPresent:t,safeToRemove:e})}const y3={borderRadius:{...eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eu,borderTopRightRadius:eu,borderBottomLeftRadius:eu,borderBottomRightRadius:eu,boxShadow:p3};function v3(n,t,e){const s=en(n)?n:Mo(n);return s.start(jy("",s,t,e)),s.animation}const _3=(n,t)=>n.depth-t.depth;class T3{constructor(){this.children=[],this.isDirty=!1}add(t){fy(this.children,t),this.isDirty=!0}remove(t){dy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_3),this.isDirty=!1,this.children.forEach(t)}}function E3(n,t){const e=pn.now(),s=({timestamp:a})=>{const u=a-e;u>=t&&(cr(s),n(u-t))};return ae.setup(s,!0),()=>cr(s)}const oR=["TopLeft","TopRight","BottomLeft","BottomRight"],A3=oR.length,NA=n=>typeof n=="string"?parseFloat(n):n,PA=n=>typeof n=="number"||bt.test(n);function b3(n,t,e,s,a,u){a?(n.opacity=le(0,e.opacity??1,S3(s)),n.opacityExit=le(t.opacity??1,0,w3(s))):u&&(n.opacity=le(t.opacity??1,e.opacity??1,s));for(let c=0;c<A3;c++){const d=`border${oR[c]}Radius`;let m=kA(t,d),g=kA(e,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||PA(m)===PA(g)?(n[d]=Math.max(le(NA(m),NA(g),s),0),(Ci.test(g)||Ci.test(m))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=le(t.rotate||0,e.rotate||0,s))}function kA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const S3=lR(0,.5,XS),w3=lR(.5,.95,Fn);function lR(n,t,e){return s=>s<n?0:s>t?1:e(Du(n,t,s))}function LA(n,t){n.min=t.min,n.max=t.max}function Bn(n,t){LA(n.x,t.x),LA(n.y,t.y)}function UA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function BA(n,t,e,s,a){return n-=t,n=df(n,1/e,s),a!==void 0&&(n=df(n,1/a,s)),n}function R3(n,t=0,e=1,s=.5,a,u=n,c=n){if(Ci.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=le(u.min,u.max,s);n===u&&(d-=t),n.min=BA(n.min,t,e,d,a),n.max=BA(n.max,t,e,d,a)}function zA(n,t,[e,s,a],u,c){R3(n,t[e],t[s],t[a],t.scale,u,c)}const C3=["x","scaleX","originX"],I3=["y","scaleY","originY"];function jA(n,t,e,s){zA(n.x,t,C3,e?e.x:void 0,s?s.x:void 0),zA(n.y,t,I3,e?e.y:void 0,s?s.y:void 0)}function FA(n){return n.translate===0&&n.scale===1}function uR(n){return FA(n.x)&&FA(n.y)}function qA(n,t){return n.min===t.min&&n.max===t.max}function D3(n,t){return qA(n.x,t.x)&&qA(n.y,t.y)}function HA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function cR(n,t){return HA(n.x,t.x)&&HA(n.y,t.y)}function GA(n){return un(n.x)/un(n.y)}function KA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class x3{constructor(){this.members=[]}add(t){fy(this.members,t),t.scheduleRender()}remove(t){if(dy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function V3(n,t,e){let s="";const a=n.x.translate/t.x,u=n.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((a||u||c)&&(s=`translate3d(${a}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:A,skewX:C,skewY:k}=e;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),E&&(s+=`rotateX(${E}deg) `),A&&(s+=`rotateY(${A}deg) `),C&&(s+=`skewX(${C}deg) `),k&&(s+=`skewY(${k}deg) `)}const d=n.x.scale*t.x,m=n.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const dp=["","X","Y","Z"],M3=1e3;let O3=0;function mp(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function hR(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=$w(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(a||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&hR(s)}function fR({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=O3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(k3),this.nodes.forEach(z3),this.nodes.forEach(j3),this.nodes.forEach(L3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new T3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Cw(c)&&!I4(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),n){let v,E=0;const A=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{E=window.innerWidth}),n(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=E3(A,250),jh.hasAnimatedSinceResize&&(jh.hasAnimatedSinceResize=!1,this.nodes.forEach(XA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||K3,{onLayoutAnimationStart:q,onLayoutAnimationComplete:U}=g.getProps(),X=!this.targetLayout||!cR(this.targetLayout,C),J=!E&&A;if(this.options.layoutRoot||this.resumeFrom||J||E&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...Dy(k,"layout"),onPlay:q,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(v,J)}else E||XA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(F3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(B3),this.nodes.forEach(N3),this.nodes.forEach(P3)):this.nodes.forEach(QA),this.clearAllSnapshots();const d=pn.now();Ge.delta=ms(0,1e3/60,d-Ge.timestamp),Ge.timestamp=d,Ge.isProcessing=!0,ip.update.process(Ge),ip.preRender.process(Ge),ip.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U3),this.sharedNodes.forEach(q3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!uR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Jr(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),Y3(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return ye();const d=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(Q3))){const{scroll:v}=this.root;v&&(po(d.x,v.offset.x),po(d.y,v.offset.y))}return d}removeElementScroll(c){var m;const d=ye();if(Bn(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:A}=v;v!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&Bn(d,c),po(d.x,E.offset.x),po(d.y,E.offset.y))}return d}applyTransform(c,d=!1){const m=ye();Bn(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&go(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Jr(v.latestValues)&&go(m,v.latestValues)}return Jr(this.latestValues)&&go(m,this.latestValues),m}removeTransform(c){const d=ye();Bn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Jr(g.latestValues))continue;ng(g.latestValues)&&g.updateSnapshot();const v=ye(),E=g.measurePageBox();Bn(v,E),jA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Jr(this.latestValues)&&jA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var A;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),vu(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),Hw(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),vu(this.relativeTargetOrigin,this.target,C.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ng(this.parent.latestValues)||qw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Bn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;fk(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ye());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UA(this.prevProjectionDelta.x,this.projectionDelta.x),UA(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!KA(this.projectionDelta.x,this.prevProjectionDelta.x)||!KA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yo(),this.projectionDelta=yo(),this.projectionDeltaWithTransform=yo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},E=yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=ye(),C=m?m.source:void 0,k=this.layout?this.layout.source:void 0,q=C!==k,U=this.getStack(),X=!U||U.members.length<=1,J=!!(q&&!X&&this.options.crossfade===!0&&!this.path.some(G3));this.animationProgress=0;let Y;this.mixTargetDelta=rt=>{const et=rt/1e3;$A(E.x,c.x,et),$A(E.y,c.y,et),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H3(this.relativeTarget,this.relativeTargetOrigin,A,et),Y&&D3(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=ye()),Bn(Y,this.relativeTarget)),q&&(this.animationValues=v,b3(v,g,this.latestValues,et,J,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=et},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,m,g;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{jh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mo(0)),this.currentAnimation=v3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&dR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||ye();const E=un(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+E;const A=un(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+A}Bn(d,m),go(d,v),yu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new x3),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&mp("z",c,g,this.animationValues);for(let v=0;v<dp.length;v++)mp(`rotate${dp[v]}`,c,g,this.animationValues),mp(`skew${dp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=zh(d==null?void 0:d.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=zh(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Jr(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=V3(this.projectionDeltaWithTransform,this.treeScale,v);m&&(E=m(v,E)),c.transform=E;const{x:A,y:C}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const k in Ou){if(v[k]===void 0)continue;const{correct:q,applyTo:U,isCSSVariable:X}=Ou[k],J=E==="none"?v[k]:q(v[k],g);if(U){const Y=U.length;for(let rt=0;rt<Y;rt++)c[U[rt]]=J}else X?this.options.visualElement.renderState.vars[k]=J:c[k]=J}this.options.layoutId&&(c.pointerEvents=g===this?zh(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(YA),this.root.sharedNodes.clear()}}}function N3(n){n.updateLayout()}function P3(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=n.layout,{animationType:u}=n.options,c=t.source!==n.layout.source;u==="size"?zn(E=>{const A=c?t.measuredBox[E]:t.layoutBox[E],C=un(A);A.min=s[E].min,A.max=A.min+C}):dR(u,t.layoutBox,s)&&zn(E=>{const A=c?t.measuredBox[E]:t.layoutBox[E],C=un(s[E]);A.max=A.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+C)});const d=yo();yu(d,s,t.layoutBox);const m=yo();c?yu(m,n.applyTransform(a,!0),t.measuredBox):yu(m,s,t.layoutBox);const g=!uR(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:C}=E;if(A&&C){const k=ye();vu(k,t.layoutBox,A.layoutBox);const q=ye();vu(q,s,C.layoutBox),cR(k,q)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=q,n.relativeTargetOrigin=k,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function k3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function L3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function U3(n){n.clearSnapshot()}function YA(n){n.clearMeasurements()}function QA(n){n.isLayoutDirty=!1}function B3(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function XA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function z3(n){n.resolveTargetDelta()}function j3(n){n.calcProjection()}function F3(n){n.resetSkewAndRotation()}function q3(n){n.removeLeadSnapshot()}function $A(n,t,e){n.translate=le(t.translate,0,e),n.scale=le(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function WA(n,t,e,s){n.min=le(t.min,e.min,s),n.max=le(t.max,e.max,s)}function H3(n,t,e,s){WA(n.x,t.x,e.x,s),WA(n.y,t.y,e.y,s)}function G3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const K3={duration:.45,ease:[.4,0,.1,1]},ZA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),JA=ZA("applewebkit/")&&!ZA("chrome/")?Math.round:Fn;function tb(n){n.min=JA(n.min),n.max=JA(n.max)}function Y3(n){tb(n.x),tb(n.y)}function dR(n,t,e){return n==="position"||n==="preserve-aspect"&&!Jk(GA(t),GA(e),.2)}function Q3(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const X3=fR({attachResizeListener:(n,t)=>Nu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pp={current:void 0},mR=fR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!pp.current){const n=new X3({});n.mount(window),n.setOptions({layoutScroll:!0}),pp.current=n}return pp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),$3={pan:{Feature:m3},drag:{Feature:d3,ProjectionNode:mR,MeasureLayout:aR}};function eb(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,u=s[a];u&&ae.postRender(()=>u(t,Ku(t)))}class W3 extends dr{mount(){const{current:t}=this.node;t&&(this.unmount=b4(t,(e,s)=>(eb(this.node,s,"Start"),a=>eb(this.node,a,"End"))))}unmount(){}}class Z3 extends dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qu(Nu(this.node.current,"focus",()=>this.onFocus()),Nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nb(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),u=s[a];u&&ae.postRender(()=>u(t,Ku(t)))}class J3 extends dr{mount(){const{current:t}=this.node;t&&(this.unmount=C4(t,(e,s)=>(nb(this.node,s,"Start"),(a,{success:u})=>nb(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ug=new WeakMap,gp=new WeakMap,tL=n=>{const t=ug.get(n.target);t&&t(n)},eL=n=>{n.forEach(tL)};function nL({root:n,...t}){const e=n||document;gp.has(e)||gp.set(e,{});const s=gp.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(eL,{root:n,...t})),s[a]}function iL(n,t,e){const s=nL(t);return ug.set(n,e),s.observe(n),()=>{ug.delete(n),s.unobserve(n)}}const sL={some:0,all:1};class rL extends dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:sL[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),A=g?v:E;A&&A(m)};return iL(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(aL(t,e))&&this.startObserver()}unmount(){}}function aL({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const oL={inView:{Feature:rL},tap:{Feature:J3},focus:{Feature:Z3},hover:{Feature:W3}},lL={layout:{ProjectionNode:mR,MeasureLayout:aR}},uL={...Yk,...oL,...$3,...lL},Ch=uk(uL,Ak),cL=({size:n=24})=>st.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",children:[st.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),st.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),st.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),st.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),hL=({size:n=24})=>st.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"currentColor",children:st.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),fL=({size:n=24})=>st.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"currentColor",children:st.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),ib={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},dL={initial:{opacity:0},animate:{opacity:1}},ln={heading:{fontFamily:"Poppins, sans-serif",fontWeight:700},subheading:{fontFamily:"Poppins, sans-serif",fontWeight:400},button:{fontFamily:"Poppins, sans-serif",fontWeight:600},body:{fontFamily:"Poppins, sans-serif",fontWeight:400},medium:{fontFamily:"Poppins, sans-serif",fontWeight:500}};function mL({onGuestMode:n}){const[t,e]=ut.useState(!1),[s,a]=ut.useState(1247);ut.useEffect(()=>{const d=setInterval(()=>{a(m=>{const g=Math.floor(Math.random()*21)-10;return Math.max(900,Math.min(2e3,m+g))})},2e3+Math.random()*3e3);return()=>clearInterval(d)},[]);const u=ut.useCallback(()=>{t||!n||(e(!0),setTimeout(()=>{try{n()}catch(d){console.error("Failed to start guest mode:",d)}finally{e(!1)}},2e3))},[t,n]);ut.useCallback(d=>{console.log(`${d} login started`)},[]),ut.useMemo(()=>[{name:"Google",icon:st.jsx(cL,{size:20}),bg:"bg-white hover:bg-gray-100 text-black border border-white/20",textColor:"text-black"},{name:"Apple",icon:st.jsx(hL,{size:20}),bg:"bg-black hover:bg-gray-800 text-white border border-gray-600",textColor:"text-white"},{name:"Facebook",icon:st.jsx(fL,{size:20}),bg:"bg-blue-600 hover:bg-blue-700 text-white",textColor:"text-white"}],[]);const c=ut.useMemo(()=>["Never share personal information","Report inappropriate behavior","Be respectful to others"],[]);return st.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-start py-8 px-4",style:ln.body,children:st.jsxs("div",{className:"w-full max-w-lg text-center",children:[st.jsxs(Ch.div,{variants:ib,initial:"initial",animate:"animate",transition:{duration:.6},className:"mb-12",children:[st.jsx("h1",{className:"text-6xl mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",style:ln.heading,children:"Chit Chat"}),st.jsx("p",{className:"text-slate-400 text-lg",style:ln.subheading,children:"Anonymous random chat with strangers"})]}),st.jsxs(Ch.div,{variants:ib,initial:"initial",animate:"animate",transition:{duration:.6,delay:.2},className:"bg-slate-800/50 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-slate-700/50 mb-8",children:[st.jsxs("div",{className:"mb-8",children:[st.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[st.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse","aria-hidden":"true"}),st.jsx("span",{className:"text-slate-300 text-sm",style:ln.medium,children:"Completely Anonymous"})]}),st.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",style:ln.body,children:"No registration required. Start chatting instantly with random people around the world."})]}),st.jsx(LS,{onClick:u,disabled:t||!n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-2xl py-6 mb-6 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",size:"lg",style:ln.button,"aria-label":t?"Finding someone to chat":"Start anonymous chat",children:t?st.jsxs("div",{className:"flex items-center gap-2",children:[st.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin","aria-hidden":"true"}),"Finding someone to chat..."]}):"Start Anonymous Chat"}),st.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-700/30 rounded-2xl border border-slate-600/50",children:[st.jsxs("div",{className:"text-center",children:[st.jsx(Ch.p,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},className:"text-2xl text-white mb-1",style:ln.button,children:s.toLocaleString()},s),st.jsxs("div",{className:"flex items-center justify-center gap-2",children:[st.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse","aria-hidden":"true"}),st.jsx("p",{className:"text-slate-400 text-xs",style:ln.body,children:"Online Now"})]})]}),st.jsxs("div",{className:"text-center",children:[st.jsx("p",{className:"text-2xl text-white mb-1",style:ln.button,children:"24/7"}),st.jsx("p",{className:"text-slate-400 text-xs",style:ln.body,children:"Available"})]})]})]}),st.jsxs(Ch.div,{variants:dL,initial:"initial",animate:"animate",transition:{duration:.6,delay:.4},className:"space-y-6",children:[st.jsxs("div",{className:"bg-slate-800/30 rounded-2xl p-4 border border-slate-700/50",children:[st.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[st.jsx("span",{className:"text-yellow-400","aria-hidden":"true",children:""}),st.jsx("p",{className:"text-slate-300 text-sm",style:ln.medium,children:"Stay Safe Online"})]}),st.jsx("div",{className:"space-y-1",children:c.map((d,m)=>st.jsxs("p",{className:"text-slate-400 text-xs",style:ln.body,children:[" ",d]},m))})]}),st.jsxs("div",{className:"flex justify-center gap-6 text-sm text-slate-500 mt-8",children:[st.jsx("button",{className:"hover:text-slate-300 transition-colors",style:ln.body,onClick:()=>console.log("Terms of Service clicked"),children:"Terms of Service"}),st.jsx("button",{className:"hover:text-slate-300 transition-colors",style:ln.body,onClick:()=>console.log("Privacy Policy clicked"),children:"Privacy Policy"}),st.jsx("button",{className:"hover:text-slate-300 transition-colors",style:ln.body,onClick:()=>console.log("Report clicked"),children:"Report"})]})]})]})})}const sb=["#FF69B4","#1E90FF","#FFD700","#00FA9A","#BA55D3","#FF4500"],pL=()=>st.jsx("div",{className:"flex justify-center items-center h-screen text-white bg-black",children:st.jsxs("div",{className:"flex items-center gap-2",children:[st.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),st.jsx("p",{children:"Loading..."})]})});function gL(){const[n,t]=ut.useState(null),[e,s]=ut.useState(!0),a=ut.useCallback(()=>sb[Math.floor(Math.random()*sb.length)],[]),u=ut.useCallback(()=>{const m={uid:`guest_${Date.now()}_${Math.random().toString(36).slice(2,11)}`,nickname:`Guest${Math.floor(Math.random()*1e3)}`,email:null,isAnonymous:!0,isBlueCheck:!1,color:a(),loginMethod:"guest"};t(m)},[a]),c=ut.useCallback(async()=>{try{(n==null?void 0:n.loginMethod)==="guest"||await qE.signOut(),t(null)}catch(m){console.error("Logout error:",m),t(null)}},[n==null?void 0:n.loginMethod]);ut.useEffect(()=>{let m;return(async()=>{try{if(!AN()){console.log("Firebase not configured, enabling guest mode only"),s(!1);return}m=gD(qE,v=>{v&&!v.isAnonymous?t({uid:v.uid,email:v.email,nickname:v.displayName||"User",isAnonymous:!1,isBlueCheck:!1,color:a(),loginMethod:"firebase"}):t(null),s(!1)})}catch(v){console.error("Firebase initialization error:",v),s(!1)}})(),()=>{m&&m()}},[a]);const d=ut.useMemo(()=>({backgroundColor:"#000",display:"flex",flexDirection:"column",minHeight:"100vh"}),[]);return e?st.jsx(pL,{}):st.jsx("div",{style:d,children:n?st.jsx(VN,{user:n,onLogout:c}):st.jsx(mL,{onGuestMode:u})})}QC.createRoot(document.getElementById("root")).render(st.jsx(ut.StrictMode,{children:st.jsx(gL,{})}));
