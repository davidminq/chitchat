(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=e(a);fetch(a.href,u)}})();var Lm={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function jC(){if(tT)return eu;tT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var d in a)d!=="key"&&(u[d]=a[d])}else u=a;return a=u.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:u}}return eu.Fragment=t,eu.jsx=e,eu.jsxs=e,eu}var eT;function zC(){return eT||(eT=1,Lm.exports=jC()),Lm.exports}var B=zC(),Um={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function FC(){if(nT)return Dt;nT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,H={};function O(D,nt,ct){this.props=D,this.context=nt,this.refs=H,this.updater=ct||C}O.prototype.isReactComponent={},O.prototype.setState=function(D,nt){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,nt,"setState")},O.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Q(){}Q.prototype=O.prototype;function J(D,nt,ct){this.props=D,this.context=nt,this.refs=H,this.updater=ct||C}var X=J.prototype=new Q;X.constructor=J,k(X,O.prototype),X.isPureReactComponent=!0;var rt=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function M(D,nt,ct,at,_t,Ot){return ct=Ot.ref,{$$typeof:n,type:D,key:nt,ref:ct!==void 0?ct:null,props:Ot}}function w(D,nt){return M(D.type,nt,void 0,void 0,void 0,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function V(D){var nt={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ct){return nt[ct]})}var P=/\/+/g;function L(D,nt){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):nt.toString(36)}function R(){}function pt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(nt){D.status==="pending"&&(D.status="fulfilled",D.value=nt)},function(nt){D.status==="pending"&&(D.status="rejected",D.reason=nt)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ht(D,nt,ct,at,_t){var Ot=typeof D;(Ot==="undefined"||Ot==="boolean")&&(D=null);var Rt=!1;if(D===null)Rt=!0;else switch(Ot){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(D.$$typeof){case n:case t:Rt=!0;break;case y:return Rt=D._init,ht(Rt(D._payload),nt,ct,at,_t)}}if(Rt)return _t=_t(D),Rt=at===""?"."+L(D,0):at,rt(_t)?(ct="",Rt!=null&&(ct=Rt.replace(P,"$&/")+"/"),ht(_t,nt,ct,"",function(ni){return ni})):_t!=null&&(x(_t)&&(_t=w(_t,ct+(_t.key==null||D&&D.key===_t.key?"":(""+_t.key).replace(P,"$&/")+"/")+Rt)),nt.push(_t)),1;Rt=0;var Pe=at===""?".":at+":";if(rt(D))for(var ee=0;ee<D.length;ee++)at=D[ee],Ot=Pe+L(at,ee),Rt+=ht(at,nt,ct,Ot,_t);else if(ee=b(D),typeof ee=="function")for(D=ee.call(D),ee=0;!(at=D.next()).done;)at=at.value,Ot=Pe+L(at,ee++),Rt+=ht(at,nt,ct,Ot,_t);else if(Ot==="object"){if(typeof D.then=="function")return ht(pt(D),nt,ct,at,_t);throw nt=String(D),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function K(D,nt,ct){if(D==null)return D;var at=[],_t=0;return ht(D,at,"","",function(Ot){return nt.call(ct,Ot,_t++)}),at}function W(D){if(D._status===-1){var nt=D._result;nt=nt(),nt.then(function(ct){(D._status===0||D._status===-1)&&(D._status=1,D._result=ct)},function(ct){(D._status===0||D._status===-1)&&(D._status=2,D._result=ct)}),D._status===-1&&(D._status=0,D._result=nt)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function xt(){}return Dt.Children={map:K,forEach:function(D,nt,ct){K(D,function(){nt.apply(this,arguments)},ct)},count:function(D){var nt=0;return K(D,function(){nt++}),nt},toArray:function(D){return K(D,function(nt){return nt})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Dt.Component=O,Dt.Fragment=e,Dt.Profiler=a,Dt.PureComponent=J,Dt.StrictMode=s,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return st.H.useMemoCache(D)}},Dt.cache=function(D){return function(){return D.apply(null,arguments)}},Dt.cloneElement=function(D,nt,ct){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var at=k({},D.props),_t=D.key,Ot=void 0;if(nt!=null)for(Rt in nt.ref!==void 0&&(Ot=void 0),nt.key!==void 0&&(_t=""+nt.key),nt)!ft.call(nt,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&nt.ref===void 0||(at[Rt]=nt[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=ct;else if(1<Rt){for(var Pe=Array(Rt),ee=0;ee<Rt;ee++)Pe[ee]=arguments[ee+2];at.children=Pe}return M(D.type,_t,void 0,void 0,Ot,at)},Dt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Dt.createElement=function(D,nt,ct){var at,_t={},Ot=null;if(nt!=null)for(at in nt.key!==void 0&&(Ot=""+nt.key),nt)ft.call(nt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=nt[at]);var Rt=arguments.length-2;if(Rt===1)_t.children=ct;else if(1<Rt){for(var Pe=Array(Rt),ee=0;ee<Rt;ee++)Pe[ee]=arguments[ee+2];_t.children=Pe}if(D&&D.defaultProps)for(at in Rt=D.defaultProps,Rt)_t[at]===void 0&&(_t[at]=Rt[at]);return M(D,Ot,void 0,void 0,null,_t)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(D){return{$$typeof:d,render:D}},Dt.isValidElement=x,Dt.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:W}},Dt.memo=function(D,nt){return{$$typeof:g,type:D,compare:nt===void 0?null:nt}},Dt.startTransition=function(D){var nt=st.T,ct={};st.T=ct;try{var at=D(),_t=st.S;_t!==null&&_t(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(xt,ot)}catch(Ot){ot(Ot)}finally{st.T=nt}},Dt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Dt.use=function(D){return st.H.use(D)},Dt.useActionState=function(D,nt,ct){return st.H.useActionState(D,nt,ct)},Dt.useCallback=function(D,nt){return st.H.useCallback(D,nt)},Dt.useContext=function(D){return st.H.useContext(D)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(D,nt){return st.H.useDeferredValue(D,nt)},Dt.useEffect=function(D,nt,ct){var at=st.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(D,nt)},Dt.useId=function(){return st.H.useId()},Dt.useImperativeHandle=function(D,nt,ct){return st.H.useImperativeHandle(D,nt,ct)},Dt.useInsertionEffect=function(D,nt){return st.H.useInsertionEffect(D,nt)},Dt.useLayoutEffect=function(D,nt){return st.H.useLayoutEffect(D,nt)},Dt.useMemo=function(D,nt){return st.H.useMemo(D,nt)},Dt.useOptimistic=function(D,nt){return st.H.useOptimistic(D,nt)},Dt.useReducer=function(D,nt,ct){return st.H.useReducer(D,nt,ct)},Dt.useRef=function(D){return st.H.useRef(D)},Dt.useState=function(D){return st.H.useState(D)},Dt.useSyncExternalStore=function(D,nt,ct){return st.H.useSyncExternalStore(D,nt,ct)},Dt.useTransition=function(){return st.H.useTransition()},Dt.version="19.1.0",Dt}var iT;function hg(){return iT||(iT=1,Um.exports=FC()),Um.exports}var ut=hg(),Bm={exports:{}},nu={},jm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function qC(){return sT||(sT=1,function(n){function t(K,W){var ot=K.length;K.push(W);t:for(;0<ot;){var xt=ot-1>>>1,D=K[xt];if(0<a(D,W))K[xt]=W,K[ot]=D,ot=xt;else break t}}function e(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var W=K[0],ot=K.pop();if(ot!==W){K[0]=ot;t:for(var xt=0,D=K.length,nt=D>>>1;xt<nt;){var ct=2*(xt+1)-1,at=K[ct],_t=ct+1,Ot=K[_t];if(0>a(at,ot))_t<D&&0>a(Ot,at)?(K[xt]=Ot,K[_t]=ot,xt=_t):(K[xt]=at,K[ct]=ot,xt=ct);else if(_t<D&&0>a(Ot,ot))K[xt]=Ot,K[_t]=ot,xt=_t;else break t}}return W}function a(K,W){var ot=K.sortIndex-W.sortIndex;return ot!==0?ot:K.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,E=null,b=3,C=!1,k=!1,H=!1,O=!1,Q=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function rt(K){for(var W=e(g);W!==null;){if(W.callback===null)s(g);else if(W.startTime<=K)s(g),W.sortIndex=W.expirationTime,t(m,W);else break;W=e(g)}}function st(K){if(H=!1,rt(K),!k)if(e(m)!==null)k=!0,ft||(ft=!0,L());else{var W=e(g);W!==null&&ht(st,W.startTime-K)}}var ft=!1,M=-1,w=5,x=-1;function V(){return O?!0:!(n.unstable_now()-x<w)}function P(){if(O=!1,ft){var K=n.unstable_now();x=K;var W=!0;try{t:{k=!1,H&&(H=!1,J(M),M=-1),C=!0;var ot=b;try{e:{for(rt(K),E=e(m);E!==null&&!(E.expirationTime>K&&V());){var xt=E.callback;if(typeof xt=="function"){E.callback=null,b=E.priorityLevel;var D=xt(E.expirationTime<=K);if(K=n.unstable_now(),typeof D=="function"){E.callback=D,rt(K),W=!0;break e}E===e(m)&&s(m),rt(K)}else s(m);E=e(m)}if(E!==null)W=!0;else{var nt=e(g);nt!==null&&ht(st,nt.startTime-K),W=!1}}break t}finally{E=null,b=ot,C=!1}W=void 0}}finally{W?L():ft=!1}}}var L;if(typeof X=="function")L=function(){X(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,pt=R.port2;R.port1.onmessage=P,L=function(){pt.postMessage(null)}}else L=function(){Q(P,0)};function ht(K,W){M=Q(function(){K(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(K){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var ot=b;b=W;try{return K()}finally{b=ot}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ot=b;b=K;try{return W()}finally{b=ot}},n.unstable_scheduleCallback=function(K,W,ot){var xt=n.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?xt+ot:xt):ot=xt,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,K={id:y++,callback:W,priorityLevel:K,startTime:ot,expirationTime:D,sortIndex:-1},ot>xt?(K.sortIndex=ot,t(g,K),e(m)===null&&K===e(g)&&(H?(J(M),M=-1):H=!0,ht(st,ot-xt))):(K.sortIndex=D,t(m,K),k||C||(k=!0,ft||(ft=!0,L()))),K},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(K){var W=b;return function(){var ot=b;b=W;try{return K.apply(this,arguments)}finally{b=ot}}}}(zm)),zm}var rT;function HC(){return rT||(rT=1,jm.exports=qC()),jm.exports}var Fm={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function GC(){if(aT)return Je;aT=1;var n=hg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(m,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,y)},Je.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},Je.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Je.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Je.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:E,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Je.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Je.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Je.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Je.requestFormReset=function(m){s.d.r(m)},Je.unstable_batchedUpdates=function(m,g){return m(g)},Je.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.1.0",Je}var oT;function KC(){if(oT)return Fm.exports;oT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Fm.exports=GC(),Fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function YC(){if(lT)return nu;lT=1;var n=HC(),t=hg(),e=KC();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,l=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),i;if(p===l)return d(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==l.return)o=f,l=p;else{for(var T=!1,A=f.child;A;){if(A===o){T=!0,o=f,l=p;break}if(A===l){T=!0,l=f,o=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===o){T=!0,o=p,l=f;break}if(A===l){T=!0,l=p,o=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),X=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function pt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case O:return"Profiler";case H:return"StrictMode";case st:return"Suspense";case ft:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case X:return(i.displayName||"Context")+".Provider";case J:return(i._context.displayName||"Context")+".Consumer";case rt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return r=i.displayName||null,r!==null?r:pt(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return pt(i(r))}catch{}}return null}var ht=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},xt=[],D=-1;function nt(i){return{current:i}}function ct(i){0>D||(i.current=xt[D],xt[D]=null,D--)}function at(i,r){D++,xt[D]=i.current,i.current=r}var _t=nt(null),Ot=nt(null),Rt=nt(null),Pe=nt(null);function ee(i,r){switch(at(Rt,r),at(Ot,i),at(_t,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?x0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=x0(r),i=I0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(_t),at(_t,i)}function ni(){ct(_t),ct(Ot),ct(Rt)}function ys(i){i.memoizedState!==null&&at(Pe,i);var r=_t.current,o=I0(r,i.type);r!==o&&(at(Ot,i),at(_t,o))}function Oi(i){Ot.current===i&&(ct(_t),ct(Ot)),Pe.current===i&&(ct(Pe),$l._currentValue=ot)}var gr=Object.prototype.hasOwnProperty,yr=n.unstable_scheduleCallback,vr=n.unstable_cancelCallback,Yo=n.unstable_shouldYield,Xu=n.unstable_requestPaint,Cn=n.unstable_now,Lf=n.unstable_getCurrentPriorityLevel,Qo=n.unstable_ImmediatePriority,ya=n.unstable_UserBlockingPriority,_r=n.unstable_NormalPriority,Uf=n.unstable_LowPriority,va=n.unstable_IdlePriority,Xo=n.log,$u=n.unstable_setDisableYieldValue,he=null,Yt=null;function yn(i){if(typeof Xo=="function"&&$u(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(he,i)}catch{}}var We=Math.clz32?Math.clz32:Tr,Wu=Math.log,Bf=Math.LN2;function Tr(i){return i>>>=0,i===0?32:31-(Wu(i)/Bf|0)|0}var Er=256,br=4194304;function Hn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _a(i,r,o){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~p,l!==0?f=Hn(l):(T&=A,T!==0?f=Hn(T):o||(o=A&~i,o!==0&&(f=Hn(o))))):(A=l&~p,A!==0?f=Hn(A):T!==0?f=Hn(T):o||(o=l&~i,o!==0&&(f=Hn(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function Ar(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function $o(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var i=Er;return Er<<=1,(Er&4194048)===0&&(Er=256),i}function Zo(){var i=br;return br<<=1,(br&62914560)===0&&(br=4194304),i}function Ni(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Pi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jo(i,r,o,l,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,I=i.expirationTimes,F=i.hiddenUpdates;for(o=T&~o;0<o;){var $=31-We(o),tt=1<<$;A[$]=0,I[$]=-1;var q=F[$];if(q!==null)for(F[$]=null,$=0;$<q.length;$++){var G=q[$];G!==null&&(G.lane&=-536870913)}o&=~tt}l!==0&&ii(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function ii(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-We(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|o&4194090}function tl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var l=31-We(o),f=1<<l;f&r|i[l]&r&&(i[l]|=r),o&=~f}}function vs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ta(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function _s(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:Q0(i.type))}function Zu(i,r){var o=W.p;try{return W.p=i,r()}finally{W.p=o}}var se=Math.random().toString(36).slice(2),xe="__reactFiber$"+se,Ee="__reactProps$"+se,xn="__reactContainer$"+se,el="__reactEvents$"+se,jf="__reactListeners$"+se,Ts="__reactHandles$"+se,Ju="__reactResources$"+se,Sr="__reactMarker$"+se;function Es(i){delete i[xe],delete i[Ee],delete i[el],delete i[jf],delete i[Ts]}function ki(i){var r=i[xe];if(r)return r;for(var o=i.parentNode;o;){if(r=o[xn]||o[xe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=O0(i);i!==null;){if(o=i[xe])return o;i=O0(i)}return r}i=o,o=i.parentNode}return null}function si(i){if(i=i[xe]||i[xn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ri(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function an(i){var r=i[Ju];return r||(r=i[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pe(i){i[Sr]=!0}var nl=new Set,Ea={};function Gn(i,r){Li(i,r),Li(i+"Capture",r)}function Li(i,r){for(Ea[i]=r,i=0;i<r.length;i++)nl.add(r[i])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ec={},wr={};function nc(i){return gr.call(wr,i)?!0:gr.call(ec,i)?!1:tc.test(i)?wr[i]=!0:(ec[i]=!0,!1)}function bs(i,r,o){if(nc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ai(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Fe(i,r,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+l)}}var Rr,ic;function Ui(i){if(Rr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Rr=r&&r[1]||"",ic=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rr+i+ic}var ba=!1;function Aa(i,r){if(!i||ba)return"";ba=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var q=G}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(G){q=G}i.call(tt.prototype)}}else{try{throw Error()}catch(G){q=G}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var I=T.split(`
`),F=A.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===F.length)for(l=I.length-1,f=F.length-1;1<=l&&0<=f&&I[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==F[f]){var $=`
`+I[l].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=l&&0<=f);break}}}finally{ba=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ui(o):""}function il(i){switch(i.tag){case 26:case 27:case 5:return Ui(i.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return Aa(i.type,!1);case 11:return Aa(i.type.render,!1);case 1:return Aa(i.type,!0);case 31:return Ui("Activity");default:return""}}function Sa(i){try{var r="";do r+=il(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function on(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function sl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zf(i){var r=sl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function wa(i){i._valueTracker||(i._valueTracker=zf(i))}function rl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return i&&(l=sl(i)?i.checked?"true":"false":i.value),i=l,i!==o?(r.setValue(i),!0):!1}function Cr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ff=/[\n"\\]/g;function be(i){return i.replace(Ff,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vn(i,r,o,l,f,p,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+on(r)):i.value!==""+on(r)&&(i.value=""+on(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?As(i,T,on(r)):o!=null?As(i,T,on(o)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+on(A):i.removeAttribute("name")}function xr(i,r,o,l,f,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+on(o):"",r=r!=null?""+on(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function As(i,r,o){r==="number"&&Cr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Bi(i,r,o,l){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&l&&(i[o].defaultSelected=!0)}else{for(o=""+on(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function $t(i,r,o){if(r!=null&&(r=""+on(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+on(o):""}function Ir(i,r,o,l){if(r==null){if(l!=null){if(o!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),r=o}o=on(r),i.defaultValue=o,l=i.textContent,l===o&&l!==""&&l!==null&&(i.value=l)}function In(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Dr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(i,r,o){var l=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,o):typeof o!="number"||o===0||Dr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function al(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&o[f]!==l&&sc(i,f,l)}else for(var p in r)r.hasOwnProperty(p)&&sc(i,p,r[p])}function ol(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(i){return Hf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ji=null;function Dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zi=null,Fi=null;function ll(i){var r=si(i);if(r&&(i=r.stateNode)){var o=i[Ee]||null;t:switch(i=r.stateNode,r.type){case"input":if(vn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+be(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==i&&l.form===i.form){var f=l[Ee]||null;if(!f)throw Error(s(90));vn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)l=o[r],l.form===i.form&&rl(l)}break t;case"textarea":$t(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Bi(i,!!o.multiple,r,!1)}}}var oi=!1;function rc(i,r,o){if(oi)return i(r,o);oi=!0;try{var l=i(r);return l}finally{if(oi=!1,(zi!==null||Fi!==null)&&(Zc(),zi&&(r=zi,i=Fi,Fi=zi=null,ll(r),i)))for(r=0;r<i.length;r++)ll(i[r])}}function Mr(i,r){var o=i.stateNode;if(o===null)return null;var l=o[Ee]||null;if(l===null)return null;o=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Kn)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Mn=!1}var li=null,Ss=null,qi=null;function ul(){if(qi)return qi;var i,r=Ss,o=r.length,l,f="value"in li?li.value:li.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(l=1;l<=T&&r[o-l]===f[p-l];l++);return qi=f.slice(i,1<l?1-l:void 0)}function ui(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ci(){return!0}function cl(){return!1}function ke(i){function r(o,l,f,p,T){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ci:cl,this.isPropagationStopped=cl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=ke(Gt),Or=y({},Gt,{view:0,detail:0}),ac=ke(Or),xa,Ia,hi,Nr=y({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hi&&(hi&&i.type==="mousemove"?(xa=i.screenX-hi.screenX,Ia=i.screenY-hi.screenY):Ia=xa=0,hi=i),xa)},movementY:function(i){return"movementY"in i?i.movementY:Ia}}),Vn=ke(Nr),oc=y({},Nr,{dataTransfer:0}),Gf=ke(oc),Pr=y({},Or,{relatedTarget:0}),Da=ke(Pr),hl=y({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=ke(hl),lc=y({},Gt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Va=ke(lc),Kf=y({},Gt,{data:0}),fl=ke(Kf),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=cc[i])?!!r[i]:!1}function Lr(){return dl}var hc=y({},Or,{key:function(i){if(i.key){var r=kr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ui(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?uc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(i){return i.type==="keypress"?ui(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ui(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Oa=ke(hc),fc=y({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=ke(fc),Hi=y({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),dc=ke(Hi),mc=y({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pc=ke(mc),gc=y({},Nr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=ke(gc),ln=y({},Gt,{newState:0,oldState:0}),yc=ke(ln),vc=[9,13,27,32],fi=Kn&&"CompositionEvent"in window,h=null;Kn&&"documentMode"in document&&(h=document.documentMode);var v=Kn&&"TextEvent"in window&&!h,_=Kn&&(!fi||h&&8<h&&11>=h),S=" ",j=!1;function Y(i,r){switch(i){case"keyup":return vc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bt=!1;function Ie(i,r){switch(i){case"compositionend":return lt(r);case"keypress":return r.which!==32?null:(j=!0,S);case"textInput":return i=r.data,i===S&&j?null:i;default:return null}}function jt(i,r){if(Bt)return i==="compositionend"||!fi&&Y(i,r)?(i=ul(),qi=Ss=li=null,Bt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Le[i.type]:r==="textarea"}function Gi(i,r,o,l){zi?Fi?Fi.push(l):Fi=[l]:zi=l,r=sh(r,"onChange"),0<r.length&&(o=new Ca("onChange","change",null,o,l),i.push({event:o,listeners:r}))}var qe=null,di=null;function pl(i){A0(i,0)}function _c(i){var r=ri(i);if(rl(r))return i}function Hy(i,r){if(i==="change")return r}var Gy=!1;if(Kn){var Yf;if(Kn){var Qf="oninput"in document;if(!Qf){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),Qf=typeof Ky.oninput=="function"}Yf=Qf}else Yf=!1;Gy=Yf&&(!document.documentMode||9<document.documentMode)}function Yy(){qe&&(qe.detachEvent("onpropertychange",Qy),di=qe=null)}function Qy(i){if(i.propertyName==="value"&&_c(di)){var r=[];Gi(r,di,i,Dn(i)),rc(pl,r)}}function gR(i,r,o){i==="focusin"?(Yy(),qe=r,di=o,qe.attachEvent("onpropertychange",Qy)):i==="focusout"&&Yy()}function yR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _c(di)}function vR(i,r){if(i==="click")return _c(r)}function _R(i,r){if(i==="input"||i==="change")return _c(r)}function TR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var _n=typeof Object.is=="function"?Object.is:TR;function gl(i,r){if(_n(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!gr.call(r,f)||!_n(i[f],r[f]))return!1}return!0}function Xy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $y(i,r){var o=Xy(i);i=0;for(var l;o;){if(o.nodeType===3){if(l=i+o.textContent.length,i<=r&&l>=r)return{node:o,offset:r-i};i=l}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Xy(o)}}function Wy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Wy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Zy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Cr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Cr(i.document)}return r}function Xf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ER=Kn&&"documentMode"in document&&11>=document.documentMode,Pa=null,$f=null,yl=null,Wf=!1;function Jy(i,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wf||Pa==null||Pa!==Cr(l)||(l=Pa,"selectionStart"in l&&Xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=sh($f,"onSelect"),0<l.length&&(r=new Ca("onSelect","select",null,r,o),i.push({event:r,listeners:l}),r.target=Pa)))}function Ur(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ka={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Zf={},tv={};Kn&&(tv=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Br(i){if(Zf[i])return Zf[i];if(!ka[i])return i;var r=ka[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in tv)return Zf[i]=r[o];return i}var ev=Br("animationend"),nv=Br("animationiteration"),iv=Br("animationstart"),bR=Br("transitionrun"),AR=Br("transitionstart"),SR=Br("transitioncancel"),sv=Br("transitionend"),rv=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function Yn(i,r){rv.set(i,r),Gn(r,[i])}var av=new WeakMap;function On(i,r){if(typeof i=="object"&&i!==null){var o=av.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Sa(r)},av.set(i,r),r)}return{value:i,source:r,stack:Sa(r)}}var Nn=[],La=0,td=0;function Tc(){for(var i=La,r=td=La=0;r<i;){var o=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var p=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}p!==0&&ov(o,f,p)}}function Ec(i,r,o,l){Nn[La++]=i,Nn[La++]=r,Nn[La++]=o,Nn[La++]=l,td|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function ed(i,r,o,l){return Ec(i,r,o,l),bc(i)}function Ua(i,r){return Ec(i,null,null,r),bc(i)}function ov(i,r,o){i.lanes|=o;var l=i.alternate;l!==null&&(l.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,l=p.alternate,l!==null&&(l.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-We(o),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=o|536870912),p):null}function bc(i){if(50<Fl)throw Fl=0,om=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ba={};function wR(i,r,o,l){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(i,r,o,l){return new wR(i,r,o,l)}function nd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ki(i,r){var o=i.alternate;return o===null?(o=Tn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function lv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ac(i,r,o,l,f,p){var T=0;if(l=i,typeof i=="function")nd(i)&&(T=1);else if(typeof i=="string")T=CC(i,o,_t.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=Tn(31,o,r,f),i.elementType=x,i.lanes=p,i;case k:return jr(o.children,f,p,r);case H:T=8,f|=24;break;case O:return i=Tn(12,o,r,f|2),i.elementType=O,i.lanes=p,i;case st:return i=Tn(13,o,r,f),i.elementType=st,i.lanes=p,i;case ft:return i=Tn(19,o,r,f),i.elementType=ft,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:case X:T=10;break t;case J:T=9;break t;case rt:T=11;break t;case M:T=14;break t;case w:T=16,l=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Tn(T,o,r,f),r.elementType=i,r.type=l,r.lanes=p,r}function jr(i,r,o,l){return i=Tn(7,i,l,r),i.lanes=o,i}function id(i,r,o){return i=Tn(6,i,null,r),i.lanes=o,i}function sd(i,r,o){return r=Tn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var ja=[],za=0,Sc=null,wc=0,Pn=[],kn=0,zr=null,Yi=1,Qi="";function Fr(i,r){ja[za++]=wc,ja[za++]=Sc,Sc=i,wc=r}function uv(i,r,o){Pn[kn++]=Yi,Pn[kn++]=Qi,Pn[kn++]=zr,zr=i;var l=Yi;i=Qi;var f=32-We(l)-1;l&=~(1<<f),o+=1;var p=32-We(r)+f;if(30<p){var T=f-f%5;p=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Yi=1<<32-We(r)+f|o<<f|l,Qi=p+i}else Yi=1<<p|o<<f|l,Qi=i}function rd(i){i.return!==null&&(Fr(i,1),uv(i,1,0))}function ad(i){for(;i===Sc;)Sc=ja[--za],ja[za]=null,wc=ja[--za],ja[za]=null;for(;i===zr;)zr=Pn[--kn],Pn[kn]=null,Qi=Pn[--kn],Pn[kn]=null,Yi=Pn[--kn],Pn[kn]=null}var un=null,fe=null,Ht=!1,qr=null,mi=!1,od=Error(s(519));function Hr(i){var r=Error(s(418,""));throw Tl(On(r,i)),od}function cv(i){var r=i.stateNode,o=i.type,l=i.memoizedProps;switch(r[xe]=i,r[Ee]=l,o){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(o=0;o<Hl.length;o++)kt(Hl[o],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":kt("invalid",r),xr(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),wa(r);break;case"select":kt("invalid",r);break;case"textarea":kt("invalid",r),Ir(r,l.value,l.defaultValue,l.children),wa(r)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||l.suppressHydrationWarning===!0||C0(r.textContent,o)?(l.popover!=null&&(kt("beforetoggle",r),kt("toggle",r)),l.onScroll!=null&&kt("scroll",r),l.onScrollEnd!=null&&kt("scrollend",r),l.onClick!=null&&(r.onclick=rh),r=!0):r=!1,r||Hr(i)}function hv(i){for(un=i.return;un;)switch(un.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:un=un.return}}function vl(i){if(i!==un)return!1;if(!Ht)return hv(i),Ht=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Am(i.type,i.memoizedProps)),o=!o),o&&fe&&Hr(i),hv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){fe=Xn(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}fe=null}}else r===27?(r=fe,js(i.type)?(i=Cm,Cm=null,fe=i):fe=r):fe=un?Xn(i.stateNode.nextSibling):null;return!0}function _l(){fe=un=null,Ht=!1}function fv(){var i=qr;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),qr=null),i}function Tl(i){qr===null?qr=[i]:qr.push(i)}var ld=nt(null),Gr=null,Xi=null;function ws(i,r,o){at(ld,r._currentValue),r._currentValue=o}function $i(i){i._currentValue=ld.current,ct(ld)}function ud(i,r,o){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===o)break;i=i.return}}function cd(i,r,o,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=f;for(var I=0;I<r.length;I++)if(A.context===r[I]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),ud(p.return,o,i),l||(T=null);break t}p=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),ud(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function El(i,r,o,l){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;_n(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===Pe.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push($l):i=[$l])}f=f.return}i!==null&&cd(r,i,o,l),r.flags|=262144}function Rc(i){for(i=i.firstContext;i!==null;){if(!_n(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Kr(i){Gr=i,Xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ze(i){return dv(Gr,i)}function Cc(i,r){return Gr===null&&Kr(i),dv(i,r)}function dv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Xi===null){if(i===null)throw Error(s(308));Xi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Xi=Xi.next=r;return o}var RR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},CR=n.unstable_scheduleCallback,xR=n.unstable_NormalPriority,Me={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new RR,data:new Map,refCount:0}}function bl(i){i.refCount--,i.refCount===0&&CR(xR,function(){i.controller.abort()})}var Al=null,fd=0,Fa=0,qa=null;function IR(i,r){if(Al===null){var o=Al=[];fd=0,Fa=mm(),qa={status:"pending",value:void 0,then:function(l){o.push(l)}}}return fd++,r.then(mv,mv),r}function mv(){if(--fd===0&&Al!==null){qa!==null&&(qa.status="fulfilled");var i=Al;Al=null,Fa=0,qa=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function DR(i,r){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var pv=K.S;K.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&IR(i,r),pv!==null&&pv(i,r)};var Yr=nt(null);function dd(){var i=Yr.current;return i!==null?i:ne.pooledCache}function xc(i,r){r===null?at(Yr,Yr.current):at(Yr,r.pool)}function gv(){var i=dd();return i===null?null:{parent:Me._currentValue,pool:i}}var Sl=Error(s(460)),yv=Error(s(474)),Ic=Error(s(542)),md={then:function(){}};function vv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Dc(){}function _v(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Dc,Dc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ev(i),i;default:if(typeof r.status=="string")r.then(Dc,Dc);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ev(i),i}throw wl=r,Sl}}var wl=null;function Tv(){if(wl===null)throw Error(s(459));var i=wl;return wl=null,i}function Ev(i){if(i===Sl||i===Ic)throw Error(s(483))}var Rs=!1;function pd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Cs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,r,o){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=bc(i),ov(i,null,o),r}return Ec(i,l,r,o),bc(i)}function Rl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,tl(i,o)}}function yd(i,r){var o=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var vd=!1;function Cl(){if(vd){var i=qa;if(i!==null)throw i}}function xl(i,r,o,l){vd=!1;var f=i.updateQueue;Rs=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var I=A,F=I.next;I.next=null,T===null?p=F:T.next=F,T=I;var $=i.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==T&&(A===null?$.firstBaseUpdate=F:A.next=F,$.lastBaseUpdate=I))}if(p!==null){var tt=f.baseState;T=0,$=F=I=null,A=p;do{var q=A.lane&-536870913,G=q!==A.lane;if(G?(zt&q)===q:(l&q)===q){q!==0&&q===Fa&&(vd=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var St=i,Tt=A;q=r;var Jt=o;switch(Tt.tag){case 1:if(St=Tt.payload,typeof St=="function"){tt=St.call(Jt,tt,q);break t}tt=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Tt.payload,q=typeof St=="function"?St.call(Jt,tt,q):St,q==null)break t;tt=y({},tt,q);break t;case 2:Rs=!0}}q=A.callback,q!==null&&(i.flags|=64,G&&(i.flags|=8192),G=f.callbacks,G===null?f.callbacks=[q]:G.push(q))}else G={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(F=$=G,I=tt):$=$.next=G,T|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;G=A,A=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);$===null&&(I=tt),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=$,p===null&&(f.shared.lanes=0),ks|=T,i.lanes=T,i.memoizedState=tt}}function bv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Av(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)bv(o[i],r)}var Ha=nt(null),Mc=nt(0);function Sv(i,r){i=is,at(Mc,i),at(Ha,r),is=i|r.baseLanes}function _d(){at(Mc,is),at(Ha,Ha.current)}function Td(){is=Mc.current,ct(Ha),ct(Mc)}var Is=0,Mt=null,Wt=null,Ae=null,Vc=!1,Ga=!1,Qr=!1,Oc=0,Il=0,Ka=null,MR=0;function ge(){throw Error(s(321))}function Ed(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!_n(i[o],r[o]))return!1;return!0}function bd(i,r,o,l,f,p){return Is=p,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=i===null||i.memoizedState===null?o_:l_,Qr=!1,p=o(l,f),Qr=!1,Ga&&(p=Rv(r,o,l,f)),wv(i),p}function wv(i){K.H=Bc;var r=Wt!==null&&Wt.next!==null;if(Is=0,Ae=Wt=Mt=null,Vc=!1,Il=0,Ka=null,r)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Rc(i)&&(Ue=!0))}function Rv(i,r,o,l){Mt=i;var f=0;do{if(Ga&&(Ka=null),Il=0,Ga=!1,25<=f)throw Error(s(301));if(f+=1,Ae=Wt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=UR,p=r(o,l)}while(Ga);return p}function VR(){var i=K.H,r=i.useState()[0];return r=typeof r.then=="function"?Dl(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Mt.flags|=1024),r}function Ad(){var i=Oc!==0;return Oc=0,i}function Sd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function wd(i){if(Vc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Vc=!1}Is=0,Ae=Wt=Mt=null,Ga=!1,Il=Oc=0,Ka=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Mt.memoizedState=Ae=i:Ae=Ae.next=i,Ae}function Se(){if(Wt===null){var i=Mt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=Ae===null?Mt.memoizedState:Ae.next;if(r!==null)Ae=r,Wt=i;else{if(i===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ae===null?Mt.memoizedState=Ae=i:Ae=Ae.next=i}return Ae}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(i){var r=Il;return Il+=1,Ka===null&&(Ka=[]),i=_v(Ka,i,r),r=Mt,(Ae===null?r.memoizedState:Ae.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?o_:l_),i}function Nc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Dl(i);if(i.$$typeof===X)return Ze(i)}throw Error(s(438,String(i)))}function Cd(i){var r=null,o=Mt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Rd(),Mt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),l=0;l<i;l++)o[l]=V;return r.index++,o}function Wi(i,r){return typeof r=="function"?r(i):r}function Pc(i){var r=Se();return xd(r,Wt,i)}function xd(i,r,o){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var A=T=null,I=null,F=r,$=!1;do{var tt=F.lane&-536870913;if(tt!==F.lane?(zt&tt)===tt:(Is&tt)===tt){var q=F.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),tt===Fa&&($=!0);else if((Is&q)===q){F=F.next,q===Fa&&($=!0);continue}else tt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(A=I=tt,T=p):I=I.next=tt,Mt.lanes|=q,ks|=q;tt=F.action,Qr&&o(p,tt),p=F.hasEagerState?F.eagerState:o(p,tt)}else q={lane:tt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(A=I=q,T=p):I=I.next=q,Mt.lanes|=tt,ks|=tt;F=F.next}while(F!==null&&F!==r);if(I===null?T=p:I.next=A,!_n(p,i.memoizedState)&&(Ue=!0,$&&(o=qa,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=I,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Id(i){var r=Se(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var l=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);_n(p,r.memoizedState)||(Ue=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,l]}function Cv(i,r,o){var l=Mt,f=Se(),p=Ht;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!_n((Wt||f).memoizedState,o);T&&(f.memoizedState=o,Ue=!0),f=f.queue;var A=Dv.bind(null,l,f,i);if(Ml(2048,8,A,[i]),f.getSnapshot!==r||T||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ya(9,kc(),Iv.bind(null,l,f,o,r),null),ne===null)throw Error(s(349));p||(Is&124)!==0||xv(l,r,o)}return o}function xv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Mt.updateQueue,r===null?(r=Rd(),Mt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Iv(i,r,o,l){r.value=o,r.getSnapshot=l,Mv(r)&&Vv(i)}function Dv(i,r,o){return o(function(){Mv(r)&&Vv(i)})}function Mv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!_n(i,o)}catch{return!0}}function Vv(i){var r=Ua(i,2);r!==null&&wn(r,i,2)}function Dd(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),Qr){yn(!0);try{o()}finally{yn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:i},r}function Ov(i,r,o,l){return i.baseState=o,xd(i,Wt,typeof l=="function"?l:Wi)}function OR(i,r,o,l,f){if(Uc(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};K.T!==null?o(!0):p.isTransition=!1,l(p),o=r.pending,o===null?(p.next=r.pending=p,Nv(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Nv(i,r){var o=r.action,l=r.payload,f=i.state;if(r.isTransition){var p=K.T,T={};K.T=T;try{var A=o(f,l),I=K.S;I!==null&&I(T,A),Pv(i,r,A)}catch(F){Md(i,r,F)}finally{K.T=p}}else try{p=o(f,l),Pv(i,r,p)}catch(F){Md(i,r,F)}}function Pv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){kv(i,r,l)},function(l){return Md(i,r,l)}):kv(i,r,o)}function kv(i,r,o){r.status="fulfilled",r.value=o,Lv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Nv(i,o)))}function Md(i,r,o){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=o,Lv(r),r=r.next;while(r!==l)}i.action=null}function Lv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Uv(i,r){return r}function Bv(i,r){if(Ht){var o=ne.formState;if(o!==null){t:{var l=Mt;if(Ht){if(fe){e:{for(var f=fe,p=mi;f.nodeType!==8;){if(!p){f=null;break e}if(f=Xn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){fe=Xn(f.nextSibling),l=f.data==="F!";break t}}Hr(l)}l=!1}l&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uv,lastRenderedState:r},o.queue=l,o=s_.bind(null,Mt,l),l.dispatch=o,l=Dd(!1),p=kd.bind(null,Mt,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,o=OR.bind(null,Mt,f,p,o),f.dispatch=o,l.memoizedState=i,[r,o,!1]}function jv(i){var r=Se();return zv(r,Wt,i)}function zv(i,r,o){if(r=xd(i,r,Uv)[0],i=Pc(Wi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Dl(r)}catch(T){throw T===Sl?Ic:T}else l=r;r=Se();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Mt.flags|=2048,Ya(9,kc(),NR.bind(null,f,o),null)),[l,p,i]}function NR(i,r){i.action=r}function Fv(i){var r=Se(),o=Wt;if(o!==null)return zv(r,o,i);Se(),r=r.memoizedState,o=Se();var l=o.queue.dispatch;return o.memoizedState=i,[r,l,!1]}function Ya(i,r,o,l){return i={tag:i,create:o,deps:l,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=Rd(),Mt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(l=o.next,o.next=i,i.next=l,r.lastEffect=i),i}function kc(){return{destroy:void 0,resource:void 0}}function qv(){return Se().memoizedState}function Lc(i,r,o,l){var f=fn();l=l===void 0?null:l,Mt.flags|=i,f.memoizedState=Ya(1|r,kc(),o,l)}function Ml(i,r,o,l){var f=Se();l=l===void 0?null:l;var p=f.memoizedState.inst;Wt!==null&&l!==null&&Ed(l,Wt.memoizedState.deps)?f.memoizedState=Ya(r,p,o,l):(Mt.flags|=i,f.memoizedState=Ya(1|r,p,o,l))}function Hv(i,r){Lc(8390656,8,i,r)}function Gv(i,r){Ml(2048,8,i,r)}function Kv(i,r){return Ml(4,2,i,r)}function Yv(i,r){return Ml(4,4,i,r)}function Qv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Xv(i,r,o){o=o!=null?o.concat([i]):null,Ml(4,4,Qv.bind(null,r,i),o)}function Vd(){}function $v(i,r){var o=Se();r=r===void 0?null:r;var l=o.memoizedState;return r!==null&&Ed(r,l[1])?l[0]:(o.memoizedState=[i,r],i)}function Wv(i,r){var o=Se();r=r===void 0?null:r;var l=o.memoizedState;if(r!==null&&Ed(r,l[1]))return l[0];if(l=i(),Qr){yn(!0);try{i()}finally{yn(!1)}}return o.memoizedState=[l,r],l}function Od(i,r,o){return o===void 0||(Is&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=t0(),Mt.lanes|=i,ks|=i,o)}function Zv(i,r,o,l){return _n(o,r)?o:Ha.current!==null?(i=Od(i,o,l),_n(i,r)||(Ue=!0),i):(Is&42)===0?(Ue=!0,i.memoizedState=o):(i=t0(),Mt.lanes|=i,ks|=i,r)}function Jv(i,r,o,l,f){var p=W.p;W.p=p!==0&&8>p?p:8;var T=K.T,A={};K.T=A,kd(i,!1,r,o);try{var I=f(),F=K.S;if(F!==null&&F(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=DR(I,l);Vl(i,r,$,Sn(i))}else Vl(i,r,l,Sn(i))}catch(tt){Vl(i,r,{then:function(){},status:"rejected",reason:tt},Sn())}finally{W.p=p,K.T=T}}function PR(){}function Nd(i,r,o,l){if(i.tag!==5)throw Error(s(476));var f=t_(i).queue;Jv(i,f,r,ot,o===null?PR:function(){return e_(i),o(l)})}function t_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ot},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function e_(i){var r=t_(i).next.queue;Vl(i,r,{},Sn())}function Pd(){return Ze($l)}function n_(){return Se().memoizedState}function i_(){return Se().memoizedState}function kR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Sn();i=Cs(o);var l=xs(r,i,o);l!==null&&(wn(l,r,o),Rl(l,r,o)),r={cache:hd()},i.payload=r;return}r=r.return}}function LR(i,r,o){var l=Sn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Uc(i)?r_(r,o):(o=ed(i,r,o,l),o!==null&&(wn(o,i,l),a_(o,r,l)))}function s_(i,r,o){var l=Sn();Vl(i,r,o,l)}function Vl(i,r,o,l){var f={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uc(i))r_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,A=p(T,o);if(f.hasEagerState=!0,f.eagerState=A,_n(A,T))return Ec(i,r,f,0),ne===null&&Tc(),!1}catch{}finally{}if(o=ed(i,r,f,l),o!==null)return wn(o,i,l),a_(o,r,l),!0}return!1}function kd(i,r,o,l){if(l={lane:2,revertLane:mm(),action:l,hasEagerState:!1,eagerState:null,next:null},Uc(i)){if(r)throw Error(s(479))}else r=ed(i,o,l,2),r!==null&&wn(r,i,2)}function Uc(i){var r=i.alternate;return i===Mt||r!==null&&r===Mt}function r_(i,r){Ga=Vc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function a_(i,r,o){if((o&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,tl(i,o)}}var Bc={readContext:Ze,use:Nc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},o_={readContext:Ze,use:Nc,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:Ze,useEffect:Hv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Lc(4194308,4,Qv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Lc(4194308,4,i,r)},useInsertionEffect:function(i,r){Lc(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var l=i();if(Qr){yn(!0);try{i()}finally{yn(!1)}}return o.memoizedState=[l,r],l},useReducer:function(i,r,o){var l=fn();if(o!==void 0){var f=o(r);if(Qr){yn(!0);try{o(r)}finally{yn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=LR.bind(null,Mt,i),[l.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=Dd(i);var r=i.queue,o=s_.bind(null,Mt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Vd,useDeferredValue:function(i,r){var o=fn();return Od(o,i,r)},useTransition:function(){var i=Dd(!1);return i=Jv.bind(null,Mt,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var l=Mt,f=fn();if(Ht){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ne===null)throw Error(s(349));(zt&124)!==0||xv(l,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,Hv(Dv.bind(null,l,p,i),[i]),l.flags|=2048,Ya(9,kc(),Iv.bind(null,l,p,o,r),null),o},useId:function(){var i=fn(),r=ne.identifierPrefix;if(Ht){var o=Qi,l=Yi;o=(l&~(1<<32-We(l)-1)).toString(32)+o,r="«"+r+"R"+o,o=Oc++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=MR++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Pd,useFormState:Bv,useActionState:Bv,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=kd.bind(null,Mt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Cd,useCacheRefresh:function(){return fn().memoizedState=kR.bind(null,Mt)}},l_={readContext:Ze,use:Nc,useCallback:$v,useContext:Ze,useEffect:Gv,useImperativeHandle:Xv,useInsertionEffect:Kv,useLayoutEffect:Yv,useMemo:Wv,useReducer:Pc,useRef:qv,useState:function(){return Pc(Wi)},useDebugValue:Vd,useDeferredValue:function(i,r){var o=Se();return Zv(o,Wt.memoizedState,i,r)},useTransition:function(){var i=Pc(Wi)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Dl(i),r]},useSyncExternalStore:Cv,useId:n_,useHostTransitionStatus:Pd,useFormState:jv,useActionState:jv,useOptimistic:function(i,r){var o=Se();return Ov(o,Wt,i,r)},useMemoCache:Cd,useCacheRefresh:i_},UR={readContext:Ze,use:Nc,useCallback:$v,useContext:Ze,useEffect:Gv,useImperativeHandle:Xv,useInsertionEffect:Kv,useLayoutEffect:Yv,useMemo:Wv,useReducer:Id,useRef:qv,useState:function(){return Id(Wi)},useDebugValue:Vd,useDeferredValue:function(i,r){var o=Se();return Wt===null?Od(o,i,r):Zv(o,Wt.memoizedState,i,r)},useTransition:function(){var i=Id(Wi)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Dl(i),r]},useSyncExternalStore:Cv,useId:n_,useHostTransitionStatus:Pd,useFormState:Fv,useActionState:Fv,useOptimistic:function(i,r){var o=Se();return Wt!==null?Ov(o,Wt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Cd,useCacheRefresh:i_},Qa=null,Ol=0;function jc(i){var r=Ol;return Ol+=1,Qa===null&&(Qa=[]),_v(Qa,i,r)}function Nl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function zc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function u_(i){var r=i._init;return r(i._payload)}function c_(i){function r(U,N){if(i){var z=U.deletions;z===null?(U.deletions=[N],U.flags|=16):z.push(N)}}function o(U,N){if(!i)return null;for(;N!==null;)r(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function f(U,N){return U=Ki(U,N),U.index=0,U.sibling=null,U}function p(U,N,z){return U.index=z,i?(z=U.alternate,z!==null?(z=z.index,z<N?(U.flags|=67108866,N):z):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function T(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function A(U,N,z,Z){return N===null||N.tag!==6?(N=id(z,U.mode,Z),N.return=U,N):(N=f(N,z),N.return=U,N)}function I(U,N,z,Z){var gt=z.type;return gt===k?$(U,N,z.props.children,Z,z.key):N!==null&&(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&u_(gt)===N.type)?(N=f(N,z.props),Nl(N,z),N.return=U,N):(N=Ac(z.type,z.key,z.props,null,U.mode,Z),Nl(N,z),N.return=U,N)}function F(U,N,z,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=sd(z,U.mode,Z),N.return=U,N):(N=f(N,z.children||[]),N.return=U,N)}function $(U,N,z,Z,gt){return N===null||N.tag!==7?(N=jr(z,U.mode,Z,gt),N.return=U,N):(N=f(N,z),N.return=U,N)}function tt(U,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=id(""+N,U.mode,z),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return z=Ac(N.type,N.key,N.props,null,U.mode,z),Nl(z,N),z.return=U,z;case C:return N=sd(N,U.mode,z),N.return=U,N;case w:var Z=N._init;return N=Z(N._payload),tt(U,N,z)}if(ht(N)||L(N))return N=jr(N,U.mode,z,null),N.return=U,N;if(typeof N.then=="function")return tt(U,jc(N),z);if(N.$$typeof===X)return tt(U,Cc(U,N),z);zc(U,N)}return null}function q(U,N,z,Z){var gt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:A(U,N,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===gt?I(U,N,z,Z):null;case C:return z.key===gt?F(U,N,z,Z):null;case w:return gt=z._init,z=gt(z._payload),q(U,N,z,Z)}if(ht(z)||L(z))return gt!==null?null:$(U,N,z,Z,null);if(typeof z.then=="function")return q(U,N,jc(z),Z);if(z.$$typeof===X)return q(U,N,Cc(U,z),Z);zc(U,z)}return null}function G(U,N,z,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,A(N,U,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return U=U.get(Z.key===null?z:Z.key)||null,I(N,U,Z,gt);case C:return U=U.get(Z.key===null?z:Z.key)||null,F(N,U,Z,gt);case w:var Nt=Z._init;return Z=Nt(Z._payload),G(U,N,z,Z,gt)}if(ht(Z)||L(Z))return U=U.get(z)||null,$(N,U,Z,gt,null);if(typeof Z.then=="function")return G(U,N,z,jc(Z),gt);if(Z.$$typeof===X)return G(U,N,z,Cc(N,Z),gt);zc(N,Z)}return null}function St(U,N,z,Z){for(var gt=null,Nt=null,yt=N,Et=N=0,je=null;yt!==null&&Et<z.length;Et++){yt.index>Et?(je=yt,yt=null):je=yt.sibling;var qt=q(U,yt,z[Et],Z);if(qt===null){yt===null&&(yt=je);break}i&&yt&&qt.alternate===null&&r(U,yt),N=p(qt,N,Et),Nt===null?gt=qt:Nt.sibling=qt,Nt=qt,yt=je}if(Et===z.length)return o(U,yt),Ht&&Fr(U,Et),gt;if(yt===null){for(;Et<z.length;Et++)yt=tt(U,z[Et],Z),yt!==null&&(N=p(yt,N,Et),Nt===null?gt=yt:Nt.sibling=yt,Nt=yt);return Ht&&Fr(U,Et),gt}for(yt=l(yt);Et<z.length;Et++)je=G(yt,U,Et,z[Et],Z),je!==null&&(i&&je.alternate!==null&&yt.delete(je.key===null?Et:je.key),N=p(je,N,Et),Nt===null?gt=je:Nt.sibling=je,Nt=je);return i&&yt.forEach(function(Gs){return r(U,Gs)}),Ht&&Fr(U,Et),gt}function Tt(U,N,z,Z){if(z==null)throw Error(s(151));for(var gt=null,Nt=null,yt=N,Et=N=0,je=null,qt=z.next();yt!==null&&!qt.done;Et++,qt=z.next()){yt.index>Et?(je=yt,yt=null):je=yt.sibling;var Gs=q(U,yt,qt.value,Z);if(Gs===null){yt===null&&(yt=je);break}i&&yt&&Gs.alternate===null&&r(U,yt),N=p(Gs,N,Et),Nt===null?gt=Gs:Nt.sibling=Gs,Nt=Gs,yt=je}if(qt.done)return o(U,yt),Ht&&Fr(U,Et),gt;if(yt===null){for(;!qt.done;Et++,qt=z.next())qt=tt(U,qt.value,Z),qt!==null&&(N=p(qt,N,Et),Nt===null?gt=qt:Nt.sibling=qt,Nt=qt);return Ht&&Fr(U,Et),gt}for(yt=l(yt);!qt.done;Et++,qt=z.next())qt=G(yt,U,Et,qt.value,Z),qt!==null&&(i&&qt.alternate!==null&&yt.delete(qt.key===null?Et:qt.key),N=p(qt,N,Et),Nt===null?gt=qt:Nt.sibling=qt,Nt=qt);return i&&yt.forEach(function(BC){return r(U,BC)}),Ht&&Fr(U,Et),gt}function Jt(U,N,z,Z){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:t:{for(var gt=z.key;N!==null;){if(N.key===gt){if(gt=z.type,gt===k){if(N.tag===7){o(U,N.sibling),Z=f(N,z.props.children),Z.return=U,U=Z;break t}}else if(N.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&u_(gt)===N.type){o(U,N.sibling),Z=f(N,z.props),Nl(Z,z),Z.return=U,U=Z;break t}o(U,N);break}else r(U,N);N=N.sibling}z.type===k?(Z=jr(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=Ac(z.type,z.key,z.props,null,U.mode,Z),Nl(Z,z),Z.return=U,U=Z)}return T(U);case C:t:{for(gt=z.key;N!==null;){if(N.key===gt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){o(U,N.sibling),Z=f(N,z.children||[]),Z.return=U,U=Z;break t}else{o(U,N);break}else r(U,N);N=N.sibling}Z=sd(z,U.mode,Z),Z.return=U,U=Z}return T(U);case w:return gt=z._init,z=gt(z._payload),Jt(U,N,z,Z)}if(ht(z))return St(U,N,z,Z);if(L(z)){if(gt=L(z),typeof gt!="function")throw Error(s(150));return z=gt.call(z),Tt(U,N,z,Z)}if(typeof z.then=="function")return Jt(U,N,jc(z),Z);if(z.$$typeof===X)return Jt(U,N,Cc(U,z),Z);zc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(o(U,N.sibling),Z=f(N,z),Z.return=U,U=Z):(o(U,N),Z=id(z,U.mode,Z),Z.return=U,U=Z),T(U)):o(U,N)}return function(U,N,z,Z){try{Ol=0;var gt=Jt(U,N,z,Z);return Qa=null,gt}catch(yt){if(yt===Sl||yt===Ic)throw yt;var Nt=Tn(29,yt,null,U.mode);return Nt.lanes=Z,Nt.return=U,Nt}finally{}}}var Xa=c_(!0),h_=c_(!1),Ln=nt(null),pi=null;function Ds(i){var r=i.alternate;at(Ve,Ve.current&1),at(Ln,i),pi===null&&(r===null||Ha.current!==null||r.memoizedState!==null)&&(pi=i)}function f_(i){if(i.tag===22){if(at(Ve,Ve.current),at(Ln,i),pi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(pi=i)}}else Ms()}function Ms(){at(Ve,Ve.current),at(Ln,Ln.current)}function Zi(i){ct(Ln),pi===i&&(pi=null),ct(Ve)}var Ve=nt(0);function Fc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Rm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ld(i,r,o,l){r=i.memoizedState,o=o(l,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ud={enqueueSetState:function(i,r,o){i=i._reactInternals;var l=Sn(),f=Cs(l);f.payload=r,o!=null&&(f.callback=o),r=xs(i,f,l),r!==null&&(wn(r,i,l),Rl(r,i,l))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var l=Sn(),f=Cs(l);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=xs(i,f,l),r!==null&&(wn(r,i,l),Rl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Sn(),l=Cs(o);l.tag=2,r!=null&&(l.callback=r),r=xs(i,l,o),r!==null&&(wn(r,i,o),Rl(r,i,o))}};function d_(i,r,o,l,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!gl(o,l)||!gl(f,p):!0}function m_(i,r,o,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==i&&Ud.enqueueReplaceState(r,r.state,null)}function Xr(i,r){var o=r;if("ref"in r){o={};for(var l in r)l!=="ref"&&(o[l]=r[l])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var qc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function p_(i){qc(i)}function g_(i){console.error(i)}function y_(i){qc(i)}function Hc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function v_(i,r,o){try{var l=i.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bd(i,r,o){return o=Cs(o),o.tag=3,o.payload={element:null},o.callback=function(){Hc(i,r)},o}function __(i){return i=Cs(i),i.tag=3,i}function T_(i,r,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){v_(r,o,l)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){v_(r,o,l),typeof f!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function BR(i,r,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=o.alternate,r!==null&&El(r,o,f,!0),o=Ln.current,o!==null){switch(o.tag){case 13:return pi===null?um():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===md?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([l]):r.add(l),hm(i,l,f)),!1;case 22:return o.flags|=65536,l===md?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([l]):o.add(l)),hm(i,l,f)),!1}throw Error(s(435,o.tag))}return hm(i,l,f),um(),!1}if(Ht)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==od&&(i=Error(s(422),{cause:l}),Tl(On(i,o)))):(l!==od&&(r=Error(s(423),{cause:l}),Tl(On(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=On(l,o),f=Bd(i.stateNode,l,f),yd(i,f),de!==4&&(de=2)),!1;var p=Error(s(520),{cause:l});if(p=On(p,o),zl===null?zl=[p]:zl.push(p),de!==4&&(de=2),r===null)return!0;l=On(l,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Bd(o.stateNode,l,i),yd(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ls===null||!Ls.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=__(f),T_(f,i,o,l),yd(o,f),!1}o=o.return}while(o!==null);return!1}var E_=Error(s(461)),Ue=!1;function He(i,r,o,l){r.child=i===null?h_(r,null,o,l):Xa(r,i.child,o,l)}function b_(i,r,o,l,f){o=o.render;var p=r.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return Kr(r),l=bd(i,r,o,T,p,f),A=Ad(),i!==null&&!Ue?(Sd(i,r,f),Ji(i,r,f)):(Ht&&A&&rd(r),r.flags|=1,He(i,r,l,f),r.child)}function A_(i,r,o,l,f){if(i===null){var p=o.type;return typeof p=="function"&&!nd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,S_(i,r,p,l,f)):(i=Ac(o.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Yd(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:gl,o(T,l)&&i.ref===r.ref)return Ji(i,r,f)}return r.flags|=1,i=Ki(p,l),i.ref=r.ref,i.return=r,r.child=i}function S_(i,r,o,l,f){if(i!==null){var p=i.memoizedProps;if(gl(p,l)&&i.ref===r.ref)if(Ue=!1,r.pendingProps=l=p,Yd(i,f))(i.flags&131072)!==0&&(Ue=!0);else return r.lanes=i.lanes,Ji(i,r,f)}return jd(i,r,o,l,f)}function w_(i,r,o){var l=r.pendingProps,f=l.children,p=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|o:o,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return R_(i,r,l,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&xc(r,p!==null?p.cachePool:null),p!==null?Sv(r,p):_d(),f_(r);else return r.lanes=r.childLanes=536870912,R_(i,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(xc(r,p.cachePool),Sv(r,p),Ms(),r.memoizedState=null):(i!==null&&xc(r,null),_d(),Ms());return He(i,r,f,o),r.child}function R_(i,r,o,l){var f=dd();return f=f===null?null:{parent:Me._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&xc(r,null),_d(),f_(r),i!==null&&El(i,r,l,!0),null}function Gc(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function jd(i,r,o,l,f){return Kr(r),o=bd(i,r,o,l,void 0,f),l=Ad(),i!==null&&!Ue?(Sd(i,r,f),Ji(i,r,f)):(Ht&&l&&rd(r),r.flags|=1,He(i,r,o,f),r.child)}function C_(i,r,o,l,f,p){return Kr(r),r.updateQueue=null,o=Rv(r,l,o,f),wv(i),l=Ad(),i!==null&&!Ue?(Sd(i,r,p),Ji(i,r,p)):(Ht&&l&&rd(r),r.flags|=1,He(i,r,o,p),r.child)}function x_(i,r,o,l,f){if(Kr(r),r.stateNode===null){var p=Ba,T=o.contextType;typeof T=="object"&&T!==null&&(p=Ze(T)),p=new o(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ud,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},pd(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?Ze(T):Ba,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Ld(r,o,T,l),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Ud.enqueueReplaceState(p,p.state,null),xl(r,l,p,f),Cl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){p=r.stateNode;var A=r.memoizedProps,I=Xr(o,A);p.props=I;var F=p.context,$=o.contextType;T=Ba,typeof $=="object"&&$!==null&&(T=Ze($));var tt=o.getDerivedStateFromProps;$=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||F!==T)&&m_(r,p,l,T),Rs=!1;var q=r.memoizedState;p.state=q,xl(r,l,p,f),Cl(),F=r.memoizedState,A||q!==F||Rs?(typeof tt=="function"&&(Ld(r,o,tt,l),F=r.memoizedState),(I=Rs||d_(r,o,I,l,q,F,T))?($||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),p.props=l,p.state=F,p.context=T,l=I):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,gd(i,r),T=r.memoizedProps,$=Xr(o,T),p.props=$,tt=r.pendingProps,q=p.context,F=o.contextType,I=Ba,typeof F=="object"&&F!==null&&(I=Ze(F)),A=o.getDerivedStateFromProps,(F=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==tt||q!==I)&&m_(r,p,l,I),Rs=!1,q=r.memoizedState,p.state=q,xl(r,l,p,f),Cl();var G=r.memoizedState;T!==tt||q!==G||Rs||i!==null&&i.dependencies!==null&&Rc(i.dependencies)?(typeof A=="function"&&(Ld(r,o,A,l),G=r.memoizedState),($=Rs||d_(r,o,$,l,q,G,I)||i!==null&&i.dependencies!==null&&Rc(i.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,G,I),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,G,I)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),p.props=l,p.state=G,p.context=I,l=$):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),l=!1)}return p=l,Gc(i,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&l?(r.child=Xa(r,i.child,null,f),r.child=Xa(r,null,o,f)):He(i,r,o,f),r.memoizedState=p.state,i=r.child):i=Ji(i,r,f),i}function I_(i,r,o,l){return _l(),r.flags|=256,He(i,r,o,l),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(i){return{baseLanes:i,cachePool:gv()}}function qd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Un),i}function D_(i,r,o){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Ve.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ht){if(f?Ds(r):Ms(),Ht){var A=fe,I;if(I=A){t:{for(I=A,A=mi;I.nodeType!==8;){if(!A){A=null;break t}if(I=Xn(I.nextSibling),I===null){A=null;break t}}A=I}A!==null?(r.memoizedState={dehydrated:A,treeContext:zr!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},I=Tn(18,null,null,0),I.stateNode=A,I.return=r,r.child=I,un=r,fe=null,I=!0):I=!1}I||Hr(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Rm(A)?r.lanes=32:r.lanes=536870912,null;Zi(r)}return A=l.children,l=l.fallback,f?(Ms(),f=r.mode,A=Kc({mode:"hidden",children:A},f),l=jr(l,f,o,null),A.return=r,l.return=r,A.sibling=l,r.child=A,f=r.child,f.memoizedState=Fd(o),f.childLanes=qd(i,T,o),r.memoizedState=zd,l):(Ds(r),Hd(r,A))}if(I=i.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(p)r.flags&256?(Ds(r),r.flags&=-257,r=Gd(i,r,o)):r.memoizedState!==null?(Ms(),r.child=i.child,r.flags|=128,r=null):(Ms(),f=l.fallback,A=r.mode,l=Kc({mode:"visible",children:l.children},A),f=jr(f,A,o,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Xa(r,i.child,null,o),l=r.child,l.memoizedState=Fd(o),l.childLanes=qd(i,T,o),r.memoizedState=zd,r=f);else if(Ds(r),Rm(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(s(419)),l.stack="",l.digest=T,Tl({value:l,source:null,stack:null}),r=Gd(i,r,o)}else if(Ue||El(i,r,o,!1),T=(o&i.childLanes)!==0,Ue||T){if(T=ne,T!==null&&(l=o&-o,l=(l&42)!==0?1:vs(l),l=(l&(T.suspendedLanes|o))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ua(i,l),wn(T,i,l),E_;A.data==="$?"||um(),r=Gd(i,r,o)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=I.treeContext,fe=Xn(A.nextSibling),un=r,Ht=!0,qr=null,mi=!1,i!==null&&(Pn[kn++]=Yi,Pn[kn++]=Qi,Pn[kn++]=zr,Yi=i.id,Qi=i.overflow,zr=r),r=Hd(r,l.children),r.flags|=4096);return r}return f?(Ms(),f=l.fallback,A=r.mode,I=i.child,F=I.sibling,l=Ki(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?f=Ki(F,f):(f=jr(f,A,o,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,A=i.child.memoizedState,A===null?A=Fd(o):(I=A.cachePool,I!==null?(F=Me._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=gv(),A={baseLanes:A.baseLanes|o,cachePool:I}),f.memoizedState=A,f.childLanes=qd(i,T,o),r.memoizedState=zd,l):(Ds(r),o=i.child,i=o.sibling,o=Ki(o,{mode:"visible",children:l.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Hd(i,r){return r=Kc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Kc(i,r){return i=Tn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gd(i,r,o){return Xa(r,i.child,null,o),i=Hd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function M_(i,r,o){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),ud(i.return,r,o)}function Kd(i,r,o,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=o,p.tailMode=f)}function V_(i,r,o){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(He(i,r,l.children,o),l=Ve.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&M_(i,o,r);else if(i.tag===19)M_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(at(Ve,l),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Fc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Kd(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Fc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Kd(r,!0,o,null,p);break;case"together":Kd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ji(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ks|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(El(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ki(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ki(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Yd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Rc(i)))}function jR(i,r,o){switch(r.tag){case 3:ee(r,r.stateNode.containerInfo),ws(r,Me,i.memoizedState.cache),_l();break;case 27:case 5:ys(r);break;case 4:ee(r,r.stateNode.containerInfo);break;case 10:ws(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(r),r.flags|=128,null):(o&r.child.childLanes)!==0?D_(i,r,o):(Ds(r),i=Ji(i,r,o),i!==null?i.sibling:null);Ds(r);break;case 19:var f=(i.flags&128)!==0;if(l=(o&r.childLanes)!==0,l||(El(i,r,o,!1),l=(o&r.childLanes)!==0),f){if(l)return V_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Ve,Ve.current),l)break;return null;case 22:case 23:return r.lanes=0,w_(i,r,o);case 24:ws(r,Me,i.memoizedState.cache)}return Ji(i,r,o)}function O_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ue=!0;else{if(!Yd(i,o)&&(r.flags&128)===0)return Ue=!1,jR(i,r,o);Ue=(i.flags&131072)!==0}else Ue=!1,Ht&&(r.flags&1048576)!==0&&uv(r,wc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")nd(l)?(i=Xr(l,i),r.tag=1,r=x_(null,r,l,i,o)):(r.tag=0,r=jd(null,r,l,i,o));else{if(l!=null){if(f=l.$$typeof,f===rt){r.tag=11,r=b_(null,r,l,i,o);break t}else if(f===M){r.tag=14,r=A_(null,r,l,i,o);break t}}throw r=pt(l)||l,Error(s(306,r,""))}}return r;case 0:return jd(i,r,r.type,r.pendingProps,o);case 1:return l=r.type,f=Xr(l,r.pendingProps),x_(i,r,l,f,o);case 3:t:{if(ee(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,gd(i,r),xl(r,l,null,o);var T=r.memoizedState;if(l=T.cache,ws(r,Me,l),l!==p.cache&&cd(r,[Me],o,!0),Cl(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=I_(i,r,l,o);break t}else if(l!==f){f=On(Error(s(424)),r),Tl(f),r=I_(i,r,l,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Xn(i.firstChild),un=r,Ht=!0,qr=null,mi=!0,o=h_(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(_l(),l===f){r=Ji(i,r,o);break t}He(i,r,l,o)}r=r.child}return r;case 26:return Gc(i,r),i===null?(o=L0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ht||(o=r.type,i=r.pendingProps,l=ah(Rt.current).createElement(o),l[xe]=r,l[Ee]=i,Ke(l,o,i),pe(l),r.stateNode=l):r.memoizedState=L0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ys(r),i===null&&Ht&&(l=r.stateNode=N0(r.type,r.pendingProps,Rt.current),un=r,mi=!0,f=fe,js(r.type)?(Cm=f,fe=Xn(l.firstChild)):fe=f),He(i,r,r.pendingProps.children,o),Gc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ht&&((f=l=fe)&&(l=mC(l,r.type,r.pendingProps,mi),l!==null?(r.stateNode=l,un=r,fe=Xn(l.firstChild),mi=!1,f=!0):f=!1),f||Hr(r)),ys(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,l=p.children,Am(f,p)?l=null:T!==null&&Am(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=bd(i,r,VR,null,null,o),$l._currentValue=f),Gc(i,r),He(i,r,l,o),r.child;case 6:return i===null&&Ht&&((i=o=fe)&&(o=pC(o,r.pendingProps,mi),o!==null?(r.stateNode=o,un=r,fe=null,i=!0):i=!1),i||Hr(r)),null;case 13:return D_(i,r,o);case 4:return ee(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Xa(r,null,l,o):He(i,r,l,o),r.child;case 11:return b_(i,r,r.type,r.pendingProps,o);case 7:return He(i,r,r.pendingProps,o),r.child;case 8:return He(i,r,r.pendingProps.children,o),r.child;case 12:return He(i,r,r.pendingProps.children,o),r.child;case 10:return l=r.pendingProps,ws(r,r.type,l.value),He(i,r,l.children,o),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Kr(r),f=Ze(f),l=l(f),r.flags|=1,He(i,r,l,o),r.child;case 14:return A_(i,r,r.type,r.pendingProps,o);case 15:return S_(i,r,r.type,r.pendingProps,o);case 19:return V_(i,r,o);case 31:return l=r.pendingProps,o=r.mode,l={mode:l.mode,children:l.children},i===null?(o=Kc(l,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Ki(i.child,l),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return w_(i,r,o);case 24:return Kr(r),l=Ze(Me),i===null?(f=dd(),f===null&&(f=ne,p=hd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:l,cache:f},pd(r),ws(r,Me,f)):((i.lanes&o)!==0&&(gd(i,r),xl(r,null,null,o),Cl()),f=i.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ws(r,Me,l)):(l=p.cache,ws(r,Me,l),l!==f.cache&&cd(r,[Me],o,!0))),He(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ts(i){i.flags|=4}function N_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!F0(r)){if(r=Ln.current,r!==null&&((zt&4194048)===zt?pi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||r!==pi))throw wl=md,yv;i.flags|=8192}}function Yc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Zo():536870912,i.lanes|=r,Ja|=r)}function Pl(i,r){if(!Ht)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,l=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=o,r}function zR(i,r,o){var l=r.pendingProps;switch(ad(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(Me),ni(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(vl(r)?ts(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,fv())),oe(r),null;case 26:return o=r.memoizedState,i===null?(ts(r),o!==null?(oe(r),N_(r,o)):(oe(r),r.flags&=-16777217)):o?o!==i.memoizedState?(ts(r),oe(r),N_(r,o)):(oe(r),r.flags&=-16777217):(i.memoizedProps!==l&&ts(r),oe(r),r.flags&=-16777217),null;case 27:Oi(r),o=Rt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ts(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=_t.current,vl(r)?cv(r):(i=N0(f,l,o),r.stateNode=i,ts(r))}return oe(r),null;case 5:if(Oi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ts(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(i=_t.current,vl(r))cv(r);else{switch(f=ah(Rt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(o,{is:l.is}):f.createElement(o)}}i[xe]=r,i[Ee]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ke(i,o,l),o){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ts(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&ts(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Rt.current,vl(r)){if(i=r.stateNode,o=r.memoizedProps,l=null,f=un,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[xe]=r,i=!!(i.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||C0(i.nodeValue,o)),i||Hr(r)}else i=ah(i).createTextNode(l),i[xe]=r,r.stateNode=i}return oe(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=vl(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xe]=r}else _l(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=fv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Zi(r),r):(Zi(r),null)}if(Zi(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=l!==null,i=i!==null&&i.memoizedState!==null,o){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Yc(r,r.updateQueue),oe(r),null;case 4:return ni(),i===null&&vm(r.stateNode.containerInfo),oe(r),null;case 10:return $i(r.type),oe(r),null;case 19:if(ct(Ve),f=r.memoizedState,f===null)return oe(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)Pl(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=Fc(i),p!==null){for(r.flags|=128,Pl(f,!1),i=p.updateQueue,r.updateQueue=i,Yc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)lv(o,i),o=o.sibling;return at(Ve,Ve.current&1|2),r.child}i=i.sibling}f.tail!==null&&Cn()>$c&&(r.flags|=128,l=!0,Pl(f,!1),r.lanes=4194304)}else{if(!l)if(i=Fc(p),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,Yc(r,i),Pl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ht)return oe(r),null}else 2*Cn()-f.renderingStartTime>$c&&o!==536870912&&(r.flags|=128,l=!0,Pl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Cn(),r.sibling=null,i=Ve.current,at(Ve,l?i&1|2:i&1),r):(oe(r),null);case 22:case 23:return Zi(r),Td(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&Yc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==o&&(r.flags|=2048),i!==null&&ct(Yr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),$i(Me),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function FR(i,r){switch(ad(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return $i(Me),ni(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Oi(r),null;case 13:if(Zi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));_l()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ct(Ve),null;case 4:return ni(),null;case 10:return $i(r.type),null;case 22:case 23:return Zi(r),Td(),i!==null&&ct(Yr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return $i(Me),null;case 25:return null;default:return null}}function P_(i,r){switch(ad(r),r.tag){case 3:$i(Me),ni();break;case 26:case 27:case 5:Oi(r);break;case 4:ni();break;case 13:Zi(r);break;case 19:ct(Ve);break;case 10:$i(r.type);break;case 22:case 23:Zi(r),Td(),i!==null&&ct(Yr);break;case 24:$i(Me)}}function kl(i,r){try{var o=r.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&i)===i){l=void 0;var p=o.create,T=o.inst;l=p(),T.destroy=l}o=o.next}while(o!==f)}}catch(A){te(r,r.return,A)}}function Vs(i,r,o){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=r;var I=o,F=A;try{F()}catch($){te(f,I,$)}}}l=l.next}while(l!==p)}}catch($){te(r,r.return,$)}}function k_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Av(r,o)}catch(l){te(i,i.return,l)}}}function L_(i,r,o){o.props=Xr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(l){te(i,r,l)}}function Ll(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof o=="function"?i.refCleanup=o(l):o.current=l}}catch(f){te(i,r,f)}}function gi(i,r){var o=i.ref,l=i.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){te(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){te(i,r,f)}else o.current=null}function U_(i){var r=i.type,o=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break t;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){te(i,i.return,f)}}function Qd(i,r,o){try{var l=i.stateNode;uC(l,i.type,o,r),l[Ee]=r}catch(f){te(i,i.return,f)}}function B_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&js(i.type)||i.tag===4}function Xd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||B_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&js(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $d(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=rh));else if(l!==4&&(l===27&&js(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for($d(i,r,o),i=i.sibling;i!==null;)$d(i,r,o),i=i.sibling}function Qc(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(l!==4&&(l===27&&js(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Qc(i,r,o),i=i.sibling;i!==null;)Qc(i,r,o),i=i.sibling}function j_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ke(r,l,o),r[xe]=i,r[Ee]=o}catch(p){te(i,i.return,p)}}var es=!1,ye=!1,Wd=!1,z_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function qR(i,r){if(i=i.containerInfo,Em=fh,i=Zy(i),Xf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,A=-1,I=-1,F=0,$=0,tt=i,q=null;e:for(;;){for(var G;tt!==o||f!==0&&tt.nodeType!==3||(A=T+f),tt!==p||l!==0&&tt.nodeType!==3||(I=T+l),tt.nodeType===3&&(T+=tt.nodeValue.length),(G=tt.firstChild)!==null;)q=tt,tt=G;for(;;){if(tt===i)break e;if(q===o&&++F===f&&(A=T),q===p&&++$===l&&(I=T),(G=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=G}o=A===-1||I===-1?null:{start:A,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(bm={focusedElem:i,selectionRange:o},fh=!1,Be=r;Be!==null;)if(r=Be,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Be=i;else for(;Be!==null;){switch(r=Be,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,l=o.stateNode;try{var St=Xr(o.type,f,o.elementType===o.type);i=l.getSnapshotBeforeUpdate(St,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){te(o,o.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)wm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":wm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Be=i;break}Be=r.return}}function F_(i,r,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Os(i,o),l&4&&kl(5,o);break;case 1:if(Os(i,o),l&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){te(o,o.return,T)}else{var f=Xr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){te(o,o.return,T)}}l&64&&k_(o),l&512&&Ll(o,o.return);break;case 3:if(Os(i,o),l&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Av(i,r)}catch(T){te(o,o.return,T)}}break;case 27:r===null&&l&4&&j_(o);case 26:case 5:Os(i,o),r===null&&l&4&&U_(o),l&512&&Ll(o,o.return);break;case 12:Os(i,o);break;case 13:Os(i,o),l&4&&G_(i,o),l&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=ZR.bind(null,o),gC(i,o))));break;case 22:if(l=o.memoizedState!==null||es,!l){r=r!==null&&r.memoizedState!==null||ye,f=es;var p=ye;es=l,(ye=r)&&!p?Ns(i,o,(o.subtreeFlags&8772)!==0):Os(i,o),es=f,ye=p}break;case 30:break;default:Os(i,o)}}function q_(i){var r=i.alternate;r!==null&&(i.alternate=null,q_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Es(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,dn=!1;function ns(i,r,o){for(o=o.child;o!==null;)H_(i,r,o),o=o.sibling}function H_(i,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:ye||gi(o,r),ns(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||gi(o,r);var l=re,f=dn;js(o.type)&&(re=o.stateNode,dn=!1),ns(i,r,o),Kl(o.stateNode),re=l,dn=f;break;case 5:ye||gi(o,r);case 6:if(l=re,f=dn,re=null,ns(i,r,o),re=l,dn=f,re!==null)if(dn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(p){te(o,r,p)}else try{re.removeChild(o.stateNode)}catch(p){te(o,r,p)}break;case 18:re!==null&&(dn?(i=re,V0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),tu(i)):V0(re,o.stateNode));break;case 4:l=re,f=dn,re=o.stateNode.containerInfo,dn=!0,ns(i,r,o),re=l,dn=f;break;case 0:case 11:case 14:case 15:ye||Vs(2,o,r),ye||Vs(4,o,r),ns(i,r,o);break;case 1:ye||(gi(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"&&L_(o,r,l)),ns(i,r,o);break;case 21:ns(i,r,o);break;case 22:ye=(l=ye)||o.memoizedState!==null,ns(i,r,o),ye=l;break;default:ns(i,r,o)}}function G_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tu(i)}catch(o){te(r,r.return,o)}}function HR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new z_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new z_),r;default:throw Error(s(435,i.tag))}}function Zd(i,r){var o=HR(i);r.forEach(function(l){var f=JR.bind(null,i,l);o.has(l)||(o.add(l),l.then(f,f))})}function En(i,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],p=i,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(js(A.type)){re=A.stateNode,dn=!1;break t}break;case 5:re=A.stateNode,dn=!1;break t;case 3:case 4:re=A.stateNode.containerInfo,dn=!0;break t}A=A.return}if(re===null)throw Error(s(160));H_(p,T,f),re=null,dn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)K_(r,i),r=r.sibling}var Qn=null;function K_(i,r){var o=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(r,i),bn(i),l&4&&(Vs(3,i,i.return),kl(3,i),Vs(5,i,i.return));break;case 1:En(r,i),bn(i),l&512&&(ye||o===null||gi(o,o.return)),l&64&&es&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=Qn;if(En(r,i),bn(i),l&512&&(ye||o===null||gi(o,o.return)),l&4){var p=o!==null?o.memoizedState:null;if(l=i.memoizedState,o===null)if(l===null)if(i.stateNode===null){t:{l=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Sr]||p[xe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Ke(p,l,o),p[xe]=i,pe(p),l=p;break t;case"link":var T=j0("link","href",f).get(l+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}p=f.createElement(l),Ke(p,l,o),f.head.appendChild(p);break;case"meta":if(T=j0("meta","content",f).get(l+(o.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}p=f.createElement(l),Ke(p,l,o),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[xe]=i,pe(p),l=p}i.stateNode=l}else z0(f,i.type,i.stateNode);else i.stateNode=B0(f,l,i.memoizedProps);else p!==l?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,l===null?z0(f,i.type,i.stateNode):B0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Qd(i,i.memoizedProps,o.memoizedProps)}break;case 27:En(r,i),bn(i),l&512&&(ye||o===null||gi(o,o.return)),o!==null&&l&4&&Qd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(En(r,i),bn(i),l&512&&(ye||o===null||gi(o,o.return)),i.flags&32){f=i.stateNode;try{In(f,"")}catch(G){te(i,i.return,G)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Qd(i,f,o!==null?o.memoizedProps:f)),l&1024&&(Wd=!0);break;case 6:if(En(r,i),bn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,o=i.stateNode;try{o.nodeValue=l}catch(G){te(i,i.return,G)}}break;case 3:if(uh=null,f=Qn,Qn=oh(r.containerInfo),En(r,i),Qn=f,bn(i),l&4&&o!==null&&o.memoizedState.isDehydrated)try{tu(r.containerInfo)}catch(G){te(i,i.return,G)}Wd&&(Wd=!1,Y_(i));break;case 4:l=Qn,Qn=oh(i.stateNode.containerInfo),En(r,i),bn(i),Qn=l;break;case 12:En(r,i),bn(i);break;case 13:En(r,i),bn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(sm=Cn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zd(i,l)));break;case 22:f=i.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,F=es,$=ye;if(es=F||f,ye=$||I,En(r,i),ye=$,es=F,bn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||I||es||ye||$r(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(p=I.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=I.stateNode;var tt=I.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){te(I,I.return,G)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(G){te(I,I.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,Zd(i,o))));break;case 19:En(r,i),bn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zd(i,l)));break;case 30:break;case 21:break;default:En(r,i),bn(i)}}function bn(i){var r=i.flags;if(r&2){try{for(var o,l=i.return;l!==null;){if(B_(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Xd(i);Qc(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(In(T,""),o.flags&=-33);var A=Xd(i);Qc(i,A,T);break;case 3:case 4:var I=o.stateNode.containerInfo,F=Xd(i);$d(i,F,I);break;default:throw Error(s(161))}}catch($){te(i,i.return,$)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Y_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Y_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Os(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)F_(i,r.alternate,r),r=r.sibling}function $r(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Vs(4,r,r.return),$r(r);break;case 1:gi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&L_(r,r.return,o),$r(r);break;case 27:Kl(r.stateNode);case 26:case 5:gi(r,r.return),$r(r);break;case 22:r.memoizedState===null&&$r(r);break;case 30:$r(r);break;default:$r(r)}i=i.sibling}}function Ns(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Ns(f,p,o),kl(4,p);break;case 1:if(Ns(f,p,o),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){te(l,l.return,F)}if(l=p,f=l.updateQueue,f!==null){var A=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)bv(I[f],A)}catch(F){te(l,l.return,F)}}o&&T&64&&k_(p),Ll(p,p.return);break;case 27:j_(p);case 26:case 5:Ns(f,p,o),o&&l===null&&T&4&&U_(p),Ll(p,p.return);break;case 12:Ns(f,p,o);break;case 13:Ns(f,p,o),o&&T&4&&G_(f,p);break;case 22:p.memoizedState===null&&Ns(f,p,o),Ll(p,p.return);break;case 30:break;default:Ns(f,p,o)}r=r.sibling}}function Jd(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&bl(o))}function tm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bl(i))}function yi(i,r,o,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Q_(i,r,o,l),r=r.sibling}function Q_(i,r,o,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:yi(i,r,o,l),f&2048&&kl(9,r);break;case 1:yi(i,r,o,l);break;case 3:yi(i,r,o,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bl(i)));break;case 12:if(f&2048){yi(i,r,o,l),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){te(r,r.return,I)}}else yi(i,r,o,l);break;case 13:yi(i,r,o,l);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?yi(i,r,o,l):Ul(i,r):p._visibility&2?yi(i,r,o,l):(p._visibility|=2,$a(i,r,o,l,(r.subtreeFlags&10256)!==0)),f&2048&&Jd(T,r);break;case 24:yi(i,r,o,l),f&2048&&tm(r.alternate,r);break;default:yi(i,r,o,l)}}function $a(i,r,o,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,T=r,A=o,I=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:$a(p,T,A,I,f),kl(8,T);break;case 23:break;case 22:var $=T.stateNode;T.memoizedState!==null?$._visibility&2?$a(p,T,A,I,f):Ul(p,T):($._visibility|=2,$a(p,T,A,I,f)),f&&F&2048&&Jd(T.alternate,T);break;case 24:$a(p,T,A,I,f),f&&F&2048&&tm(T.alternate,T);break;default:$a(p,T,A,I,f)}r=r.sibling}}function Ul(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,l=r,f=l.flags;switch(l.tag){case 22:Ul(o,l),f&2048&&Jd(l.alternate,l);break;case 24:Ul(o,l),f&2048&&tm(l.alternate,l);break;default:Ul(o,l)}r=r.sibling}}var Bl=8192;function Wa(i){if(i.subtreeFlags&Bl)for(i=i.child;i!==null;)X_(i),i=i.sibling}function X_(i){switch(i.tag){case 26:Wa(i),i.flags&Bl&&i.memoizedState!==null&&IC(Qn,i.memoizedState,i.memoizedProps);break;case 5:Wa(i);break;case 3:case 4:var r=Qn;Qn=oh(i.stateNode.containerInfo),Wa(i),Qn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Bl,Bl=16777216,Wa(i),Bl=r):Wa(i));break;default:Wa(i)}}function $_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function jl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];Be=l,Z_(l,i)}$_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W_(i),i=i.sibling}function W_(i){switch(i.tag){case 0:case 11:case 15:jl(i),i.flags&2048&&Vs(9,i,i.return);break;case 3:jl(i);break;case 12:jl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Xc(i)):jl(i);break;default:jl(i)}}function Xc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];Be=l,Z_(l,i)}$_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Vs(8,r,r.return),Xc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Xc(r));break;default:Xc(r)}i=i.sibling}}function Z_(i,r){for(;Be!==null;){var o=Be;switch(o.tag){case 0:case 11:case 15:Vs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Be=l;else t:for(o=i;Be!==null;){l=Be;var f=l.sibling,p=l.return;if(q_(l),l===o){Be=null;break t}if(f!==null){f.return=p,Be=f;break t}Be=p}}}var GR={getCacheForType:function(i){var r=Ze(Me),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},KR=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,Pt=null,zt=0,Xt=0,An=null,Ps=!1,Za=!1,em=!1,is=0,de=0,ks=0,Wr=0,nm=0,Un=0,Ja=0,zl=null,mn=null,im=!1,sm=0,$c=1/0,Wc=null,Ls=null,Ge=0,Us=null,to=null,eo=0,rm=0,am=null,J_=null,Fl=0,om=null;function Sn(){if((Qt&2)!==0&&zt!==0)return zt&-zt;if(K.T!==null){var i=Fa;return i!==0?i:mm()}return _s()}function t0(){Un===0&&(Un=(zt&536870912)===0||Ht?Wo():536870912);var i=Ln.current;return i!==null&&(i.flags|=32),Un}function wn(i,r,o){(i===ne&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(no(i,0),Bs(i,zt,Un,!1)),Pi(i,o),((Qt&2)===0||i!==ne)&&(i===ne&&((Qt&2)===0&&(Wr|=o),de===4&&Bs(i,zt,Un,!1)),vi(i))}function e0(i,r,o){if((Qt&6)!==0)throw Error(s(327));var l=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Ar(i,r),f=l?XR(i,r):cm(i,r,!0),p=l;do{if(f===0){Za&&!l&&Bs(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!YR(o)){f=cm(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=i;f=zl;var I=A.current.memoizedState.isDehydrated;if(I&&(no(A,T).flags|=256),T=cm(A,T,!1),T!==2){if(em&&!I){A.errorRecoveryDisabledLanes|=p,Wr|=p,f=4;break t}p=mn,mn=f,p!==null&&(mn===null?mn=p:mn.push.apply(mn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){no(i,0),Bs(i,r,0,!0);break}t:{switch(l=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Bs(l,r,Un,!Ps);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=sm+300-Cn(),10<f)){if(Bs(l,r,Un,!Ps),_a(l,0,!0)!==0)break t;l.timeoutHandle=D0(n0.bind(null,l,o,mn,Wc,im,r,Un,Wr,Ja,Ps,p,2,-0,0),f);break t}n0(l,o,mn,Wc,im,r,Un,Wr,Ja,Ps,p,0,-0,0)}}break}while(!0);vi(i)}function n0(i,r,o,l,f,p,T,A,I,F,$,tt,q,G){if(i.timeoutHandle=-1,tt=r.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:xC},X_(r),tt=DC(),tt!==null)){i.cancelPendingCommit=tt(u0.bind(null,i,r,p,o,l,f,T,A,I,$,1,q,G)),Bs(i,p,T,!F);return}u0(i,r,p,o,l,f,T,A,I)}function YR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],p=f.getSnapshot;f=f.value;try{if(!_n(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Bs(i,r,o,l){r&=~nm,r&=~Wr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var p=31-We(f),T=1<<p;l[p]=-1,f&=~T}o!==0&&ii(i,o,r)}function Zc(){return(Qt&6)===0?(ql(0),!1):!0}function lm(){if(Pt!==null){if(Xt===0)var i=Pt.return;else i=Pt,Xi=Gr=null,wd(i),Qa=null,Ol=0,i=Pt;for(;i!==null;)P_(i.alternate,i),i=i.return;Pt=null}}function no(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,hC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),lm(),ne=i,Pt=o=Ki(i.current,null),zt=r,Xt=0,An=null,Ps=!1,Za=Ar(i,r),em=!1,Ja=Un=nm=Wr=ks=de=0,mn=zl=null,im=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-We(l),p=1<<f;r|=i[f],l&=~p}return is=r,Tc(),o}function i0(i,r){Mt=null,K.H=Bc,r===Sl||r===Ic?(r=Tv(),Xt=3):r===yv?(r=Tv(),Xt=4):Xt=r===E_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Pt===null&&(de=1,Hc(i,On(r,i.current)))}function s0(){var i=K.H;return K.H=Bc,i===null?Bc:i}function r0(){var i=K.A;return K.A=GR,i}function um(){de=4,Ps||(zt&4194048)!==zt&&Ln.current!==null||(Za=!0),(ks&134217727)===0&&(Wr&134217727)===0||ne===null||Bs(ne,zt,Un,!1)}function cm(i,r,o){var l=Qt;Qt|=2;var f=s0(),p=r0();(ne!==i||zt!==r)&&(Wc=null,no(i,r)),r=!1;var T=de;t:do try{if(Xt!==0&&Pt!==null){var A=Pt,I=An;switch(Xt){case 8:lm(),T=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var F=Xt;if(Xt=0,An=null,io(i,A,I,F),o&&Za){T=0;break t}break;default:F=Xt,Xt=0,An=null,io(i,A,I,F)}}QR(),T=de;break}catch($){i0(i,$)}while(!0);return r&&i.shellSuspendCounter++,Xi=Gr=null,Qt=l,K.H=f,K.A=p,Pt===null&&(ne=null,zt=0,Tc()),T}function QR(){for(;Pt!==null;)a0(Pt)}function XR(i,r){var o=Qt;Qt|=2;var l=s0(),f=r0();ne!==i||zt!==r?(Wc=null,$c=Cn()+500,no(i,r)):Za=Ar(i,r);t:do try{if(Xt!==0&&Pt!==null){r=Pt;var p=An;e:switch(Xt){case 1:Xt=0,An=null,io(i,r,p,1);break;case 2:case 9:if(vv(p)){Xt=0,An=null,o0(r);break}r=function(){Xt!==2&&Xt!==9||ne!==i||(Xt=7),vi(i)},p.then(r,r);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:vv(p)?(Xt=0,An=null,o0(r)):(Xt=0,An=null,io(i,r,p,7));break;case 5:var T=null;switch(Pt.tag){case 26:T=Pt.memoizedState;case 5:case 27:var A=Pt;if(!T||F0(T)){Xt=0,An=null;var I=A.sibling;if(I!==null)Pt=I;else{var F=A.return;F!==null?(Pt=F,Jc(F)):Pt=null}break e}}Xt=0,An=null,io(i,r,p,5);break;case 6:Xt=0,An=null,io(i,r,p,6);break;case 8:lm(),de=6;break t;default:throw Error(s(462))}}$R();break}catch($){i0(i,$)}while(!0);return Xi=Gr=null,K.H=l,K.A=f,Qt=o,Pt!==null?0:(ne=null,zt=0,Tc(),de)}function $R(){for(;Pt!==null&&!Yo();)a0(Pt)}function a0(i){var r=O_(i.alternate,i,is);i.memoizedProps=i.pendingProps,r===null?Jc(i):Pt=r}function o0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=C_(o,r,r.pendingProps,r.type,void 0,zt);break;case 11:r=C_(o,r,r.pendingProps,r.type.render,r.ref,zt);break;case 5:wd(r);default:P_(o,r),r=Pt=lv(r,is),r=O_(o,r,is)}i.memoizedProps=i.pendingProps,r===null?Jc(i):Pt=r}function io(i,r,o,l){Xi=Gr=null,wd(r),Qa=null,Ol=0;var f=r.return;try{if(BR(i,f,r,o,zt)){de=1,Hc(i,On(o,i.current)),Pt=null;return}}catch(p){if(f!==null)throw Pt=f,p;de=1,Hc(i,On(o,i.current)),Pt=null;return}r.flags&32768?(Ht||l===1?i=!0:Za||(zt&536870912)!==0?i=!1:(Ps=i=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),l0(r,i)):Jc(r)}function Jc(i){var r=i;do{if((r.flags&32768)!==0){l0(r,Ps);return}i=r.return;var o=zR(r.alternate,r,is);if(o!==null){Pt=o;return}if(r=r.sibling,r!==null){Pt=r;return}Pt=r=i}while(r!==null);de===0&&(de=5)}function l0(i,r){do{var o=FR(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);de=6,Pt=null}function u0(i,r,o,l,f,p,T,A,I){i.cancelPendingCommit=null;do th();while(Ge!==0);if((Qt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=td,Jo(i,o,p,T,A,I),i===ne&&(Pt=ne=null,zt=0),to=r,Us=i,eo=o,rm=p,am=f,J_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,tC(_r,function(){return m0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=W.p,W.p=2,T=Qt,Qt|=4;try{qR(i,r,o)}finally{Qt=T,W.p=f,K.T=l}}Ge=1,c0(),h0(),f0()}}function c0(){if(Ge===1){Ge=0;var i=Us,r=to,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var l=W.p;W.p=2;var f=Qt;Qt|=4;try{K_(r,i);var p=bm,T=Zy(i.containerInfo),A=p.focusedElem,I=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&Wy(A.ownerDocument.documentElement,A)){if(I!==null&&Xf(A)){var F=I.start,$=I.end;if($===void 0&&($=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min($,A.value.length);else{var tt=A.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var G=q.getSelection(),St=A.textContent.length,Tt=Math.min(I.start,St),Jt=I.end===void 0?Tt:Math.min(I.end,St);!G.extend&&Tt>Jt&&(T=Jt,Jt=Tt,Tt=T);var U=$y(A,Tt),N=$y(A,Jt);if(U&&N&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var z=tt.createRange();z.setStart(U.node,U.offset),G.removeAllRanges(),Tt>Jt?(G.addRange(z),G.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),G.addRange(z))}}}}for(tt=[],G=A;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var Z=tt[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}fh=!!Em,bm=Em=null}finally{Qt=f,W.p=l,K.T=o}}i.current=r,Ge=2}}function h0(){if(Ge===2){Ge=0;var i=Us,r=to,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var l=W.p;W.p=2;var f=Qt;Qt|=4;try{F_(i,r.alternate,r)}finally{Qt=f,W.p=l,K.T=o}}Ge=3}}function f0(){if(Ge===4||Ge===3){Ge=0,Xu();var i=Us,r=to,o=eo,l=J_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ge=5:(Ge=0,to=Us=null,d0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ls=null),Ta(o),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=W.p,W.p=2,K.T=null;try{for(var p=i.onRecoverableError,T=0;T<l.length;T++){var A=l[T];p(A.value,{componentStack:A.stack})}}finally{K.T=r,W.p=f}}(eo&3)!==0&&th(),vi(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===om?Fl++:(Fl=0,om=i):Fl=0,ql(0)}}function d0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,bl(r)))}function th(i){return c0(),h0(),f0(),m0()}function m0(){if(Ge!==5)return!1;var i=Us,r=rm;rm=0;var o=Ta(eo),l=K.T,f=W.p;try{W.p=32>o?32:o,K.T=null,o=am,am=null;var p=Us,T=eo;if(Ge=0,to=Us=null,eo=0,(Qt&6)!==0)throw Error(s(331));var A=Qt;if(Qt|=4,W_(p.current),Q_(p,p.current,T,o),Qt=A,ql(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(he,p)}catch{}return!0}finally{W.p=f,K.T=l,d0(i,r)}}function p0(i,r,o){r=On(o,r),r=Bd(i.stateNode,r,2),i=xs(i,r,2),i!==null&&(Pi(i,2),vi(i))}function te(i,r,o){if(i.tag===3)p0(i,i,o);else for(;r!==null;){if(r.tag===3){p0(r,i,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ls===null||!Ls.has(l))){i=On(o,i),o=__(2),l=xs(r,o,2),l!==null&&(T_(o,l,r,i),Pi(l,2),vi(l));break}}r=r.return}}function hm(i,r,o){var l=i.pingCache;if(l===null){l=i.pingCache=new KR;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(em=!0,f.add(o),i=WR.bind(null,i,r,o),r.then(i,i))}function WR(i,r,o){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(zt&o)===o&&(de===4||de===3&&(zt&62914560)===zt&&300>Cn()-sm?(Qt&2)===0&&no(i,0):nm|=o,Ja===zt&&(Ja=0)),vi(i)}function g0(i,r){r===0&&(r=Zo()),i=Ua(i,r),i!==null&&(Pi(i,r),vi(i))}function ZR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),g0(i,o)}function JR(i,r){var o=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),g0(i,o)}function tC(i,r){return yr(i,r)}var eh=null,so=null,fm=!1,nh=!1,dm=!1,Zr=0;function vi(i){i!==so&&i.next===null&&(so===null?eh=so=i:so=so.next=i),nh=!0,fm||(fm=!0,nC())}function ql(i,r){if(!dm&&nh){dm=!0;do for(var o=!1,l=eh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var T=l.suspendedLanes,A=l.pingedLanes;p=(1<<31-We(42|i)+1)-1,p&=f&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,T0(l,p))}else p=zt,p=_a(l,l===ne?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ar(l,p)||(o=!0,T0(l,p));l=l.next}while(o);dm=!1}}function eC(){y0()}function y0(){nh=fm=!1;var i=0;Zr!==0&&(cC()&&(i=Zr),Zr=0);for(var r=Cn(),o=null,l=eh;l!==null;){var f=l.next,p=v0(l,r);p===0?(l.next=null,o===null?eh=f:o.next=f,f===null&&(so=o)):(o=l,(i!==0||(p&3)!==0)&&(nh=!0)),l=f}ql(i)}function v0(i,r){for(var o=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-We(p),A=1<<T,I=f[T];I===-1?((A&o)===0||(A&l)!==0)&&(f[T]=$o(A,r)):I<=r&&(i.expiredLanes|=A),p&=~A}if(r=ne,o=zt,o=_a(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,o===0||i===r&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ar(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(l!==null&&vr(l),Ta(o)){case 2:case 8:o=ya;break;case 32:o=_r;break;case 268435456:o=va;break;default:o=_r}return l=_0.bind(null,i),o=yr(o,l),i.callbackPriority=r,i.callbackNode=o,r}return l!==null&&l!==null&&vr(l),i.callbackPriority=2,i.callbackNode=null,2}function _0(i,r){if(Ge!==0&&Ge!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(th()&&i.callbackNode!==o)return null;var l=zt;return l=_a(i,i===ne?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(e0(i,l,r),v0(i,Cn()),i.callbackNode!=null&&i.callbackNode===o?_0.bind(null,i):null)}function T0(i,r){if(th())return null;e0(i,r,!0)}function nC(){fC(function(){(Qt&6)!==0?yr(Qo,eC):y0()})}function mm(){return Zr===0&&(Zr=Wo()),Zr}function E0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ra(""+i)}function b0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function iC(i,r,o,l,f){if(r==="submit"&&o&&o.stateNode===f){var p=E0((f[Ee]||null).action),T=l.submitter;T&&(r=(r=T[Ee]||null)?E0(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var A=new Ca("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var I=T?b0(f,T):new FormData(f);Nd(o,{pending:!0,data:I,method:f.method,action:p},null,I)}}else typeof p=="function"&&(A.preventDefault(),I=T?b0(f,T):new FormData(f),Nd(o,{pending:!0,data:I,method:f.method,action:p},p,I))},currentTarget:f}]})}}for(var pm=0;pm<Jf.length;pm++){var gm=Jf[pm],sC=gm.toLowerCase(),rC=gm[0].toUpperCase()+gm.slice(1);Yn(sC,"on"+rC)}Yn(ev,"onAnimationEnd"),Yn(nv,"onAnimationIteration"),Yn(iv,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(bR,"onTransitionRun"),Yn(AR,"onTransitionStart"),Yn(SR,"onTransitionCancel"),Yn(sv,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function A0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var l=i[o],f=l.event;l=l.listeners;t:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var A=l[T],I=A.instance,F=A.currentTarget;if(A=A.listener,I!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=F;try{p(f)}catch($){qc($)}f.currentTarget=null,p=I}else for(T=0;T<l.length;T++){if(A=l[T],I=A.instance,F=A.currentTarget,A=A.listener,I!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=F;try{p(f)}catch($){qc($)}f.currentTarget=null,p=I}}}}function kt(i,r){var o=r[el];o===void 0&&(o=r[el]=new Set);var l=i+"__bubble";o.has(l)||(S0(r,i,2,!1),o.add(l))}function ym(i,r,o){var l=0;r&&(l|=4),S0(o,i,l,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function vm(i){if(!i[ih]){i[ih]=!0,nl.forEach(function(o){o!=="selectionchange"&&(aC.has(o)||ym(o,!1,i),ym(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ih]||(r[ih]=!0,ym("selectionchange",!1,r))}}function S0(i,r,o,l){switch(Q0(r)){case 2:var f=OC;break;case 8:f=NC;break;default:f=Vm}o=f.bind(null,r,o,i),f=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function _m(i,r,o,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=ki(A),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){l=p=T;continue t}A=A.parentNode}}l=l.return}rc(function(){var F=p,$=Dn(o),tt=[];t:{var q=rv.get(i);if(q!==void 0){var G=Ca,St=i;switch(i){case"keypress":if(ui(o)===0)break t;case"keydown":case"keyup":G=Oa;break;case"focusin":St="focus",G=Da;break;case"focusout":St="blur",G=Da;break;case"beforeblur":case"afterblur":G=Da;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=dc;break;case ev:case nv:case iv:G=Ma;break;case sv:G=pc;break;case"scroll":case"scrollend":G=ac;break;case"wheel":G=Na;break;case"copy":case"cut":case"paste":G=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ml;break;case"toggle":case"beforetoggle":G=yc}var Tt=(r&4)!==0,Jt=!Tt&&(i==="scroll"||i==="scrollend"),U=Tt?q!==null?q+"Capture":null:q;Tt=[];for(var N=F,z;N!==null;){var Z=N;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=Mr(N,U),Z!=null&&Tt.push(Gl(N,Z,z))),Jt)break;N=N.return}0<Tt.length&&(q=new G(q,St,null,o,$),tt.push({event:q,listeners:Tt}))}}if((r&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",q&&o!==ji&&(St=o.relatedTarget||o.fromElement)&&(ki(St)||St[xn]))break t;if((G||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,G?(St=o.relatedTarget||o.toElement,G=F,St=St?ki(St):null,St!==null&&(Jt=u(St),Tt=St.tag,St!==Jt||Tt!==5&&Tt!==27&&Tt!==6)&&(St=null)):(G=null,St=F),G!==St)){if(Tt=Vn,Z="onMouseLeave",U="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=ml,Z="onPointerLeave",U="onPointerEnter",N="pointer"),Jt=G==null?q:ri(G),z=St==null?q:ri(St),q=new Tt(Z,N+"leave",G,o,$),q.target=Jt,q.relatedTarget=z,Z=null,ki($)===F&&(Tt=new Tt(U,N+"enter",St,o,$),Tt.target=z,Tt.relatedTarget=Jt,Z=Tt),Jt=Z,G&&St)e:{for(Tt=G,U=St,N=0,z=Tt;z;z=ro(z))N++;for(z=0,Z=U;Z;Z=ro(Z))z++;for(;0<N-z;)Tt=ro(Tt),N--;for(;0<z-N;)U=ro(U),z--;for(;N--;){if(Tt===U||U!==null&&Tt===U.alternate)break e;Tt=ro(Tt),U=ro(U)}Tt=null}else Tt=null;G!==null&&w0(tt,q,G,Tt,!1),St!==null&&Jt!==null&&w0(tt,Jt,St,Tt,!0)}}t:{if(q=F?ri(F):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var gt=Hy;else if(De(q))if(Gy)gt=_R;else{gt=yR;var Nt=gR}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&ol(F.elementType)&&(gt=Hy):gt=vR;if(gt&&(gt=gt(i,F))){Gi(tt,gt,o,$);break t}Nt&&Nt(i,q,F),i==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&As(q,"number",q.value)}switch(Nt=F?ri(F):window,i){case"focusin":(De(Nt)||Nt.contentEditable==="true")&&(Pa=Nt,$f=F,yl=null);break;case"focusout":yl=$f=Pa=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Jy(tt,o,$);break;case"selectionchange":if(ER)break;case"keydown":case"keyup":Jy(tt,o,$)}var yt;if(fi)t:{switch(i){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Bt?Y(i,o)&&(Et="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Et="onCompositionStart");Et&&(_&&o.locale!=="ko"&&(Bt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Bt&&(yt=ul()):(li=$,Ss="value"in li?li.value:li.textContent,Bt=!0)),Nt=sh(F,Et),0<Nt.length&&(Et=new fl(Et,i,null,o,$),tt.push({event:Et,listeners:Nt}),yt?Et.data=yt:(yt=lt(o),yt!==null&&(Et.data=yt)))),(yt=v?Ie(i,o):jt(i,o))&&(Et=sh(F,"onBeforeInput"),0<Et.length&&(Nt=new fl("onBeforeInput","beforeinput",null,o,$),tt.push({event:Nt,listeners:Et}),Nt.data=yt)),iC(tt,i,F,o,$)}A0(tt,r)})}function Gl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function sh(i,r){for(var o=r+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Mr(i,o),f!=null&&l.unshift(Gl(i,f,p)),f=Mr(i,r),f!=null&&l.push(Gl(i,f,p))),i.tag===3)return l;i=i.return}return[]}function ro(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function w0(i,r,o,l,f){for(var p=r._reactName,T=[];o!==null&&o!==l;){var A=o,I=A.alternate,F=A.stateNode;if(A=A.tag,I!==null&&I===l)break;A!==5&&A!==26&&A!==27||F===null||(I=F,f?(F=Mr(o,p),F!=null&&T.unshift(Gl(o,F,I))):f||(F=Mr(o,p),F!=null&&T.push(Gl(o,F,I)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var oC=/\r\n?/g,lC=/\u0000|\uFFFD/g;function R0(i){return(typeof i=="string"?i:""+i).replace(oC,`
`).replace(lC,"")}function C0(i,r){return r=R0(r),R0(i)===r}function rh(){}function Zt(i,r,o,l,f,p){switch(o){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(i,""+l);break;case"className":ai(i,"class",l);break;case"tabIndex":ai(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(i,o,l);break;case"style":al(i,l,p);break;case"data":if(r!=="object"){ai(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=Ra(""+l),i.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=Ra(""+l),i.setAttribute(o,l);break;case"onClick":l!=null&&(i.onclick=rh);break;case"onScroll":l!=null&&kt("scroll",i);break;case"onScrollEnd":l!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}o=Ra(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""+l):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":l===!0?i.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,l):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(o,l):i.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(o):i.setAttribute(o,l);break;case"popover":kt("beforetoggle",i),kt("toggle",i),bs(i,"popover",l);break;case"xlinkActuate":Fe(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bs(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qf.get(o)||o,bs(i,o,l))}}function Tm(i,r,o,l,f,p){switch(o){case"style":al(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof l=="string"?In(i,l):(typeof l=="number"||typeof l=="bigint")&&In(i,""+l);break;case"onScroll":l!=null&&kt("scroll",i);break;case"onScrollEnd":l!=null&&kt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Ee]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,l,f);break t}o in i?i[o]=l:l===!0?i.setAttribute(o,""):bs(i,o,l)}}}function Ke(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var l=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,p,T,o,null)}}f&&Zt(i,r,"srcSet",o.srcSet,o,null),l&&Zt(i,r,"src",o.src,o,null);return;case"input":kt("invalid",i);var A=p=T=f=null,I=null,F=null;for(l in o)if(o.hasOwnProperty(l)){var $=o[l];if($!=null)switch(l){case"name":f=$;break;case"type":T=$;break;case"checked":I=$;break;case"defaultChecked":F=$;break;case"value":p=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Zt(i,r,l,$,o,null)}}xr(i,p,A,I,F,T,f,!1),wa(i);return;case"select":kt("invalid",i),l=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:Zt(i,r,f,A,o,null)}r=p,o=T,i.multiple=!!l,r!=null?Bi(i,!!l,r,!1):o!=null&&Bi(i,!!l,o,!0);return;case"textarea":kt("invalid",i),p=f=l=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Zt(i,r,T,A,o,null)}Ir(i,l,f,p),wa(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(l=o[I],l!=null))switch(I){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(i,r,I,l,o,null)}return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(l=0;l<Hl.length;l++)kt(Hl[l],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(l=o[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,F,l,o,null)}return;default:if(ol(r)){for($ in o)o.hasOwnProperty($)&&(l=o[$],l!==void 0&&Tm(i,r,$,l,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(l=o[A],l!=null&&Zt(i,r,A,l,o,null))}function uC(i,r,o,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,A=null,I=null,F=null,$=null;for(G in o){var tt=o[G];if(o.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=tt;default:l.hasOwnProperty(G)||Zt(i,r,G,null,l,tt)}}for(var q in l){var G=l[q];if(tt=o[q],l.hasOwnProperty(q)&&(G!=null||tt!=null))switch(q){case"type":p=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":$=G;break;case"value":T=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==tt&&Zt(i,r,q,G,l,tt)}}vn(i,T,A,I,F,$,p,f);return;case"select":G=T=A=q=null;for(p in o)if(I=o[p],o.hasOwnProperty(p)&&I!=null)switch(p){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(p)||Zt(i,r,p,null,l,I)}for(f in l)if(p=l[f],I=o[f],l.hasOwnProperty(f)&&(p!=null||I!=null))switch(f){case"value":q=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==I&&Zt(i,r,f,p,l,I)}r=A,o=T,l=G,q!=null?Bi(i,!!o,q,!1):!!l!=!!o&&(r!=null?Bi(i,!!o,r,!0):Bi(i,!!o,o?[]:"",!1));return;case"textarea":G=q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,r,A,null,l,f)}for(T in l)if(f=l[T],p=o[T],l.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":q=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Zt(i,r,T,f,l,p)}$t(i,q,G);return;case"option":for(var St in o)if(q=o[St],o.hasOwnProperty(St)&&q!=null&&!l.hasOwnProperty(St))switch(St){case"selected":i.selected=!1;break;default:Zt(i,r,St,null,l,q)}for(I in l)if(q=l[I],G=o[I],l.hasOwnProperty(I)&&q!==G&&(q!=null||G!=null))switch(I){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Zt(i,r,I,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)q=o[Tt],o.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt)&&Zt(i,r,Tt,null,l,q);for(F in l)if(q=l[F],G=o[F],l.hasOwnProperty(F)&&q!==G&&(q!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Zt(i,r,F,q,l,G)}return;default:if(ol(r)){for(var Jt in o)q=o[Jt],o.hasOwnProperty(Jt)&&q!==void 0&&!l.hasOwnProperty(Jt)&&Tm(i,r,Jt,void 0,l,q);for($ in l)q=l[$],G=o[$],!l.hasOwnProperty($)||q===G||q===void 0&&G===void 0||Tm(i,r,$,q,l,G);return}}for(var U in o)q=o[U],o.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Zt(i,r,U,null,l,q);for(tt in l)q=l[tt],G=o[tt],!l.hasOwnProperty(tt)||q===G||q==null&&G==null||Zt(i,r,tt,q,l,G)}var Em=null,bm=null;function ah(i){return i.nodeType===9?i:i.ownerDocument}function x0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Am(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sm=null;function cC(){var i=window.event;return i&&i.type==="popstate"?i===Sm?!1:(Sm=i,!0):(Sm=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,hC=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(i){return M0.resolve(null).then(i).catch(dC)}:D0;function dC(i){setTimeout(function(){throw i})}function js(i){return i==="head"}function V0(i,r){var o=r,l=0,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<l&&8>l){o=l;var T=i.ownerDocument;if(o&1&&Kl(T.documentElement),o&2&&Kl(T.body),o&4)for(o=T.head,Kl(o),T=o.firstChild;T;){var A=T.nextSibling,I=T.nodeName;T[Sr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=A}}if(f===0){i.removeChild(p),tu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:l=o.charCodeAt(0)-48;else l=0;o=p}while(o);tu(r)}function wm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wm(o),Es(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function mC(i,r,o,l){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Sr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Xn(i.nextSibling),i===null)break}return null}function pC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Xn(i.nextSibling),i===null))return null;return i}function Rm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function gC(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var l=function(){r(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Xn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Cm=null;function O0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function N0(i,r,o){switch(r=ah(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Kl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Es(i)}var Bn=new Map,P0=new Set;function oh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ss=W.d;W.d={f:yC,r:vC,D:_C,C:TC,L:EC,m:bC,X:SC,S:AC,M:wC};function yC(){var i=ss.f(),r=Zc();return i||r}function vC(i){var r=si(i);r!==null&&r.tag===5&&r.type==="form"?e_(r):ss.r(i)}var ao=typeof document>"u"?null:document;function k0(i,r,o){var l=ao;if(l&&typeof r=="string"&&r){var f=be(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),P0.has(f)||(P0.add(f),i={rel:i,crossOrigin:o,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ke(r,"link",i),pe(r),l.head.appendChild(r)))}}function _C(i){ss.D(i),k0("dns-prefetch",i,null)}function TC(i,r){ss.C(i,r),k0("preconnect",i,r)}function EC(i,r,o){ss.L(i,r,o);var l=ao;if(l&&i&&r){var f='link[rel="preload"][as="'+be(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+be(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+be(o.imageSizes)+'"]')):f+='[href="'+be(i)+'"]';var p=f;switch(r){case"style":p=oo(i);break;case"script":p=lo(i)}Bn.has(p)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Bn.set(p,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Yl(p))||r==="script"&&l.querySelector(Ql(p))||(r=l.createElement("link"),Ke(r,"link",i),pe(r),l.head.appendChild(r)))}}function bC(i,r){ss.m(i,r);var o=ao;if(o&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+be(l)+'"][href="'+be(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=lo(i)}if(!Bn.has(p)&&(i=y({rel:"modulepreload",href:i},r),Bn.set(p,i),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ql(p)))return}l=o.createElement("link"),Ke(l,"link",i),pe(l),o.head.appendChild(l)}}}function AC(i,r,o){ss.S(i,r,o);var l=ao;if(l&&i){var f=an(l).hoistableStyles,p=oo(i);r=r||"default";var T=f.get(p);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(Yl(p)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Bn.get(p))&&xm(i,o);var I=T=l.createElement("link");pe(I),Ke(I,"link",i),I._p=new Promise(function(F,$){I.onload=F,I.onerror=$}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,lh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(p,T)}}}function SC(i,r){ss.X(i,r);var o=ao;if(o&&i){var l=an(o).hoistableScripts,f=lo(i),p=l.get(f);p||(p=o.querySelector(Ql(f)),p||(i=y({src:i,async:!0},r),(r=Bn.get(f))&&Im(i,r),p=o.createElement("script"),pe(p),Ke(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function wC(i,r){ss.M(i,r);var o=ao;if(o&&i){var l=an(o).hoistableScripts,f=lo(i),p=l.get(f);p||(p=o.querySelector(Ql(f)),p||(i=y({src:i,async:!0,type:"module"},r),(r=Bn.get(f))&&Im(i,r),p=o.createElement("script"),pe(p),Ke(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function L0(i,r,o,l){var f=(f=Rt.current)?oh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=oo(o.href),o=an(f).hoistableStyles,l=o.get(r),l||(l={type:"style",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=oo(o.href);var p=an(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(Yl(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Bn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bn.set(i,o),p||RC(f,i,o,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=lo(o),o=an(f).hoistableScripts,l=o.get(r),l||(l={type:"script",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function oo(i){return'href="'+be(i)+'"'}function Yl(i){return'link[rel="stylesheet"]['+i+"]"}function U0(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function RC(i,r,o,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ke(r,"link",o),pe(r),i.head.appendChild(r))}function lo(i){return'[src="'+be(i)+'"]'}function Ql(i){return"script[async]"+i}function B0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+be(o.href)+'"]');if(l)return r.instance=l,pe(l),l;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),pe(l),Ke(l,"style",f),lh(l,o.precedence,i),r.instance=l;case"stylesheet":f=oo(o.href);var p=i.querySelector(Yl(f));if(p)return r.state.loading|=4,r.instance=p,pe(p),p;l=U0(o),(f=Bn.get(f))&&xm(l,f),p=(i.ownerDocument||i).createElement("link"),pe(p);var T=p;return T._p=new Promise(function(A,I){T.onload=A,T.onerror=I}),Ke(p,"link",l),r.state.loading|=4,lh(p,o.precedence,i),r.instance=p;case"script":return p=lo(o.src),(f=i.querySelector(Ql(p)))?(r.instance=f,pe(f),f):(l=o,(f=Bn.get(p))&&(l=y({},o),Im(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ke(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,lh(l,o.precedence,i));return r.instance}function lh(i,r,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===r)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function xm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Im(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var uh=null;function j0(i,r,o){if(uh===null){var l=new Map,f=uh=new Map;f.set(o,l)}else f=uh,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(i))return l;for(l.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Sr]||p[xe]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var A=l.get(T);A?A.push(p):l.set(T,[p])}}return l}function z0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function CC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function F0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Xl=null;function xC(){}function IC(i,r,o){if(Xl===null)throw Error(s(475));var l=Xl;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=oo(o.href),p=i.querySelector(Yl(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=ch.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=p,pe(p);return}p=i.ownerDocument||i,o=U0(o),(f=Bn.get(f))&&xm(o,f),p=p.createElement("link"),pe(p);var T=p;T._p=new Promise(function(A,I){T.onload=A,T.onerror=I}),Ke(p,"link",o),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=ch.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function DC(){if(Xl===null)throw Error(s(475));var i=Xl;return i.stylesheets&&i.count===0&&Dm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Dm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function ch(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hh=null;function Dm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hh=new Map,r.forEach(MC,i),hh=null,ch.call(i))}function MC(i,r){if(!(r.state.loading&4)){var o=hh.get(i);if(o)var l=o.get(null);else{o=new Map,hh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),l=T)}l&&o.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||l,p===l&&o.set(null,f),o.set(T,f),this.count++,l=ch.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var $l={$$typeof:X,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function VC(i,r,o,l,f,p,T,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function q0(i,r,o,l,f,p,T,A,I,F,$,tt){return i=new VC(i,r,o,T,A,I,F,tt),r=1,p===!0&&(r|=24),p=Tn(3,null,null,r),i.current=p,p.stateNode=i,r=hd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:o,cache:r},pd(p),i}function H0(i){return i?(i=Ba,i):Ba}function G0(i,r,o,l,f,p){f=H0(f),l.context===null?l.context=f:l.pendingContext=f,l=Cs(r),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=xs(i,l,r),o!==null&&(wn(o,i,r),Rl(o,i,r))}function K0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Mm(i,r){K0(i,r),(i=i.alternate)&&K0(i,r)}function Y0(i){if(i.tag===13){var r=Ua(i,67108864);r!==null&&wn(r,i,67108864),Mm(i,67108864)}}var fh=!0;function OC(i,r,o,l){var f=K.T;K.T=null;var p=W.p;try{W.p=2,Vm(i,r,o,l)}finally{W.p=p,K.T=f}}function NC(i,r,o,l){var f=K.T;K.T=null;var p=W.p;try{W.p=8,Vm(i,r,o,l)}finally{W.p=p,K.T=f}}function Vm(i,r,o,l){if(fh){var f=Om(l);if(f===null)_m(i,r,l,dh,o),X0(i,l);else if(kC(f,i,r,o,l))l.stopPropagation();else if(X0(i,l),r&4&&-1<PC.indexOf(i)){for(;f!==null;){var p=si(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Hn(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var I=1<<31-We(T);A.entanglements[1]|=I,T&=~I}vi(p),(Qt&6)===0&&($c=Cn()+500,ql(0))}}break;case 13:A=Ua(p,2),A!==null&&wn(A,p,2),Zc(),Mm(p,2)}if(p=Om(l),p===null&&_m(i,r,l,dh,o),p===f)break;f=p}f!==null&&l.stopPropagation()}else _m(i,r,l,null,o)}}function Om(i){return i=Dn(i),Nm(i)}var dh=null;function Nm(i){if(dh=null,i=ki(i),i!==null){var r=u(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return dh=i,null}function Q0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lf()){case Qo:return 2;case ya:return 8;case _r:case Uf:return 32;case va:return 268435456;default:return 32}default:return 32}}var Pm=!1,zs=null,Fs=null,qs=null,Wl=new Map,Zl=new Map,Hs=[],PC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X0(i,r){switch(i){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Wl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(r.pointerId)}}function Jl(i,r,o,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=si(r),r!==null&&Y0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function kC(i,r,o,l,f){switch(r){case"focusin":return zs=Jl(zs,i,r,o,l,f),!0;case"dragenter":return Fs=Jl(Fs,i,r,o,l,f),!0;case"mouseover":return qs=Jl(qs,i,r,o,l,f),!0;case"pointerover":var p=f.pointerId;return Wl.set(p,Jl(Wl.get(p)||null,i,r,o,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Zl.set(p,Jl(Zl.get(p)||null,i,r,o,l,f)),!0}return!1}function $0(i){var r=ki(i.target);if(r!==null){var o=u(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Zu(i.priority,function(){if(o.tag===13){var l=Sn();l=vs(l);var f=Ua(o,l);f!==null&&wn(f,o,l),Mm(o,l)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Om(i.nativeEvent);if(o===null){o=i.nativeEvent;var l=new o.constructor(o.type,o);ji=l,o.target.dispatchEvent(l),ji=null}else return r=si(o),r!==null&&Y0(r),i.blockedOn=o,!1;r.shift()}return!0}function W0(i,r,o){mh(i)&&o.delete(r)}function LC(){Pm=!1,zs!==null&&mh(zs)&&(zs=null),Fs!==null&&mh(Fs)&&(Fs=null),qs!==null&&mh(qs)&&(qs=null),Wl.forEach(W0),Zl.forEach(W0)}function ph(i,r){i.blockedOn===r&&(i.blockedOn=null,Pm||(Pm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,LC)))}var gh=null;function Z0(i){gh!==i&&(gh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gh===i&&(gh=null);for(var r=0;r<i.length;r+=3){var o=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(Nm(l||o)===null)continue;break}var p=si(o);p!==null&&(i.splice(r,3),r-=3,Nd(p,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function tu(i){function r(I){return ph(I,i)}zs!==null&&ph(zs,i),Fs!==null&&ph(Fs,i),qs!==null&&ph(qs,i),Wl.forEach(r),Zl.forEach(r);for(var o=0;o<Hs.length;o++){var l=Hs[o];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Hs.length&&(o=Hs[0],o.blockedOn===null);)$0(o),o.blockedOn===null&&Hs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],p=o[l+1],T=f[Ee]||null;if(typeof p=="function")T||Z0(o);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Ee]||null)A=T.formAction;else if(Nm(f)!==null)continue}else A=T.action;typeof A=="function"?o[l+1]=A:(o.splice(l,3),l-=3),Z0(o)}}}function km(i){this._internalRoot=i}yh.prototype.render=km.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,l=Sn();G0(o,l,i,r,null,null)},yh.prototype.unmount=km.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;G0(i.current,2,null,i,null,null),Zc(),r[xn]=null}};function yh(i){this._internalRoot=i}yh.prototype.unstable_scheduleHydration=function(i){if(i){var r=_s();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Hs.length&&r!==0&&r<Hs[o].priority;o++);Hs.splice(o,0,i),o===0&&$0(i)}};var J0=t.version;if(J0!=="19.1.0")throw Error(s(527,J0,"19.1.0"));W.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var UC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{he=vh.inject(UC),Yt=vh}catch{}}return nu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,l="",f=p_,p=g_,T=y_,A=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=q0(i,1,!1,null,null,o,l,f,p,T,A,null),i[xn]=r.current,vm(i),new km(r)},nu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var l=!1,f="",p=p_,T=g_,A=y_,I=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),r=q0(i,1,!0,r,o??null,l,f,p,T,A,I,F),r.context=H0(null),o=r.current,l=Sn(),l=vs(l),f=Cs(l),f.callback=null,xs(o,f,l),o=l,r.current.lanes=o,Pi(r,o),vi(r),i[xn]=r.current,vm(i),new yh(r)},nu.version="19.1.0",nu}var uT;function QC(){if(uT)return Bm.exports;uT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Bm.exports=YC(),Bm.exports}var XC=QC();const $C=()=>{};var cT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},WC=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[e++];t[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[e++],c=n[e++],d=n[e++],m=((a&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|c&63)}}return t.join("")},lA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const u=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,y=u>>2,E=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,C=g&63;m||(C=64,c||(b=64)),s.push(e[y],e[E],e[b],e[C])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(oA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):WC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const u=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const E=a<n.length?e[n.charAt(a)]:64;if(++a,u==null||d==null||g==null||E==null)throw new ZC;const b=u<<2|d>>4;if(s.push(b),g!==64){const C=d<<4&240|g>>2;if(s.push(C),E!==64){const k=g<<6&192|E;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JC=function(n){const t=oA(n);return lA.encodeByteArray(t,!0)},qh=function(n){return JC(n).replace(/\./g,"")},uA=function(n){try{return lA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=()=>tx().__FIREBASE_DEFAULTS__,nx=()=>{if(typeof process>"u"||typeof cT>"u")return;const n=cT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ix=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&uA(n[1]);return t&&JSON.parse(t)},pf=()=>{try{return $C()||ex()||nx()||ix()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cA=n=>{var t,e;return(e=(t=pf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},hA=n=>{const t=cA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},fA=()=>{var n;return(n=pf())===null||n===void 0?void 0:n.config},dA=n=>{var t;return(t=pf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(n){return n.endsWith(".cloudworkstations.dev")}async function fg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qh(JSON.stringify(e)),qh(JSON.stringify(c)),""].join(".")}const uu={};function rx(){const n={prod:[],emulator:[]};for(const t of Object.keys(uu))uu[t]?n.emulator.push(t):n.prod.push(t);return n}function ax(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let hT=!1;function dg(n,t){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||uu[n]===t||uu[n]||hT)return;uu[n]=t;function e(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=rx().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{hT=!0,c()},b}function y(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=ax(s),C=e("text"),k=document.getElementById(C)||document.createElement("span"),H=e("learnmore"),O=document.getElementById(H)||document.createElement("a"),Q=e("preprendIcon"),J=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;d(X),y(O,H);const rt=g();m(J,Q),X.append(J,k,O,rt),document.body.appendChild(X)}u?(k.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ox(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function lx(){var n;const t=(n=pf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ux(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fx(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dx(){return!lx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mx(){try{return typeof indexedDB=="object"}catch{return!1}}function px(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var u;t(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="FirebaseError";class Mi extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=gx,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,u=this.errors[t],c=u?yx(u,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Mi(a,d,s)}}function yx(n,t){return n.replace(vx,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const vx=/\{\$([^}]+)}/g;function _x(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function la(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const u=n[a],c=t[a];if(fT(u)&&fT(c)){if(!la(u,c))return!1}else if(u!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function fT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Tx(n,t){const e=new Ex(n,t);return e.subscribe.bind(e)}class Ex{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");bx(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=qm),a.error===void 0&&(a.error=qm),a.complete===void 0&&(a.complete=qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bx(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n){return n&&n._delegate?n._delegate:n}class rr{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new sx;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wx(t))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(t=ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ta){return this.instances.has(t)}getOptions(t=ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(a)}return a}onInit(t,e){var s;const a=this.normalizeInstanceIdentifier(e),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(a,u);const c=this.instances.get(a);return c&&t(c,a),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Sx(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ta){return this.component?this.component.multipleInstances?t:ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sx(n){return n===ta?void 0:n}function wx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Ax(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const Cx={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},xx=Lt.INFO,Ix={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Dx=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=Ix[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mg{constructor(t){this.name=t,this._logLevel=xx,this._logHandler=Dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Cx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const Mx=(n,t)=>t.some(e=>n instanceof e);let dT,mT;function Vx(){return dT||(dT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ox(){return mT||(mT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pA=new WeakMap,vp=new WeakMap,gA=new WeakMap,Hm=new WeakMap,pg=new WeakMap;function Nx(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(Js(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&pA.set(e,n)}).catch(()=>{}),pg.set(t,n),t}function Px(n){if(vp.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});vp.set(n,t)}let _p={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return vp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||gA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Js(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function kx(n){_p=n(_p)}function Lx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Gm(this),t,...e);return gA.set(s,t.sort?t.sort():[t]),Js(s)}:Ox().includes(n)?function(...t){return n.apply(Gm(this),t),Js(pA.get(this))}:function(...t){return Js(n.apply(Gm(this),t))}}function Ux(n){return typeof n=="function"?Lx(n):(n instanceof IDBTransaction&&Px(n),Mx(n,Vx())?new Proxy(n,_p):n)}function Js(n){if(n instanceof IDBRequest)return Nx(n);if(Hm.has(n))return Hm.get(n);const t=Ux(n);return t!==n&&(Hm.set(n,t),pg.set(t,n)),t}const Gm=n=>pg.get(n);function Bx(n,t,{blocked:e,upgrade:s,blocking:a,terminated:u}={}){const c=indexedDB.open(n,t),d=Js(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Js(c.result),m.oldVersion,m.newVersion,Js(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const jx=["get","getKey","getAll","getAllKeys","count"],zx=["put","add","delete","clear"],Km=new Map;function pT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Km.get(t))return Km.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=zx.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||jx.includes(e)))return;const u=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),a&&m.done]))[0]};return Km.set(t,u),u}kx(n=>({...n,get:(t,e,s)=>pT(t,e)||n.get(t,e,s),has:(t,e)=>!!pT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(qx(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function qx(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Tp="@firebase/app",gT="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new mg("@firebase/app"),Hx="@firebase/app-compat",Gx="@firebase/analytics-compat",Kx="@firebase/analytics",Yx="@firebase/app-check-compat",Qx="@firebase/app-check",Xx="@firebase/auth",$x="@firebase/auth-compat",Wx="@firebase/database",Zx="@firebase/data-connect",Jx="@firebase/database-compat",tI="@firebase/functions",eI="@firebase/functions-compat",nI="@firebase/installations",iI="@firebase/installations-compat",sI="@firebase/messaging",rI="@firebase/messaging-compat",aI="@firebase/performance",oI="@firebase/performance-compat",lI="@firebase/remote-config",uI="@firebase/remote-config-compat",cI="@firebase/storage",hI="@firebase/storage-compat",fI="@firebase/firestore",dI="@firebase/ai",mI="@firebase/firestore-compat",pI="firebase",gI="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",yI={[Tp]:"fire-core",[Hx]:"fire-core-compat",[Kx]:"fire-analytics",[Gx]:"fire-analytics-compat",[Qx]:"fire-app-check",[Yx]:"fire-app-check-compat",[Xx]:"fire-auth",[$x]:"fire-auth-compat",[Wx]:"fire-rtdb",[Zx]:"fire-data-connect",[Jx]:"fire-rtdb-compat",[tI]:"fire-fn",[eI]:"fire-fn-compat",[nI]:"fire-iid",[iI]:"fire-iid-compat",[sI]:"fire-fcm",[rI]:"fire-fcm-compat",[aI]:"fire-perf",[oI]:"fire-perf-compat",[lI]:"fire-rc",[uI]:"fire-rc-compat",[cI]:"fire-gcs",[hI]:"fire-gcs-compat",[fI]:"fire-fst",[mI]:"fire-fst-compat",[dI]:"fire-vertex","fire-js":"fire-js",[pI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,vI=new Map,bp=new Map;function yT(n,t){try{n.container.addComponent(t)}catch(e){us.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ua(n){const t=n.name;if(bp.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;bp.set(t,n);for(const e of Hh.values())yT(e,n);for(const e of vI.values())yT(e,n);return!0}function gf(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Wn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new Lu("app","Firebase",_I);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=gI;function yA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ep,automaticDataCollectionEnabled:!0},t),a=s.name;if(typeof a!="string"||!a)throw tr.create("bad-app-name",{appName:String(a)});if(e||(e=fA()),!e)throw tr.create("no-options");const u=Hh.get(a);if(u){if(la(e,u.options)&&la(s,u.config))return u;throw tr.create("duplicate-app",{appName:a})}const c=new Rx(a);for(const m of bp.values())c.addComponent(m);const d=new TI(e,s,c);return Hh.set(a,d),d}function gg(n=Ep){const t=Hh.get(n);if(!t&&n===Ep&&fA())return yA();if(!t)throw tr.create("no-app",{appName:n});return t}function Ti(n,t,e){var s;let a=(s=yI[n])!==null&&s!==void 0?s:n;e&&(a+=`-${e}`);const u=a.match(/\s|\//),c=t.match(/\s|\//);if(u||c){const d=[`Unable to register library "${a}" with version "${t}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}ua(new rr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebase-heartbeat-database",bI=1,Eu="firebase-heartbeat-store";let Ym=null;function vA(){return Ym||(Ym=Bx(EI,bI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Eu)}catch(e){console.warn(e)}}}}).catch(n=>{throw tr.create("idb-open",{originalErrorMessage:n.message})})),Ym}async function AI(n){try{const e=(await vA()).transaction(Eu),s=await e.objectStore(Eu).get(_A(n));return await e.done,s}catch(t){if(t instanceof Mi)us.warn(t.message);else{const e=tr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});us.warn(e.message)}}}async function vT(n,t){try{const s=(await vA()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(t,_A(n)),await s.done}catch(e){if(e instanceof Mi)us.warn(e.message);else{const s=tr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});us.warn(s.message)}}}function _A(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1024,wI=30;class RI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new xI(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=_T();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>wI){const c=II(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){us.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_T(),{heartbeatsToSend:s,unsentEntries:a}=CI(this._heartbeatsCache.heartbeats),u=qh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return us.warn(e),""}}}function _T(){return new Date().toISOString().substring(0,10)}function CI(n,t=SI){const e=[];let s=n.slice();for(const a of n){const u=e.find(c=>c.agent===a.agent);if(u){if(u.dates.push(a.date),TT(e)>t){u.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),TT(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class xI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mx()?px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await AI(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return vT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return vT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function TT(n){return qh(JSON.stringify({version:2,heartbeats:n})).length}function II(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){ua(new rr("platform-logger",t=>new Fx(t),"PRIVATE")),ua(new rr("heartbeat",t=>new RI(t),"PRIVATE")),Ti(Tp,gT,n),Ti(Tp,gT,"esm2017"),Ti("fire-js","")}DI("");function yg(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e}function TA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MI=TA,EA=new Lu("auth","Firebase",TA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new mg("@firebase/auth");function VI(n,...t){Gh.logLevel<=Lt.WARN&&Gh.warn(`Auth (${fa}): ${n}`,...t)}function Ih(n,...t){Gh.logLevel<=Lt.ERROR&&Gh.error(`Auth (${fa}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(n,...t){throw vg(n,...t)}function Ei(n,...t){return vg(n,...t)}function bA(n,t,e){const s=Object.assign(Object.assign({},MI()),{[t]:e});return new Lu("auth","Firebase",s).create(t,{appName:n.name})}function ra(n){return bA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vg(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return EA.create(n,...t)}function bt(n,t,...e){if(!n)throw vg(t,...e)}function os(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ih(t),new Error(t)}function hs(n,t){n||os(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OI(){return ET()==="http:"||ET()==="https:"}function ET(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OI()||cx()||"connection"in navigator)?navigator.onLine:!0}function PI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,e){this.shortDelay=t,this.longDelay=e,hs(e>t,"Short delay should be less than long delay!"),this.isMobile=ox()||hx()}get(){return NI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(n,t){hs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UI=new Bu(3e4,6e4);function Tg(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Lo(n,t,e,s,a={}){return SA(n,a,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=Uu(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:m},u);return ux()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ko(n.emulatorConfig.host)&&(g.credentials="include"),AA.fetch()(await wA(n,n.config.apiHost,e,d),g)})}async function SA(n,t,e){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},kI),t);try{const a=new jI(n),u=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw _h(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw _h(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw _h(n,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bA(n,y,g);cs(n,y)}}catch(a){if(a instanceof Mi)throw a;cs(n,"network-request-failed",{message:String(a)})}}async function BI(n,t,e,s,a={}){const u=await Lo(n,t,e,s,a);return"mfaPendingCredential"in u&&cs(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function wA(n,t,e,s){const a=`${t}${e}?${s}`,u=n,c=u.config.emulator?_g(n.config,a):`${n.config.apiScheme}://${a}`;return LI.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class jI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),UI.get())})}}function _h(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=Ei(n,t,s);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(n,t){return Lo(n,"POST","/v1/accounts:delete",t)}async function Kh(n,t){return Lo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function FI(n,t=!1){const e=hn(n),s=await e.getIdToken(t),a=Eg(s);bt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:a,token:s,authTime:cu(Qm(a.auth_time)),issuedAtTime:cu(Qm(a.iat)),expirationTime:cu(Qm(a.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Qm(n){return Number(n)*1e3}function Eg(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const a=uA(e);return a?JSON.parse(a):(Ih("Failed to decode base64 JWT payload"),null)}catch(a){return Ih("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function bT(n){const t=Eg(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Mi&&qI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function qI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(n){var t;const e=n.auth,s=await n.getIdToken(),a=await bu(n,Kh(e,{idToken:s}));bt(a==null?void 0:a.users.length,e,"internal-error");const u=a.users[0];n._notifyReloadListener(u);const c=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?RA(u.providerUserInfo):[],d=KI(n.providerData,c),m=n.isAnonymous,g=!(n.email&&u.passwordHash)&&!(d!=null&&d.length),y=m?g:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Sp(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(n,E)}async function GI(n){const t=hn(n);await Yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function KI(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function RA(n){return n.map(t=>{var{providerId:e}=t,s=yg(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,t){const e=await SA(n,{},async()=>{const s=Uu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,c=await wA(n,a,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",AA.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function QI(n,t){return Lo(n,"POST","/v2/accounts:revokeToken",Tg(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=bT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:u}=await YI(t,e);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:u}=e,c=new To;return s&&(bt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(bt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),u&&(bt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Zn{constructor(t){var{uid:e,auth:s,stsTokenManager:a}=t,u=yg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Sp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await bu(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return FI(this,t)}reload(){return GI(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Zn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ra(this.auth));const t=await this.getIdToken();return await bu(this,zI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,a,u,c,d,m,g,y;const E=(s=e.displayName)!==null&&s!==void 0?s:void 0,b=(a=e.email)!==null&&a!==void 0?a:void 0,C=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,k=(c=e.photoURL)!==null&&c!==void 0?c:void 0,H=(d=e.tenantId)!==null&&d!==void 0?d:void 0,O=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,Q=(g=e.createdAt)!==null&&g!==void 0?g:void 0,J=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:X,emailVerified:rt,isAnonymous:st,providerData:ft,stsTokenManager:M}=e;bt(X&&M,t,"internal-error");const w=To.fromJSON(this.name,M);bt(typeof X=="string",t,"internal-error"),Ks(E,t.name),Ks(b,t.name),bt(typeof rt=="boolean",t,"internal-error"),bt(typeof st=="boolean",t,"internal-error"),Ks(C,t.name),Ks(k,t.name),Ks(H,t.name),Ks(O,t.name),Ks(Q,t.name),Ks(J,t.name);const x=new Zn({uid:X,auth:t,email:b,emailVerified:rt,displayName:E,isAnonymous:st,photoURL:k,phoneNumber:C,tenantId:H,stsTokenManager:w,createdAt:Q,lastLoginAt:J});return ft&&Array.isArray(ft)&&(x.providerData=ft.map(V=>Object.assign({},V))),O&&(x._redirectEventId=O),x}static async _fromIdTokenResponse(t,e,s=!1){const a=new To;a.updateFromServerResponse(e);const u=new Zn({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Yh(u),u}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];bt(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?RA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),d=new To;d.updateFromIdToken(s);const m=new Zn({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Sp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Map;function ls(n){hs(n instanceof Function,"Expected a class definition");let t=AT.get(n);return t?(hs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,AT.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}CA.type="NONE";const ST=CA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n,t,e){return`firebase:${n}:${t}:${e}`}class Eo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=Dh(this.userKey,a.apiKey,u),this.fullPersistenceKey=Dh("persistence",a.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Kh(this.auth,{idToken:t}).catch(()=>{});return e?Zn._fromGetAccountInfoResponse(this.auth,e,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Eo(ls(ST),t,s);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=a[0]||ls(ST);const c=Dh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const y=await g._get(c);if(y){let E;if(typeof y=="string"){const b=await Kh(t,{idToken:y}).catch(()=>{});if(!b)break;E=await Zn._fromGetAccountInfoResponse(t,b,y)}else E=Zn._fromJSON(t,y);g!==u&&(d=E),u=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Eo(u,t,s):(u=m[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Eo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(MA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OA(t))return"Blackberry";if(NA(t))return"Webos";if(IA(t))return"Safari";if((t.includes("chrome/")||DA(t))&&!t.includes("edge/"))return"Chrome";if(VA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function xA(n=rn()){return/firefox\//i.test(n)}function IA(n=rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DA(n=rn()){return/crios\//i.test(n)}function MA(n=rn()){return/iemobile/i.test(n)}function VA(n=rn()){return/android/i.test(n)}function OA(n=rn()){return/blackberry/i.test(n)}function NA(n=rn()){return/webos/i.test(n)}function bg(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XI(n=rn()){var t;return bg(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function $I(){return fx()&&document.documentMode===10}function PA(n=rn()){return bg(n)||VA(n)||NA(n)||OA(n)||/windows phone/i.test(n)||MA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n,t=[]){let e;switch(n){case"Browser":e=wT(rn());break;case"Worker":e=`${wT(rn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${fa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((c,d)=>{try{const m=t(u);c(m)}catch(m){d(m)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(n,t={}){return Lo(n,"GET","/v2/passwordPolicy",Tg(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=6;class t2{constructor(t){var e,s,a,u;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:JI,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,a,u,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RT(this),this.idTokenSubscription=new RT(this),this.beforeStateQueue=new WI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ls(e)),this._initializationPromise=this.queue(async()=>{var s,a,u;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Kh(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Yh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(ra(this));const e=t?hn(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZI(this),e=new t2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await QI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ls(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[ls(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(e);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&VI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ag(n){return hn(n)}class RT{constructor(t){this.auth=t,this.observer=null,this.addObserver=Tx(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n2(n){Sg=n}function i2(n){return Sg.loadJS(n)}function s2(){return Sg.gapiScript}function r2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n,t){const e=gf(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),u=e.getOptions();if(la(u,t??{}))return a;cs(a,"already-initialized")}return e.initialize({options:t})}function o2(n,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(ls);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function l2(n,t,e){const s=Ag(n);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,u=LA(t),{host:c,port:d}=u2(t),m=d===null?"":`:${d}`,g={url:`${u}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(la(g,s.config.emulator)&&la(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ko(c)?(fg(`${u}//${c}${m}`),dg("Auth",!0)):c2()}function LA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function u2(n){const t=LA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:CT(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:CT(c)}}}function CT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function c2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,e){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(n,t){return BI(n,"POST","/v1/accounts:signInWithIdp",Tg(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="http://localhost";class fs extends UA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):cs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=e,u=yg(e,["providerId","signInMethod"]);if(!s||!a)return null;const c=new fs(s,a);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return bo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,bo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,bo(t,e)}buildRequest(){const t={requestUri:h2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Uu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends BA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class hu extends Uo{static credentialFromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;return bt("providerId"in e&&"signInMethod"in e,"argument-error"),fs._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return bt(t.idToken||t.accessToken,"argument-error"),fs._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return hu.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return hu.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:u,nonce:c,providerId:d}=t;if(!s&&!a&&!e&&!u||!d)return null;try{return new hu(d)._credential({idToken:e,accessToken:s,nonce:c,pendingToken:u})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Uo{constructor(){super("facebook.com")}static credential(t){return fs._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return fs._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return as.credential(e,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Uo{constructor(){super("github.com")}static credential(t){return fs._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Uo{constructor(){super("twitter.com")}static credential(t,e){return fs._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return $s.credential(e,s)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const u=await Zn._fromIdTokenResponse(t,s,a),c=xT(s);return new wo({user:u,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=xT(s);return new wo({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function xT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Mi{constructor(t,e,s,a){var u;super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new Qh(t,e,s,a)}}function jA(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(n,u,t,s):u})}async function f2(n,t,e=!1){const s=await bu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(n,t,e=!1){const{auth:s}=n;if(Wn(s.app))return Promise.reject(ra(s));const a="reauthenticate";try{const u=await bu(n,jA(s,a,t,n),e);bt(u.idToken,s,"internal-error");const c=Eg(u.idToken);bt(c,s,"internal-error");const{sub:d}=c;return bt(n.uid===d,s,"user-mismatch"),wo._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&cs(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(n,t,e=!1){if(Wn(n.app))return Promise.reject(ra(n));const s="signIn",a=await jA(n,s,t),u=await wo._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(u.user),u}function p2(n,t,e,s){return hn(n).onIdTokenChanged(t,e,s)}function g2(n,t,e){return hn(n).beforeAuthStateChanged(t,e)}function y2(n,t,e,s){return hn(n).onAuthStateChanged(t,e,s)}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1e3,_2=10;class FA extends zA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);$I()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,_2):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}FA.type="LOCAL";const T2=FA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA extends zA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}qA.type="SESSION";const HA=qA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new yf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:u}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(e.origin,u)),m=await E2(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,c;return new Promise((d,m)=>{const g=wg("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(y),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function A2(n){bi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function S2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function R2(){return GA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebaseLocalStorageDb",C2=1,$h="firebaseLocalStorage",YA="fbase_key";class ju{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function vf(n,t){return n.transaction([$h],t?"readwrite":"readonly").objectStore($h)}function x2(){const n=indexedDB.deleteDatabase(KA);return new ju(n).toPromise()}function wp(){const n=indexedDB.open(KA,C2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore($h,{keyPath:YA})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains($h)?t(s):(s.close(),await x2(),t(await wp()))})})}async function IT(n,t,e){const s=vf(n,!0).put({[YA]:t,value:e});return new ju(s).toPromise()}async function I2(n,t){const e=vf(n,!1).get(t),s=await new ju(e).toPromise();return s===void 0?null:s.value}function DT(n,t){const e=vf(n,!0).delete(t);return new ju(e).toPromise()}const D2=800,M2=3;class QA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>M2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(R2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await S2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||w2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wp();return await IT(t,Xh,"1"),await DT(t,Xh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>IT(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>I2(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>DT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const u=vf(a,!1).getAll();return new ju(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:u}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QA.type="LOCAL";const V2=QA;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(n,t){return t?ls(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends UA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return bo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function N2(n){return m2(n.auth,new Rg(n),n.bypassAuthState)}function P2(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),d2(e,new Rg(n),n.bypassAuthState)}async function k2(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),f2(e,new Rg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,e,s,a,u=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return P2;default:cs(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new Bu(2e3,1e4);class mo extends XA{constructor(t,e,s,a,u){super(t,e,a,u),this.provider=s,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,L2.get())};t()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="pendingRedirect",Mh=new Map;class B2 extends XA{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Mh.get(this.auth._key());if(!t){try{const s=await j2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Mh.set(this.auth._key(),t)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(n,t){const e=q2(t),s=F2(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function z2(n,t){Mh.set(n._key(),t)}function F2(n){return ls(n._redirectPersistence)}function q2(n){return Dh(U2,n.config.apiKey,n.name)}async function H2(n,t,e=!1){if(Wn(n.app))return Promise.reject(ra(n));const s=Ag(n),a=O2(s,t),c=await new B2(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=10*60*1e3;class K2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Y2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!$A(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Ei(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=G2&&this.cachedEventUids.clear(),this.cachedEventUids.has(MT(t))}saveEventToCache(t){this.cachedEventUids.add(MT(t)),this.lastProcessedEventTime=Date.now()}}function MT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function $A({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Y2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $A(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(n,t={}){return Lo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$2=/^https?/;async function W2(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Q2(n);for(const e of t)try{if(Z2(e))return}catch{}cs(n,"unauthorized-domain")}function Z2(n){const t=Ap(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!$2.test(e))return!1;if(X2.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Bu(3e4,6e4);function VT(){const n=bi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function tD(n){return new Promise((t,e)=>{var s,a,u;function c(){VT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{VT(),e(Ei(n,"network-request-failed"))},timeout:J2.get()})}if(!((a=(s=bi().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((u=bi().gapi)===null||u===void 0)&&u.load)c();else{const d=r2("iframefcb");return bi()[d]=()=>{gapi.load?c():e(Ei(n,"network-request-failed"))},i2(`${s2()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw Vh=null,t})}let Vh=null;function eD(n){return Vh=Vh||tD(n),Vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Bu(5e3,15e3),iD="__/auth/iframe",sD="emulator/auth/iframe",rD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oD(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?_g(t,sD):`https://${n.config.authDomain}/${iD}`,s={apiKey:t.apiKey,appName:n.name,v:fa},a=aD.get(n.config.apiHost);a&&(s.eid=a);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${Uu(s).slice(1)}`}async function lD(n){const t=await eD(n),e=bi().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:oD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rD,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ei(n,"network-request-failed"),d=bi().setTimeout(()=>{u(c)},nD.get());function m(){bi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cD=500,hD=600,fD="_blank",dD="http://localhost";class OT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mD(n,t,e,s=cD,a=hD){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},uD),{width:s.toString(),height:a.toString(),top:u,left:c}),g=rn().toLowerCase();e&&(d=DA(g)?fD:e),xA(g)&&(t=t||dD,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[C,k])=>`${b}${C}=${k},`,"");if(XI(g)&&d!=="_self")return pD(t||"",d),new OT(null);const E=window.open(t||"",d,y);bt(E,n,"popup-blocked");try{E.focus()}catch{}return new OT(E)}function pD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="__/auth/handler",yD="emulator/auth/handler",vD=encodeURIComponent("fac");async function NT(n,t,e,s,a,u){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:fa,eventId:a};if(t instanceof BA){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",_x(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(t instanceof Uo){const y=t.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await n._getAppCheckToken(),g=m?`#${vD}=${encodeURIComponent(m)}`:"";return`${_D(n)}?${Uu(d).slice(1)}${g}`}function _D({config:n}){return n.emulator?_g(n,yD):`https://${n.authDomain}/${gD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class TD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HA,this._completeRedirectFn=H2,this._overrideRedirectResult=z2}async _openPopup(t,e,s,a){var u;hs((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await NT(t,e,s,Ap(),a);return mD(t,c,wg())}async _openRedirect(t,e,s,a){await this._originValidation(t);const u=await NT(t,e,s,Ap(),a);return A2(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:u}=this.eventManagers[e];return a?Promise.resolve(a):(hs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await lD(t),s=new K2(t);return e.register("authEvent",a=>(bt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Xm,{type:Xm},a=>{var u;const c=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[Xm];c!==void 0&&e(!!c),cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=W2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return PA()||IA()||bg()}}const ED=TD;var PT="@firebase/auth",kT="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SD(n){ua(new rr("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kA(n)},g=new e2(s,a,u,m);return o2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),ua(new rr("auth-internal",t=>{const e=Ag(t.getProvider("auth").getImmediate());return(s=>new bD(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(PT,kT,AD(n)),Ti(PT,kT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=5*60,RD=dA("authIdTokenMaxAge")||wD;let LT=null;const CD=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>RD)return;const a=e==null?void 0:e.token;LT!==a&&(LT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xD(n=gg()){const t=gf(n,"auth");if(t.isInitialized())return t.getImmediate();const e=a2(n,{popupRedirectResolver:ED,persistence:[V2,T2,HA]}),s=dA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=CD(u.toString());g2(e,c,()=>c(e.currentUser)),p2(e,d=>c(d))}}const a=cA("auth");return a&&l2(e,`http://${a}`),e}function ID(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}n2({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const u=Ei("internal-error");u.customData=a,e(u)},s.type="text/javascript",s.charset="UTF-8",ID().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SD("Browser");var DD="firebase",MD="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(DD,MD,"app");var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var er,WA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function x(){}x.prototype=w.prototype,M.D=w.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(V,P,L){for(var R=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)R[pt-2]=arguments[pt];return w.prototype[P].apply(V,R)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,w,x){x||(x=0);var V=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)V[P]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(P=0;16>P;++P)V[P]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=M.g[0],x=M.g[1],P=M.g[2];var L=M.g[3],R=w+(L^x&(P^L))+V[0]+3614090360&4294967295;w=x+(R<<7&4294967295|R>>>25),R=L+(P^w&(x^P))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=P+(x^L&(w^x))+V[2]+606105819&4294967295,P=L+(R<<17&4294967295|R>>>15),R=x+(w^P&(L^w))+V[3]+3250441966&4294967295,x=P+(R<<22&4294967295|R>>>10),R=w+(L^x&(P^L))+V[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(P^w&(x^P))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=P+(x^L&(w^x))+V[6]+2821735955&4294967295,P=L+(R<<17&4294967295|R>>>15),R=x+(w^P&(L^w))+V[7]+4249261313&4294967295,x=P+(R<<22&4294967295|R>>>10),R=w+(L^x&(P^L))+V[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(P^w&(x^P))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=P+(x^L&(w^x))+V[10]+4294925233&4294967295,P=L+(R<<17&4294967295|R>>>15),R=x+(w^P&(L^w))+V[11]+2304563134&4294967295,x=P+(R<<22&4294967295|R>>>10),R=w+(L^x&(P^L))+V[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(P^w&(x^P))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=P+(x^L&(w^x))+V[14]+2792965006&4294967295,P=L+(R<<17&4294967295|R>>>15),R=x+(w^P&(L^w))+V[15]+1236535329&4294967295,x=P+(R<<22&4294967295|R>>>10),R=w+(P^L&(x^P))+V[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^P&(w^x))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=P+(w^x&(L^w))+V[11]+643717713&4294967295,P=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(P^L))+V[0]+3921069994&4294967295,x=P+(R<<20&4294967295|R>>>12),R=w+(P^L&(x^P))+V[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^P&(w^x))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=P+(w^x&(L^w))+V[15]+3634488961&4294967295,P=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(P^L))+V[4]+3889429448&4294967295,x=P+(R<<20&4294967295|R>>>12),R=w+(P^L&(x^P))+V[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^P&(w^x))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=P+(w^x&(L^w))+V[3]+4107603335&4294967295,P=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(P^L))+V[8]+1163531501&4294967295,x=P+(R<<20&4294967295|R>>>12),R=w+(P^L&(x^P))+V[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^P&(w^x))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=P+(w^x&(L^w))+V[7]+1735328473&4294967295,P=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(P^L))+V[12]+2368359562&4294967295,x=P+(R<<20&4294967295|R>>>12),R=w+(x^P^L)+V[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^P)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=P+(L^w^x)+V[11]+1839030562&4294967295,P=L+(R<<16&4294967295|R>>>16),R=x+(P^L^w)+V[14]+4259657740&4294967295,x=P+(R<<23&4294967295|R>>>9),R=w+(x^P^L)+V[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^P)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=P+(L^w^x)+V[7]+4139469664&4294967295,P=L+(R<<16&4294967295|R>>>16),R=x+(P^L^w)+V[10]+3200236656&4294967295,x=P+(R<<23&4294967295|R>>>9),R=w+(x^P^L)+V[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^P)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=P+(L^w^x)+V[3]+3572445317&4294967295,P=L+(R<<16&4294967295|R>>>16),R=x+(P^L^w)+V[6]+76029189&4294967295,x=P+(R<<23&4294967295|R>>>9),R=w+(x^P^L)+V[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^P)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=P+(L^w^x)+V[15]+530742520&4294967295,P=L+(R<<16&4294967295|R>>>16),R=x+(P^L^w)+V[2]+3299628645&4294967295,x=P+(R<<23&4294967295|R>>>9),R=w+(P^(x|~L))+V[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~P))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=P+(w^(L|~x))+V[14]+2878612391&4294967295,P=L+(R<<15&4294967295|R>>>17),R=x+(L^(P|~w))+V[5]+4237533241&4294967295,x=P+(R<<21&4294967295|R>>>11),R=w+(P^(x|~L))+V[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~P))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=P+(w^(L|~x))+V[10]+4293915773&4294967295,P=L+(R<<15&4294967295|R>>>17),R=x+(L^(P|~w))+V[1]+2240044497&4294967295,x=P+(R<<21&4294967295|R>>>11),R=w+(P^(x|~L))+V[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~P))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=P+(w^(L|~x))+V[6]+2734768916&4294967295,P=L+(R<<15&4294967295|R>>>17),R=x+(L^(P|~w))+V[13]+1309151649&4294967295,x=P+(R<<21&4294967295|R>>>11),R=w+(P^(x|~L))+V[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~P))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=P+(w^(L|~x))+V[2]+718787259&4294967295,P=L+(R<<15&4294967295|R>>>17),R=x+(L^(P|~w))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var x=w-this.blockSize,V=this.B,P=this.h,L=0;L<w;){if(P==0)for(;L<=x;)a(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<w;)if(V[P++]=M.charCodeAt(L++),P==this.blockSize){a(this,V),P=0;break}}else for(;L<w;)if(V[P++]=M[L++],P==this.blockSize){a(this,V),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var x=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=x&255,x/=256;for(this.u(M),M=Array(16),w=x=0;4>w;++w)for(var V=0;32>V;V+=8)M[x++]=this.g[w]>>>V&255;return M};function u(M,w){var x=d;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=w(M)}function c(M,w){this.h=w;for(var x=[],V=!0,P=M.length-1;0<=P;P--){var L=M[P]|0;V&&L==w||(x[P]=L,V=!1)}this.g=x}var d={};function m(M){return-128<=M&&128>M?u(M,function(w){return new c([w|0],0>w?-1:0)}):new c([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return O(g(-M));for(var w=[],x=1,V=0;M>=x;V++)w[V]=M/x|0,x*=4294967296;return new c(w,0)}function y(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return O(y(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(w,8)),V=E,P=0;P<M.length;P+=8){var L=Math.min(8,M.length-P),R=parseInt(M.substring(P,P+L),w);8>L?(L=g(Math.pow(w,L)),V=V.j(L).add(g(R))):(V=V.j(x),V=V.add(g(R)))}return V}var E=m(0),b=m(1),C=m(16777216);n=c.prototype,n.m=function(){if(H(this))return-O(this).m();for(var M=0,w=1,x=0;x<this.g.length;x++){var V=this.i(x);M+=(0<=V?V:4294967296+V)*w,w*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(H(this))return"-"+O(this).toString(M);for(var w=g(Math.pow(M,6)),x=this,V="";;){var P=rt(x,w).g;x=Q(x,P.j(w));var L=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=P,k(x))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function H(M){return M.h==-1}n.l=function(M){return M=Q(this,M),H(M)?-1:k(M)?0:1};function O(M){for(var w=M.g.length,x=[],V=0;V<w;V++)x[V]=~M.g[V];return new c(x,~M.h).add(b)}n.abs=function(){return H(this)?O(this):this},n.add=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],V=0,P=0;P<=w;P++){var L=V+(this.i(P)&65535)+(M.i(P)&65535),R=(L>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);V=R>>>16,L&=65535,R&=65535,x[P]=R<<16|L}return new c(x,x[x.length-1]&-2147483648?-1:0)};function Q(M,w){return M.add(O(w))}n.j=function(M){if(k(this)||k(M))return E;if(H(this))return H(M)?O(this).j(O(M)):O(O(this).j(M));if(H(M))return O(this.j(O(M)));if(0>this.l(C)&&0>M.l(C))return g(this.m()*M.m());for(var w=this.g.length+M.g.length,x=[],V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<M.g.length;P++){var L=this.i(V)>>>16,R=this.i(V)&65535,pt=M.i(P)>>>16,ht=M.i(P)&65535;x[2*V+2*P]+=R*ht,J(x,2*V+2*P),x[2*V+2*P+1]+=L*ht,J(x,2*V+2*P+1),x[2*V+2*P+1]+=R*pt,J(x,2*V+2*P+1),x[2*V+2*P+2]+=L*pt,J(x,2*V+2*P+2)}for(V=0;V<w;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=w;V<2*w;V++)x[V]=0;return new c(x,0)};function J(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function X(M,w){this.g=M,this.h=w}function rt(M,w){if(k(w))throw Error("division by zero");if(k(M))return new X(E,E);if(H(M))return w=rt(O(M),w),new X(O(w.g),O(w.h));if(H(w))return w=rt(M,O(w)),new X(O(w.g),w.h);if(30<M.g.length){if(H(M)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var x=b,V=w;0>=V.l(M);)x=st(x),V=st(V);var P=ft(x,1),L=ft(V,1);for(V=ft(V,2),x=ft(x,2);!k(V);){var R=L.add(V);0>=R.l(M)&&(P=P.add(x),L=R),V=ft(V,1),x=ft(x,1)}return w=Q(M,P.j(w)),new X(P,w)}for(P=E;0<=M.l(w);){for(x=Math.max(1,Math.floor(M.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=g(x),R=L.j(w);H(R)||0<R.l(M);)x-=V,L=g(x),R=L.j(w);k(L)&&(L=b),P=P.add(L),M=Q(M,R)}return new X(P,M)}n.A=function(M){return rt(this,M).h},n.and=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],V=0;V<w;V++)x[V]=this.i(V)&M.i(V);return new c(x,this.h&M.h)},n.or=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],V=0;V<w;V++)x[V]=this.i(V)|M.i(V);return new c(x,this.h|M.h)},n.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],V=0;V<w;V++)x[V]=this.i(V)^M.i(V);return new c(x,this.h^M.h)};function st(M){for(var w=M.g.length+1,x=[],V=0;V<w;V++)x[V]=M.i(V)<<1|M.i(V-1)>>>31;return new c(x,M.h)}function ft(M,w){var x=w>>5;w%=32;for(var V=M.g.length-x,P=[],L=0;L<V;L++)P[L]=0<w?M.i(L+x)>>>w|M.i(L+x+1)<<32-w:M.i(L+x);return new c(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,WA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,er=c}).apply(typeof UT<"u"?UT:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZA,su,JA,Oh,Rp,t1,e1,n1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function a(h,v){if(v)t:{var _=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var j=h[S];if(!(j in _))break t;_=_[j]}h=h[h.length-1],S=_[h],v=v(S),v!=S&&v!=null&&t(_,h,{configurable:!0,writable:!0,value:v})}}function u(h,v){h instanceof String&&(h+="");var _=0,S=!1,j={next:function(){if(!S&&_<h.length){var Y=_++;return{value:v(Y,h[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(h){return h||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function E(h,v,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),h.apply(v,j)}}return function(){return h.apply(v,arguments)}}function b(h,v,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,b.apply(null,arguments)}function C(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function k(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,j,Y){for(var lt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)lt[Bt-2]=arguments[Bt];return v.prototype[j].apply(S,lt)}}function H(h){const v=h.length;if(0<v){const _=Array(v);for(let S=0;S<v;S++)_[S]=h[S];return _}return[]}function O(h,v){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const j=h.length||0,Y=S.length||0;h.length=j+Y;for(let lt=0;lt<Y;lt++)h[j+lt]=S[lt]}else h.push(S)}}class Q{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function J(h){return/^[\s\xa0]*$/.test(h)}function X(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function rt(h){return rt[" "](h),h}rt[" "]=function(){};var st=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ft(h,v,_){for(const S in h)v.call(_,h[S],S,h)}function M(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function w(h){const v={};for(const _ in h)v[_]=h[_];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,v){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)h[_]=S[_];for(let Y=0;Y<x.length;Y++)_=x[Y],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function P(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function L(h){d.setTimeout(()=>{throw h},0)}function R(){var h=xt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class pt{constructor(){this.h=this.g=null}add(v,_){const S=ht.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ht=new Q(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let W,ot=!1,xt=new pt,D=()=>{const h=d.Promise.resolve(void 0);W=()=>{h.then(nt)}};var nt=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(_){L(_)}var v=ht;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ot=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h}();function Ot(h,v){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(st){t:{try{rt(v.nodeName);var j=!0;break t}catch{}j=!1}j||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Rt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ot.aa.h.call(this)}}k(Ot,at);var Rt={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),ee=0;function ni(h,v,_,S,j){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=j,this.key=++ee,this.da=this.fa=!1}function ys(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Oi(h){this.src=h,this.g={},this.h=0}Oi.prototype.add=function(h,v,_,S,j){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var lt=yr(h,v,S,j);return-1<lt?(v=h[lt],_||(v.fa=!1)):(v=new ni(v,this.src,Y,!!S,j),v.fa=_,h.push(v)),v};function gr(h,v){var _=v.type;if(_ in h.g){var S=h.g[_],j=Array.prototype.indexOf.call(S,v,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(S,j,1),Y&&(ys(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function yr(h,v,_,S){for(var j=0;j<h.length;++j){var Y=h[j];if(!Y.da&&Y.listener==v&&Y.capture==!!_&&Y.ha==S)return j}return-1}var vr="closure_lm_"+(1e6*Math.random()|0),Yo={};function Xu(h,v,_,S,j){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)Xu(h,v[Y],_,S,j);return null}return _=$u(_),h&&h[Pe]?h.K(v,_,g(S)?!!S.capture:!1,j):Cn(h,v,_,!1,S,j)}function Cn(h,v,_,S,j,Y){if(!v)throw Error("Invalid event type");var lt=g(j)?!!j.capture:!!j,Bt=va(h);if(Bt||(h[vr]=Bt=new Oi(h)),_=Bt.add(v,_,S,lt,Y),_.proxy)return _;if(S=Lf(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)_t||(j=lt),j===void 0&&(j=!1),h.addEventListener(v.toString(),S,j);else if(h.attachEvent)h.attachEvent(_r(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Lf(){function h(_){return v.call(h.src,h.listener,_)}const v=Uf;return h}function Qo(h,v,_,S,j){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Qo(h,v[Y],_,S,j);else S=g(S)?!!S.capture:!!S,_=$u(_),h&&h[Pe]?(h=h.i,v=String(v).toString(),v in h.g&&(Y=h.g[v],_=yr(Y,_,S,j),-1<_&&(ys(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete h.g[v],h.h--)))):h&&(h=va(h))&&(v=h.g[v.toString()],h=-1,v&&(h=yr(v,_,S,j)),(_=-1<h?v[h]:null)&&ya(_))}function ya(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Pe])gr(v.i,h);else{var _=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(_,S,h.capture):v.detachEvent?v.detachEvent(_r(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=va(v))?(gr(_,h),_.h==0&&(_.src=null,v[vr]=null)):ys(h)}}}function _r(h){return h in Yo?Yo[h]:Yo[h]="on"+h}function Uf(h,v){if(h.da)h=!0;else{v=new Ot(v,this);var _=h.listener,S=h.ha||h.src;h.fa&&ya(h),h=_.call(S,v)}return h}function va(h){return h=h[vr],h instanceof Oi?h:null}var Xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function $u(h){return typeof h=="function"?h:(h[Xo]||(h[Xo]=function(v){return h.handleEvent(v)}),h[Xo])}function he(){ct.call(this),this.i=new Oi(this),this.M=this,this.F=null}k(he,ct),he.prototype[Pe]=!0,he.prototype.removeEventListener=function(h,v,_,S){Qo(this,h,v,_,S)};function Yt(h,v){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new at(v,h);else if(v instanceof at)v.target=v.target||h;else{var j=v;v=new at(S,h),V(v,j)}if(j=!0,_)for(var Y=_.length-1;0<=Y;Y--){var lt=v.g=_[Y];j=yn(lt,S,!0,v)&&j}if(lt=v.g=h,j=yn(lt,S,!0,v)&&j,j=yn(lt,S,!1,v)&&j,_)for(Y=0;Y<_.length;Y++)lt=v.g=_[Y],j=yn(lt,S,!1,v)&&j}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],S=0;S<_.length;S++)ys(_[S]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,_,S){return this.i.add(String(h),v,!1,_,S)},he.prototype.L=function(h,v,_,S){return this.i.add(String(h),v,!0,_,S)};function yn(h,v,_,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var j=!0,Y=0;Y<v.length;++Y){var lt=v[Y];if(lt&&!lt.da&&lt.capture==_){var Bt=lt.listener,Ie=lt.ha||lt.src;lt.fa&&gr(h.i,lt),j=Bt.call(Ie,S)!==!1&&j}}return j&&!S.defaultPrevented}function We(h,v,_){if(typeof h=="function")_&&(h=b(h,_));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Wu(h){h.g=We(()=>{h.g=null,h.i&&(h.i=!1,Wu(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Bf extends ct{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Wu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(h){ct.call(this),this.h=h,this.g={}}k(Tr,ct);var Er=[];function br(h){ft(h.g,function(v,_){this.g.hasOwnProperty(_)&&ya(v)},h),h.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),br(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=d.JSON.stringify,_a=d.JSON.parse,Ar=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function $o(){}$o.prototype.h=null;function Wo(h){return h.h||(h.h=h.i())}function Zo(){}var Ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){at.call(this,"d")}k(Pi,at);function Jo(){at.call(this,"c")}k(Jo,at);var ii={},tl=null;function vs(){return tl=tl||new he}ii.La="serverreachability";function Ta(h){at.call(this,ii.La,h)}k(Ta,at);function _s(h){const v=vs();Yt(v,new Ta(v))}ii.STAT_EVENT="statevent";function Zu(h,v){at.call(this,ii.STAT_EVENT,h),this.stat=v}k(Zu,at);function se(h){const v=vs();Yt(v,new Zu(v,h))}ii.Ma="timingevent";function xe(h,v){at.call(this,ii.Ma,h),this.size=v}k(xe,at);function Ee(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function el(h,v,_,S,j,Y){h.info(function(){if(h.g)if(Y)for(var lt="",Bt=Y.split("&"),Ie=0;Ie<Bt.length;Ie++){var jt=Bt[Ie].split("=");if(1<jt.length){var Le=jt[0];jt=jt[1];var De=Le.split("_");lt=2<=De.length&&De[1]=="type"?lt+(Le+"="+jt+"&"):lt+(Le+"=redacted&")}}else lt=null;else lt=Y;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+v+`
`+_+`
`+lt})}function jf(h,v,_,S,j,Y,lt){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+v+`
`+_+`
`+Y+" "+lt})}function Ts(h,v,_,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sr(h,_)+(S?" "+S:"")})}function Ju(h,v){h.info(function(){return"TIMEOUT: "+v})}xn.prototype.info=function(){};function Sr(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var lt=1;lt<j.length;lt++)j[lt]=""}}}}return Hn(_)}catch{return v}}var Es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function ri(){}k(ri,$o),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},si=new ri;function an(h,v,_,S){this.j=h,this.i=v,this.l=_,this.R=S||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var nl={},Ea={};function Gn(h,v,_){h.L=1,h.v=Ir(vn(v)),h.m=_,h.P=!0,Li(h,null)}function Li(h,v){h.F=Date.now(),wr(h),h.A=vn(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),ll(_.i,"t",S),h.C=0,_=h.j.J,h.h=new pe,h.g=pc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new Bf(b(h.Y,h,h.g),h.O)),v=h.U,_=h.g,S=h.ca;var j="readystatechange";Array.isArray(j)||(j&&(Er[0]=j.toString()),j=Er);for(var Y=0;Y<j.length;Y++){var lt=Xu(_,j[Y],S||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),_s(),el(h.i,h.u,h.A,h.l,h.R,h.m)}an.prototype.ca=function(h){h=h.target;const v=this.M;v&&Vn(h)==3?v.j():this.Y(h)},an.prototype.Y=function(h){try{if(h==this.g)t:{const De=Vn(this.g);var v=this.g.Ba();const Gi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||De!=4||v==7||(v==8||0>=Gi?_s(3):_s(2)),bs(this);var _=this.g.Z();this.X=_;e:if(tc(this)){var S=oc(this.g);h="";var j=S.length,Y=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),ai(this);var lt="";break e}this.h.i=new d.TextDecoder}for(v=0;v<j;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(Y&&v==j-1)});S.length=0,this.h.g+=h,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,jf(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Bt,Ie=this.g;if((Bt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Bt)){var jt=Bt;break e}}jt=null}if(_=jt)Ts(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rr(this,_);else{this.o=!1,this.s=3,se(12),Fe(this),ai(this);break t}}if(this.P){_=!0;let qe;for(;!this.J&&this.C<lt.length;)if(qe=ec(this,lt),qe==Ea){De==4&&(this.s=4,se(14),_=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==nl){this.s=4,se(15),Ts(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else Ts(this.i,this.l,qe,null),Rr(this,qe);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||lt.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)Ts(this.i,this.l,lt,"[Invalid Chunked Response]"),Fe(this),ai(this);else if(0<lt.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Lr(Le),Le.M=!0,se(11))}}else Ts(this.i,this.l,lt,null),Rr(this,lt);De==4&&Fe(this),this.o&&!this.J&&(De==4?fc(this.j,this):(this.o=!1,wr(this)))}else Gf(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Fe(this),ai(this)}}}catch{}finally{}};function tc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ec(h,v){var _=h.C,S=v.indexOf(`
`,_);return S==-1?Ea:(_=Number(v.substring(_,S)),isNaN(_)?nl:(S+=1,S+_>v.length?Ea:(v=v.slice(S,S+_),h.C=S+_,v)))}an.prototype.cancel=function(){this.J=!0,Fe(this)};function wr(h){h.S=Date.now()+h.I,nc(h,h.I)}function nc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ee(b(h.ba,h),v)}function bs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}an.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ju(this.i,this.A),this.L!=2&&(_s(),se(17)),Fe(this),this.s=2,ai(this)):nc(this,this.S-h)};function ai(h){h.j.G==0||h.J||fc(h.j,h)}function Fe(h){bs(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,br(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Rr(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||il(_.h,h))){if(!h.K&&il(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Oa(_),Ma(_);else break t;dl(_),se(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ee(b(_.Za,_),6e3));if(1>=Aa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Hi(_,11)}else if((h.K||_.g==h)&&Oa(_),!J(v))for(j=_.Da.g.parse(v),v=0;v<j.length;v++){let jt=j[v];if(_.T=jt[0],jt=jt[1],_.G==2)if(jt[0]=="c"){_.K=jt[1],_.ia=jt[2];const Le=jt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const De=jt[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const Gi=jt[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(S=1.5*Gi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const qe=h.g;if(qe){const di=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var Y=S.h;Y.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Sa(Y,Y.h),Y.h=null))}if(S.D){const pl=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(S.ya=pl,$t(S.I,S.D,pl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var lt=h;if(S.qa=mc(S,S.J?S.ia:null,S.W),lt.K){on(S.h,lt);var Bt=lt,Ie=S.L;Ie&&(Bt.I=Ie),Bt.B&&(bs(Bt),wr(Bt)),S.g=lt}else cc(S);0<_.i.length&&Va(_)}else jt[0]!="stop"&&jt[0]!="close"||Hi(_,7);else _.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Hi(_,7):hl(_):jt[0]!="noop"&&_.l&&_.l.ta(jt),_.v=0)}}_s(4)}catch{}}var ic=class{constructor(h,v){this.g=h,this.map=v}};function Ui(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ba(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Aa(h){return h.h?1:h.g?h.g.size:0}function il(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Sa(h,v){h.g?h.g.add(v):h.h=v}function on(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ui.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return H(h.i)}function zf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],_=h.length,S=0;S<_;S++)v.push(h[S]);return v}v=[],_=0;for(S in h)v[_++]=h[S];return v}function wa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const S in h)v[_++]=S;return v}}}function rl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=wa(h),S=zf(h),j=S.length,Y=0;Y<j;Y++)v.call(void 0,S[Y],_&&_[Y],h)}var Cr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ff(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),j=null;if(0<=S){var Y=h[_].substring(0,S);j=h[_].substring(S+1)}else Y=h[_];v(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function be(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof be){this.h=h.h,xr(this,h.j),this.o=h.o,this.g=h.g,As(this,h.s),this.l=h.l;var v=h.i,_=new ji;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Bi(this,_),this.m=h.m}else h&&(v=String(h).match(Cr))?(this.h=!1,xr(this,v[1]||"",!0),this.o=In(v[2]||""),this.g=In(v[3]||"",!0),As(this,v[4]),this.l=In(v[5]||"",!0),Bi(this,v[6]||"",!0),this.m=In(v[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}be.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Dr(v,al,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Dr(v,al,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Dr(_,_.charAt(0)=="/"?qf:ol,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Dr(_,Ra)),h.join("")};function vn(h){return new be(h)}function xr(h,v,_){h.j=_?In(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function As(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Bi(h,v,_){v instanceof ji?(h.i=v,rc(h.i,h.h)):(_||(v=Dr(v,Hf)),h.i=new ji(v,h.h))}function $t(h,v,_){h.i.set(v,_)}function Ir(h){return $t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function In(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Dr(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,sc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function sc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var al=/[#\/\?@]/g,ol=/[#\?:]/g,qf=/[#\?]/g,Hf=/[#\?@]/g,Ra=/#/g;function ji(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ff(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}n=ji.prototype,n.add=function(h,v){Dn(this),this.i=null,h=oi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function zi(h,v){Dn(h),v=oi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Fi(h,v){return Dn(h),v=oi(h,v),h.g.has(v)}n.forEach=function(h,v){Dn(this),this.g.forEach(function(_,S){_.forEach(function(j){h.call(v,j,S,this)},this)},this)},n.na=function(){Dn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let S=0;S<v.length;S++){const j=h[S];for(let Y=0;Y<j.length;Y++)_.push(v[S])}return _},n.V=function(h){Dn(this);let v=[];if(typeof h=="string")Fi(this,h)&&(v=v.concat(this.g.get(oi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},n.set=function(h,v){return Dn(this),this.i=null,h=oi(this,h),Fi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ll(h,v,_){zi(h,v),0<_.length&&(h.i=null,h.g.set(oi(h,v),H(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var S=v[_];const Y=encodeURIComponent(String(S)),lt=this.V(S);for(S=0;S<lt.length;S++){var j=Y;lt[S]!==""&&(j+="="+encodeURIComponent(String(lt[S]))),h.push(j)}}return this.i=h.join("&")};function oi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function rc(h,v){v&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(zi(this,S),ll(this,j,_))},h)),h.j=v}function Mr(h,v){const _=new xn;if(d.Image){const S=new Image;S.onload=C(Mn,_,"TestLoadImage: loaded",!0,v,S),S.onerror=C(Mn,_,"TestLoadImage: error",!1,v,S),S.onabort=C(Mn,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=C(Mn,_,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Kn(h,v){const _=new xn,S=new AbortController,j=setTimeout(()=>{S.abort(),Mn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(j),Y.ok?Mn(_,"TestPingServer: ok",!0,v):Mn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(j),Mn(_,"TestPingServer: error",!1,v)})}function Mn(h,v,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function Vr(){this.g=new Ar}function li(h,v,_){const S=_||"";try{rl(h,function(j,Y){let lt=j;g(j)&&(lt=Hn(j)),v.push(S+Y+"="+encodeURIComponent(lt))})}catch(j){throw v.push(S+"type="+encodeURIComponent("_badmap")),j}}function Ss(h){this.l=h.Ub||null,this.j=h.eb||!1}k(Ss,$o),Ss.prototype.g=function(){return new qi(this.l,this.j)},Ss.prototype.i=function(h){return function(){return h}}({});function qi(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(qi,he),n=qi.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,ci(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ui(this):ci(this),this.readyState==3&&ul(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ui(this))},n.Qa=function(h){this.g&&(this.response=h,ui(this))},n.ga=function(){this.g&&ui(this)};function ui(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ci(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function cl(h){let v="";return ft(h,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function ke(h,v,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=cl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):$t(h,v,_))}function Gt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Gt,he);var Ca=/^https?$/i,Or=["POST","PUT"];n=Gt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?Wo(this.o):Wo(si),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){ac(this,Y);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Or,v,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,lt]of _)this.g.setRequestHeader(Y,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nr(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){ac(this,Y)}};function ac(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,xa(h),hi(h)}function xa(h){h.A||(h.A=!0,Yt(h,"complete"),Yt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Yt(this,"complete"),Yt(this,"abort"),hi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},n.bb=function(){Ia(this)};function Ia(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Vn(h)!=4||h.Z()!=2)){if(h.u&&Vn(h)==4)We(h.Ea,0,h);else if(Yt(h,"readystatechange"),Vn(h)==4){h.h=!1;try{const lt=h.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var _;if(!(_=v)){var S;if(S=lt===0){var j=String(h.D).match(Cr)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),S=!Ca.test(j?j.toLowerCase():"")}_=S}if(_)Yt(h,"complete"),Yt(h,"success");else{h.m=6;try{var Y=2<Vn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",xa(h)}}finally{hi(h)}}}}function hi(h,v){if(h.g){Nr(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Yt(h,"ready");try{_.onreadystatechange=S}catch{}}}function Nr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Vn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),_a(v)}};function oc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Gf(h){const v={};h=(h.g&&2<=Vn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(J(h[S]))continue;var _=P(h[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=v[j]||[];v[j]=Y,Y.push(_)}M(v,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function Da(h){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,h),this.cb=Pr("retryDelaySeedMs",1e4,h),this.Wa=Pr("forwardChannelMaxRetries",2,h),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(h&&h.concurrentRequestLimit),this.Da=new Vr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Da.prototype,n.la=8,n.G=1,n.connect=function(h,v,_,S){se(0),this.W=h,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=mc(this,null,this.W),Va(this)};function hl(h){if(lc(h),h.G==3){var v=h.U++,_=vn(h.I);if($t(_,"SID",h.K),$t(_,"RID",v),$t(_,"TYPE","terminate"),kr(h,_),v=new an(h,h.j,v),v.L=2,v.v=Ir(vn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=pc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),wr(v)}dc(h)}function Ma(h){h.g&&(Lr(h),h.g.cancel(),h.g=null)}function lc(h){Ma(h),h.u&&(d.clearTimeout(h.u),h.u=null),Oa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Va(h){if(!ba(h.h)&&!h.s){h.s=!0;var v=h.Ga;W||D(),ot||(W(),ot=!0),xt.add(v,h),h.B=0}}function Kf(h,v){return Aa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ee(b(h.Ga,h,v),ml(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const j=new an(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=w(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)t:{for(var v=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=_;break t}if(v===4096||_===this.i.length-1){v=_+1;break t}}v=1e3}else v=1e3;v=uc(this,j,v),_=vn(this.I),$t(_,"RID",h),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),kr(this,_),Y&&(this.O?v="headers="+encodeURIComponent(String(cl(Y)))+"&"+v:this.m&&ke(_,this.m,Y)),Sa(this.h,j),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",v),$t(_,"SID","null"),j.T=!0,Gn(j,_,null)):Gn(j,_,v),this.G=2}}else this.G==3&&(h?fl(this,h):this.i.length==0||ba(this.h)||fl(this))};function fl(h,v){var _;v?_=v.l:_=h.U++;const S=vn(h.I);$t(S,"SID",h.K),$t(S,"RID",_),$t(S,"AID",h.T),kr(h,S),h.m&&h.o&&ke(S,h.m,h.o),_=new an(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=uc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Sa(h.h,_),Gn(_,S,v)}function kr(h,v){h.H&&ft(h.H,function(_,S){$t(v,S,_)}),h.l&&rl({},function(_,S){$t(v,S,_)})}function uc(h,v,_){_=Math.min(h.i.length,_);var S=h.l?b(h.l.Na,h.l,h):null;t:{var j=h.i;let Y=-1;for(;;){const lt=["count="+_];Y==-1?0<_?(Y=j[0].g,lt.push("ofs="+Y)):Y=0:lt.push("ofs="+Y);let Bt=!0;for(let Ie=0;Ie<_;Ie++){let jt=j[Ie].g;const Le=j[Ie].map;if(jt-=Y,0>jt)Y=Math.max(0,j[Ie].g-100),Bt=!1;else try{li(Le,lt,"req"+jt+"_")}catch{S&&S(Le)}}if(Bt){S=lt.join("&");break t}}}return h=h.i.splice(0,_),v.D=h,S}function cc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;W||D(),ot||(W(),ot=!0),xt.add(v,h),h.v=0}}function dl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ee(b(h.Fa,h),ml(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ee(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Ma(this),hc(this))};function Lr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function hc(h){h.g=new an(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=vn(h.qa);$t(v,"RID","rpc"),$t(v,"SID",h.K),$t(v,"AID",h.T),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&$t(v,"TO",h.ja),$t(v,"TYPE","xmlhttp"),kr(h,v),h.m&&h.o&&ke(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Ir(vn(v)),_.m=null,_.P=!0,Li(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Ma(this),dl(this),se(19))};function Oa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function fc(h,v){var _=null;if(h.g==v){Oa(h),Lr(h),h.g=null;var S=2}else if(il(h.h,v))_=v.D,on(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var j=h.B;S=vs(),Yt(S,new xe(S,_)),Va(h)}else cc(h);else if(j=v.s,j==3||j==0&&0<v.X||!(S==1&&Kf(h,v)||S==2&&dl(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),j){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function ml(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function Hi(h,v){if(h.j.info("Error code "+v),v==2){var _=b(h.fb,h),S=h.Xa;const j=!S;S=new be(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xr(S,"https"),Ir(S),j?Mr(S.toString(),_):Kn(S.toString(),_)}else se(2);h.G=0,h.l&&h.l.sa(v),dc(h),lc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function dc(h){if(h.G=0,h.ka=[],h.l){const v=sl(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ka,v),O(h.ka,h.i),h.h.i.length=0,H(h.i),h.i.length=0),h.l.ra()}}function mc(h,v,_){var S=_ instanceof be?vn(_):new be(_);if(S.g!="")v&&(S.g=v+"."+S.g),As(S,S.s);else{var j=d.location;S=j.protocol,v=v?v+"."+j.hostname:j.hostname,j=+j.port;var Y=new be(null);S&&xr(Y,S),v&&(Y.g=v),j&&As(Y,j),_&&(Y.l=_),S=Y}return _=h.D,v=h.ya,_&&v&&$t(S,_,v),$t(S,"VER",h.la),kr(h,S),S}function pc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Gt(new Ss({eb:_})):new Gt(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}n=gc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Na(){}Na.prototype.g=function(h,v){return new ln(h,v)};function ln(h,v){he.call(this),this.g=new Da(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!J(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!J(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new fi(this)}k(ln,he),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){hl(this.g)},ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Hn(h),h=_);v.i.push(new ic(v.Ya++,h)),v.G==3&&Va(v)},ln.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,ln.aa.N.call(this)};function yc(h){Pi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const _ in v){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}k(yc,Pi);function vc(){Jo.call(this),this.status=1}k(vc,Jo);function fi(h){this.g=h}k(fi,gc),fi.prototype.ua=function(){Yt(this.g,"a")},fi.prototype.ta=function(h){Yt(this.g,new yc(h))},fi.prototype.sa=function(h){Yt(this.g,new vc)},fi.prototype.ra=function(){Yt(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,n1=function(){return new Na},e1=function(){return vs()},t1=ii,Rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,Oh=Es,ki.COMPLETE="complete",JA=ki,Zo.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",he.prototype.listen=he.prototype.K,su=Zo,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,ZA=Gt}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const BT="@firebase/firestore",jT="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new mg("@firebase/firestore");function uo(){return ca.logLevel}function dt(n,...t){if(ca.logLevel<=Lt.DEBUG){const e=t.map(Cg);ca.debug(`Firestore (${Bo}): ${n}`,...e)}}function ds(n,...t){if(ca.logLevel<=Lt.ERROR){const e=t.map(Cg);ca.error(`Firestore (${Bo}): ${n}`,...e)}}function Ro(n,...t){if(ca.logLevel<=Lt.WARN){const e=t.map(Cg);ca.warn(`Firestore (${Bo}): ${n}`,...e)}}function Cg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,i1(n,s,e)}function i1(n,t,e){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ds(s),new Error(s)}function Kt(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||i1(t,a,s)}function It(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Mi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(en.UNAUTHENTICATED))}shutdown(){}}class OD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ND{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let u=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new nr,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new nr)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new s1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class PD{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kD{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new PD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const a=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new zT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=UD(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<e&&(s+=t.charAt(a[u]%62))}return s}}function Vt(n,t){return n<t?-1:n>t?1:0}function Cp(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=n.codePointAt(e),a=t.codePointAt(e);if(s!==a){if(s<128&&a<128)return Vt(s,a);{const u=r1(),c=BD(u.encode(FT(n,e)),u.encode(FT(t,e)));return c!==0?c:Vt(s,a)}}e+=s>65535?2:1}return Vt(n.length,t.length)}function FT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function BD(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Vt(n[e],t[e]);return Vt(n.length,t.length)}function Co(n,t,e){return n.length===t.length&&n.every((s,a)=>e(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=-62135596800,HT=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(t){return Oe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*HT);return new Oe(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<qT)throw new mt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HT}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-qT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new Oe(0,0))}static max(){return new Ct(new Oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__name__";class _i{constructor(t,e,s){e===void 0?e=0:e>t.length&&At(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&At(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return _i.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof _i?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const u=_i.compareSegments(t.get(a),e.get(a));if(u!==0)return u}return Vt(t.length,e.length)}static compareSegments(t,e){const s=_i.isNumericId(t),a=_i.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?_i.extractNumericId(t).compare(_i.extractNumericId(e)):Cp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return er.fromString(t.substring(4,t.length-2))}}class ie extends _i{construct(t,e,s){return new ie(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(a=>a.length>0))}return new ie(e)}static emptyPath(){return new ie([])}}const jD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends _i{construct(t,e,s){return new Xe(t,e,s)}static isValidIdentifier(t){return jD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GT}static keyField(){return new Xe([GT])}static fromServerFormat(t){const e=[];let s="",a=0;const u=()=>{if(s.length===0)throw new mt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new mt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new mt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(u(),a++)}if(u(),c)throw new mt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(e)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ie.fromString(t))}static fromName(t){return new vt(ie.fromString(t).popFirst(5))}static empty(){return new vt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ie.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function zD(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Ct.fromTimestamp(s===1e9?new Oe(e+1,0):new Oe(e,s));return new ar(a,vt.empty(),t)}function FD(n){return new ar(n.readTime,n.key,Au)}class ar{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ar(Ct.min(),vt.empty(),Au)}static max(){return new ar(Ct.max(),vt.empty(),Au)}}function qD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:Vt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==HD)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):et.reject(e)}static resolve(t){return new et((e,s)=>{e(t)})}static reject(t){return new et((e,s)=>{s(t)})}static waitFor(t){return new et((e,s)=>{let a=0,u=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++u,c&&u===a&&e()},m=>s(m))}),c=!0,u===a&&e()})}static or(t){let e=et.resolve(!1);for(const s of t)e=e.next(a=>a?et.resolve(a):s());return e}static forEach(t,e){const s=[];return t.forEach((a,u)=>{s.push(e.call(this,a,u))}),this.waitFor(s)}static mapArray(t,e){return new et((s,a)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;e(t[g]).next(y=>{c[g]=y,++d,d===u&&s(c)},y=>a(y))}})}static doWhile(t,e){return new et((s,a)=>{const u=()=>{t()===!0?e().next(()=>{u()},a):s()};u()})}}function KD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}_f.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=-1;function Tf(n){return n==null}function Wh(n){return n===0&&1/n==-1/0}function YD(n){return typeof n=="number"&&Number.isInteger(n)&&!Wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="";function QD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=KT(t)),t=XD(n.get(e),t);return KT(t)}function XD(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const u=n.charAt(a);switch(u){case"\0":e+="";break;case o1:e+="";break;default:e+=u}}return e}function KT(n){return n+o1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function da(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function l1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,e){this.comparator=t,this.root=e||Qe.EMPTY}insert(t,e){return new ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Eh(this.root,t,this.comparator,!0)}}class Eh{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&a&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,e,s,a,u){this.key=t,this.value=e,this.color=s??Qe.RED,this.left=a??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,u){return new Qe(t??this.key,e??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const u=s(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,e,s),null):u===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Qe.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,e,s,a,u){return this}insert(t,e,s){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new QT(this.data.getIterator())}getIteratorFrom(t){return new QT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ne(this.comparator);return e.data=t,e}}class QT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Jn([])}unionWith(t){let e=new Ne(Xe.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Jn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Co(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new u1("Invalid base64 string: "+u):u}}(t);return new $e(e)}static fromUint8Array(t){const e=function(a){let u="";for(let c=0;c<a.length;++c)u+=String.fromCharCode(a[c]);return u}(t);return new $e(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const $D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=$D.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function lr(n){return typeof n=="string"?$e.fromBase64String(n):$e.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="server_timestamp",h1="__type__",f1="__previous_value__",d1="__local_write_time__";function Ig(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[h1])===null||e===void 0?void 0:e.stringValue)===c1}function Ef(n){const t=n.mapValue.fields[f1];return Ig(t)?Ef(t):t}function Su(n){const t=or(n.mapValue.fields[d1].timestampValue);return new Oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t,e,s,a,u,c,d,m,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Zh="(default)";class wu{constructor(t,e){this.projectId=t,this.database=e||Zh}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(t){return t instanceof wu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="__type__",ZD="__max__",bh={mapValue:{}},p1="__vector__",Jh="value";function ur(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ig(n)?4:tM(n)?9007199254740991:JD(n)?10:11:At(28295,{value:n})}function Ii(n,t){if(n===t)return!0;const e=ur(n);if(e!==ur(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Su(n).isEqual(Su(t));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const c=or(a.timestampValue),d=or(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,u){return lr(a.bytesValue).isEqual(lr(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,u){return Te(a.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(a.geoPointValue.longitude)===Te(u.geoPointValue.longitude)}(n,t);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return Te(a.integerValue)===Te(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const c=Te(a.doubleValue),d=Te(u.doubleValue);return c===d?Wh(c)===Wh(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return Co(n.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return function(a,u){const c=a.mapValue.fields||{},d=u.mapValue.fields||{};if(YT(c)!==YT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ii(c[m],d[m])))return!1;return!0}(n,t);default:return At(52216,{left:n})}}function Ru(n,t){return(n.values||[]).find(e=>Ii(e,t))!==void 0}function xo(n,t){if(n===t)return 0;const e=ur(n),s=ur(t);if(e!==s)return Vt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,t.booleanValue);case 2:return function(u,c){const d=Te(u.integerValue||u.doubleValue),m=Te(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return XT(n.timestampValue,t.timestampValue);case 4:return XT(Su(n),Su(t));case 5:return Cp(n.stringValue,t.stringValue);case 6:return function(u,c){const d=lr(u),m=lr(c);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Vt(d[g],m[g]);if(y!==0)return y}return Vt(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,c){const d=Vt(Te(u.latitude),Te(c.latitude));return d!==0?d:Vt(Te(u.longitude),Te(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return $T(n.arrayValue,t.arrayValue);case 10:return function(u,c){var d,m,g,y;const E=u.fields||{},b=c.fields||{},C=(d=E[Jh])===null||d===void 0?void 0:d.arrayValue,k=(m=b[Jh])===null||m===void 0?void 0:m.arrayValue,H=Vt(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0);return H!==0?H:$T(C,k)}(n.mapValue,t.mapValue);case 11:return function(u,c){if(u===bh.mapValue&&c===bh.mapValue)return 0;if(u===bh.mapValue)return 1;if(c===bh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const b=Cp(m[E],y[E]);if(b!==0)return b;const C=xo(d[m[E]],g[y[E]]);if(C!==0)return C}return Vt(m.length,y.length)}(n.mapValue,t.mapValue);default:throw At(23264,{Pe:e})}}function XT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Vt(n,t);const e=or(n),s=or(t),a=Vt(e.seconds,s.seconds);return a!==0?a:Vt(e.nanos,s.nanos)}function $T(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const u=xo(e[a],s[a]);if(u)return u}return Vt(e.length,s.length)}function Io(n){return xp(n)}function xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const s=or(e);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return lr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return vt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let s="[",a=!0;for(const u of e.values||[])a?a=!1:s+=",",s+=xp(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(e){const s=Object.keys(e.fields||{}).sort();let a="{",u=!0;for(const c of s)u?u=!1:a+=",",a+=`${c}:${xp(e.fields[c])}`;return a+"}"}(n.mapValue):At(61005,{value:n})}function Nh(n){switch(ur(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ef(n);return t?16+Nh(t):16;case 5:return 2*n.stringValue.length;case 6:return lr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+Nh(u),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return da(s.fields,(u,c)=>{a+=u.length+Nh(c)}),a}(n.mapValue);default:throw At(13486,{value:n})}}function WT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ip(n){return!!n&&"integerValue"in n}function Dg(n){return!!n&&"arrayValue"in n}function ZT(n){return!!n&&"nullValue"in n}function JT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ph(n){return!!n&&"mapValue"in n}function JD(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[m1])===null||e===void 0?void 0:e.stringValue)===p1}function fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return da(n.mapValue.fields,(e,s)=>t.mapValue.fields[e]=fu(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=fu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function tM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Ph(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=fu(e)}setAll(t){let e=Xe.emptyPath(),s={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,s,a),s={},a=[],e=d.popLast()}c?s[d.lastSegment()]=fu(c):a.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,s,a)}delete(t){const e=this.field(t.popLast());Ph(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];Ph(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){da(e,(a,u)=>t[a]=u);for(const a of s)delete t[a]}clone(){return new Fn(fu(this.value))}}function g1(n){const t=[];return da(n.fields,(e,s)=>{const a=new Xe([e]);if(Ph(s)){const u=g1(s.mapValue).fields;if(u.length===0)t.push(a);else for(const c of u)t.push(a.child(c))}else t.push(a)}),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e,s,a,u,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new nn(t,0,Ct.min(),Ct.min(),Ct.min(),Fn.empty(),0)}static newFoundDocument(t,e,s,a){return new nn(t,1,e,Ct.min(),s,a,0)}static newNoDocument(t,e){return new nn(t,2,e,Ct.min(),Ct.min(),Fn.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,Ct.min(),Ct.min(),Fn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,e){this.position=t,this.inclusive=e}}function tE(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const u=t[a],c=n.position[a];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),e.key):s=xo(c,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function eE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ii(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,e="asc"){this.field=t,this.dir=e}}function eM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{}class Ce extends y1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new iM(t,e,s):e==="array-contains"?new aM(t,s):e==="in"?new oM(t,s):e==="not-in"?new lM(t,s):e==="array-contains-any"?new uM(t,s):new Ce(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new sM(t,s):new rM(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(xo(e,this.value)):e!==null&&ur(this.value)===ur(e)&&this.matchesComparison(xo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends y1{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new ei(t,e)}matches(t){return v1(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function v1(n){return n.op==="and"}function _1(n){return nM(n)&&v1(n)}function nM(n){for(const t of n.filters)if(t instanceof ei)return!1;return!0}function Dp(n){if(n instanceof Ce)return n.field.canonicalString()+n.op.toString()+Io(n.value);if(_1(n))return n.filters.map(t=>Dp(t)).join(",");{const t=n.filters.map(e=>Dp(e)).join(",");return`${n.op}(${t})`}}function T1(n,t){return n instanceof Ce?function(s,a){return a instanceof Ce&&s.op===a.op&&s.field.isEqual(a.field)&&Ii(s.value,a.value)}(n,t):n instanceof ei?function(s,a){return a instanceof ei&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,c,d)=>u&&T1(c,a.filters[d]),!0):!1}(n,t):void At(19439)}function E1(n){return n instanceof Ce?function(e){return`${e.field.canonicalString()} ${e.op} ${Io(e.value)}`}(n):n instanceof ei?function(e){return e.op.toString()+" {"+e.getFilters().map(E1).join(" ,")+"}"}(n):"Filter"}class iM extends Ce{constructor(t,e,s){super(t,e,s),this.key=vt.fromName(s.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class sM extends Ce{constructor(t,e){super(t,"in",e),this.keys=b1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class rM extends Ce{constructor(t,e){super(t,"not-in",e),this.keys=b1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function b1(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>vt.fromName(s.referenceValue))}class aM extends Ce{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Dg(e)&&Ru(e.arrayValue,this.value)}}class oM extends Ce{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ru(this.value.arrayValue,e)}}class lM extends Ce{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ru(this.value.arrayValue,e)}}class uM extends Ce{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Dg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t,e=null,s=[],a=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=c,this.endAt=d,this.Ie=null}}function nE(n,t=null,e=[],s=[],a=null,u=null,c=null){return new cM(n,t,e,s,a,u,c)}function Mg(n){const t=It(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Dp(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Tf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Io(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Io(s)).join(",")),t.Ie=e}return t.Ie}function Vg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!eM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!T1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!eE(n.startAt,t.startAt)&&eE(n.endAt,t.endAt)}function Mp(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,e=null,s=[],a=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hM(n,t,e,s,a,u,c,d){return new Fo(n,t,e,s,a,u,c,d)}function Og(n){return new Fo(n)}function iE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function A1(n){return n.collectionGroup!==null}function du(n){const t=It(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ne(Xe.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Cu(u,s))}),e.has(Xe.keyField().canonicalString())||t.Ee.push(new Cu(Xe.keyField(),s))}return t.Ee}function Ai(n){const t=It(n);return t.de||(t.de=fM(t,du(n))),t.de}function fM(n,t){if(n.limitType==="F")return nE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new Cu(a.field,u)});const e=n.endAt?new tf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new tf(n.startAt.position,n.startAt.inclusive):null;return nE(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Vp(n,t){const e=n.filters.concat([t]);return new Fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Op(n,t,e){return new Fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bf(n,t){return Vg(Ai(n),Ai(t))&&n.limitType===t.limitType}function S1(n){return`${Mg(Ai(n))}|lt:${n.limitType}`}function co(n){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(a=>E1(a)).join(", ")}]`),Tf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>Io(a)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>Io(a)).join(",")),`Target(${s})`}(Ai(n))}; limitType=${n.limitType})`}function Af(n,t){return t.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(n,t)&&function(s,a){for(const u of du(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(n,t)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(n,t)&&function(s,a){return!(s.startAt&&!function(c,d,m){const g=tE(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,du(s),a)||s.endAt&&!function(c,d,m){const g=tE(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,du(s),a))}(n,t)}function dM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function w1(n){return(t,e)=>{let s=!1;for(const a of du(n)){const u=mM(a,t,e);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function mM(n,t,e){const s=n.field.isKeyField()?vt.comparator(t.key,e.key):function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?xo(m,g):At(42886)}(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],t))return void(a[u]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){da(this.inner,(e,s)=>{for(const[a,u]of s)t(a,u)})}isEmpty(){return l1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new ce(vt.comparator);function ms(){return pM}const R1=new ce(vt.comparator);function ru(...n){let t=R1;for(const e of n)t=t.insert(e.key,e);return t}function C1(n){let t=R1;return n.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function na(){return mu()}function x1(){return mu()}function mu(){return new ma(n=>n.toString(),(n,t)=>n.isEqual(t))}const gM=new ce(vt.comparator),yM=new Ne(vt.comparator);function Ut(...n){let t=yM;for(const e of n)t=t.add(e);return t}const vM=new Ne(Vt);function _M(){return vM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(t)?"-0":t}}function I1(n){return{integerValue:""+n}}function TM(n,t){return YD(t)?I1(t):Ng(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function EM(n,t,e){return n instanceof xu?function(a,u){const c={fields:{[h1]:{stringValue:c1},[d1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Ig(u)&&(u=Ef(u)),u&&(c.fields[f1]=u),{mapValue:c}}(e,t):n instanceof Iu?M1(n,t):n instanceof Du?V1(n,t):function(a,u){const c=D1(a,u),d=sE(c)+sE(a.Re);return Ip(c)&&Ip(a.Re)?I1(d):Ng(a.serializer,d)}(n,t)}function bM(n,t,e){return n instanceof Iu?M1(n,t):n instanceof Du?V1(n,t):e}function D1(n,t){return n instanceof ef?function(s){return Ip(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class xu extends Sf{}class Iu extends Sf{constructor(t){super(),this.elements=t}}function M1(n,t){const e=O1(t);for(const s of n.elements)e.some(a=>Ii(a,s))||e.push(s);return{arrayValue:{values:e}}}class Du extends Sf{constructor(t){super(),this.elements=t}}function V1(n,t){let e=O1(t);for(const s of n.elements)e=e.filter(a=>!Ii(a,s));return{arrayValue:{values:e}}}class ef extends Sf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function sE(n){return Te(n.integerValue||n.doubleValue)}function O1(n){return Dg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,e){this.field=t,this.transform=e}}function SM(n,t){return n.field.isEqual(t.field)&&function(s,a){return s instanceof Iu&&a instanceof Iu||s instanceof Du&&a instanceof Du?Co(s.elements,a.elements,Ii):s instanceof ef&&a instanceof ef?Ii(s.Re,a.Re):s instanceof xu&&a instanceof xu}(n.transform,t.transform)}class wM{constructor(t,e){this.version=t,this.transformResults=e}}class Si{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Si}static exists(t){return new Si(void 0,t)}static updateTime(t){return new Si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class wf{}function N1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Pg(n.key,Si.none()):new zu(n.key,n.data,Si.none());{const e=n.data,s=Fn.empty();let a=new Ne(Xe.comparator);for(let u of t.fields)if(!a.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?s.delete(u):s.set(u,c),a=a.add(u)}return new pa(n.key,s,new Jn(a.toArray()),Si.none())}}function RM(n,t,e){n instanceof zu?function(a,u,c){const d=a.value.clone(),m=aE(a.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof pa?function(a,u,c){if(!kh(a.precondition,u))return void u.convertToUnknownDocument(c.version);const d=aE(a.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(P1(a)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,t,e):function(a,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function pu(n,t,e,s){return n instanceof zu?function(u,c,d,m){if(!kh(u.precondition,c))return d;const g=u.value.clone(),y=oE(u.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,s):n instanceof pa?function(u,c,d,m){if(!kh(u.precondition,c))return d;const g=oE(u.fieldTransforms,m,c),y=c.data;return y.setAll(P1(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,e,s):function(u,c,d){return kh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function CM(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),u=D1(s.transform,a||null);u!=null&&(e===null&&(e=Fn.empty()),e.set(s.field,u))}return e||null}function rE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Co(s,a,(u,c)=>SM(u,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class zu extends wf{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class pa extends wf{constructor(t,e,s,a,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P1(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}}),t}function aE(n,t,e){const s=new Map;Kt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let a=0;a<e.length;a++){const u=n[a],c=u.transform,d=t.data.field(u.field);s.set(u.field,bM(c,d,e[a]))}return s}function oE(n,t,e){const s=new Map;for(const a of n){const u=a.transform,c=e.data.field(a.field);s.set(a.field,EM(u,c,t))}return s}class Pg extends wf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xM extends wf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(t.key)&&RM(u,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=pu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=pu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=x1();return this.mutations.forEach(a=>{const u=t.get(a.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(a.key)?null:d;const m=N1(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ct.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ut())}isEqual(t){return this.batchId===t.batchId&&Co(this.mutations,t.mutations,(e,s)=>rE(e,s))&&Co(this.baseMutations,t.baseMutations,(e,s)=>rE(e,s))}}class kg{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){Kt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let a=function(){return gM}();const u=t.mutations;for(let c=0;c<u.length;c++)a=a.insert(u[c].key,s[c].version);return new kg(t,e,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Ft;function VM(n){switch(n){case it.OK:return At(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return At(15467,{code:n})}}function k1(n){if(n===void 0)return ds("GRPC error has no .code"),it.UNKNOWN;switch(n){case we.OK:return it.OK;case we.CANCELLED:return it.CANCELLED;case we.UNKNOWN:return it.UNKNOWN;case we.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case we.INTERNAL:return it.INTERNAL;case we.UNAVAILABLE:return it.UNAVAILABLE;case we.UNAUTHENTICATED:return it.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case we.NOT_FOUND:return it.NOT_FOUND;case we.ALREADY_EXISTS:return it.ALREADY_EXISTS;case we.PERMISSION_DENIED:return it.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case we.ABORTED:return it.ABORTED;case we.OUT_OF_RANGE:return it.OUT_OF_RANGE;case we.UNIMPLEMENTED:return it.UNIMPLEMENTED;case we.DATA_LOSS:return it.DATA_LOSS;default:return At(39323,{code:n})}}(Ft=we||(we={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new er([4294967295,4294967295],0);function lE(n){const t=r1().encode(n),e=new WA;return e.update(t),new Uint8Array(e.digest())}function uE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new er([e,s],0),new er([a,u],0)]}class Lg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new au(`Invalid padding: ${e}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new au(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=er.fromNumber(this.pe)}we(t,e,s){let a=t.add(e.multiply(er.fromNumber(s)));return a.compare(OM)===1&&(a=new er([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=lE(t),[s,a]=uE(e);for(let u=0;u<this.hashCount;u++){const c=this.we(s,a,u);if(!this.Se(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Lg(u,a,e);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const e=lE(t),[s,a]=uE(e);for(let u=0;u<this.hashCount;u++){const c=this.we(s,a,u);this.be(c)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,e,s,a,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Rf(Ct.min(),a,new ce(Vt),ms(),Ut())}}class Fu{constructor(t,e,s,a,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Fu(s,e,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e,s,a){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=a}}class L1{constructor(t,e){this.targetId=t,this.Ce=e}}class U1{constructor(t,e,s=$e.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class cE{constructor(){this.Fe=0,this.Me=hE(),this.xe=$e.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ut(),e=Ut(),s=Ut();return this.Me.forEach((a,u)=>{switch(u){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:At(38017,{changeType:u})}}),new Fu(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=hE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class NM{constructor(t){this.ze=t,this.je=new Map,this.He=ms(),this.Je=Ah(),this.Ye=Ah(),this.Ze=new ce(Vt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,s=t.Ce.count,a=this._t(e);if(a){const u=a.target;if(Mp(u))if(s===0){const c=new vt(u.path);this.tt(e,c,nn.newNoDocument(c,Ct.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this.ut(e);if(c!==s){const d=this.ct(t),m=d?this.lt(d,t,c):1;if(m!==0){this.st(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=e;let c,d;try{c=lr(s).toUint8Array()}catch(m){if(m instanceof u1)return Ro("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Lg(c,a,u)}catch(m){return Ro(m instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let a=0;return s.forEach(u=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,u,null),a++)}),a}It(t){const e=new Map;this.je.forEach((u,c)=>{const d=this._t(c);if(d){if(u.current&&Mp(d.target)){const m=new vt(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,nn.newNoDocument(m,t))}u.Le&&(e.set(c,u.qe()),u.Qe())}});let s=Ut();this.Ye.forEach((u,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.He.forEach((u,c)=>c.setReadTime(t));const a=new Rf(t,e,this.Ze,this.He,s);return this.He=ms(),this.Je=Ah(),this.Ye=Ah(),this.Ze=new ce(Vt),a}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new cE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ne(Vt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ne(Vt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new cE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Ah(){return new ce(vt.comparator)}function hE(){return new ce(vt.comparator)}const PM={asc:"ASCENDING",desc:"DESCENDING"},kM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LM={and:"AND",or:"OR"};class UM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Np(n,t){return n.useProto3Json||Tf(t)?t:{value:t}}function nf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function B1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function BM(n,t){return nf(n,t.toTimestamp())}function wi(n){return Kt(!!n,49232),Ct.fromTimestamp(function(e){const s=or(e);return new Oe(s.seconds,s.nanos)}(n))}function Ug(n,t){return Pp(n,t).canonicalString()}function Pp(n,t){const e=function(a){return new ie(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function j1(n){const t=ie.fromString(n);return Kt(G1(t),10190,{key:t.toString()}),t}function kp(n,t){return Ug(n.databaseId,t.path)}function $m(n,t){const e=j1(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(F1(e))}function z1(n,t){return Ug(n.databaseId,t)}function jM(n){const t=j1(n);return t.length===4?ie.emptyPath():F1(t)}function Lp(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F1(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function fE(n,t,e){return{name:kp(n,t),fields:e.value.mapValue.fields}}function zM(n,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:At(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],u=function(g,y){return g.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),$e.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),$e.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const y=g.code===void 0?it.UNKNOWN:k1(g.code);return new mt(y,g.message||"")}(c);e=new U1(s,a,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=$m(n,s.document.name),u=wi(s.document.updateTime),c=s.document.createTime?wi(s.document.createTime):Ct.min(),d=new Fn({mapValue:{fields:s.document.fields}}),m=nn.newFoundDocument(a,u,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];e=new Lh(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=$m(n,s.document),u=s.readTime?wi(s.readTime):Ct.min(),c=nn.newNoDocument(a,u),d=s.removedTargetIds||[];e=new Lh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=$m(n,s.document),u=s.removedTargetIds||[];e=new Lh([],u,a,null)}else{if(!("filter"in t))return At(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,c=new MM(a,u),d=s.targetId;e=new L1(d,c)}}return e}function FM(n,t){let e;if(t instanceof zu)e={update:fE(n,t.key,t.value)};else if(t instanceof Pg)e={delete:kp(n,t.key)};else if(t instanceof pa)e={update:fE(n,t.key,t.data),updateMask:WM(t.fieldMask)};else{if(!(t instanceof xM))return At(16599,{ft:t.type});e={verify:kp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(u,c){const d=c.transform;if(d instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ef)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw At(20930,{transform:c.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:BM(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:At(27497)}(n,t.precondition)),e}function qM(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map(e=>function(a,u){let c=a.updateTime?wi(a.updateTime):wi(u);return c.isEqual(Ct.min())&&(c=wi(u)),new wM(c,a.transformResults||[])}(e,t))):[]}function HM(n,t){return{documents:[z1(n,t.path)]}}function GM(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=z1(n,a);const u=function(g){if(g.length!==0)return H1(ei.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const c=function(g){if(g.length!==0)return g.map(y=>function(b){return{field:ho(b.field),direction:QM(b.dir)}}(y))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Np(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:a}}function KM(n){let t=jM(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){Kt(s===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let u=[];e.where&&(u=function(E){const b=q1(E);return b instanceof ei&&_1(b)?b.getFilters():[b]}(e.where));let c=[];e.orderBy&&(c=function(E){return E.map(b=>function(k){return new Cu(fo(k.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(b))}(e.orderBy));let d=null;e.limit&&(d=function(E){let b;return b=typeof E=="object"?E.value:E,Tf(b)?null:b}(e.limit));let m=null;e.startAt&&(m=function(E){const b=!!E.before,C=E.values||[];return new tf(C,b)}(e.startAt));let g=null;return e.endAt&&(g=function(E){const b=!E.before,C=E.values||[];return new tf(C,b)}(e.endAt)),hM(t,a,c,u,d,"F",m,g)}function YM(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function q1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=fo(e.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=fo(e.unaryFilter.field);return Ce.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(e.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=fo(e.unaryFilter.field);return Ce.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ce.create(fo(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ei.create(e.compositeFilter.filters.map(s=>q1(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(e.compositeFilter.op))}(n):At(30097,{filter:n})}function QM(n){return PM[n]}function XM(n){return kM[n]}function $M(n){return LM[n]}function ho(n){return{fieldPath:n.canonicalString()}}function fo(n){return Xe.fromServerFormat(n.fieldPath)}function H1(n){return n instanceof Ce?function(e){if(e.op==="=="){if(JT(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NAN"}};if(ZT(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(JT(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NOT_NAN"}};if(ZT(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(e.field),op:XM(e.op),value:e.value}}}(n):n instanceof ei?function(e){const s=e.getFilters().map(a=>H1(a));return s.length===1?s[0]:{compositeFilter:{op:$M(e.op),filters:s}}}(n):At(54877,{filter:n})}function WM(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function G1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,e,s,a,u=Ct.min(),c=Ct.min(),d=$e.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(t){this.wt=t}}function JM(n){const t=KM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Op(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.Cn=new eV}addToCollectionParentIndex(t,e){return this.Cn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(ar.min())}updateCollectionGroup(t,e,s){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class eV{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Ne(ie.comparator),u=!a.has(s);return this.index[e]=a.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Ne(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K1=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(K1,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Do(0)}static lr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="LruGarbageCollector",nV=1048576;function pE([n,t],[e,s]){const a=Vt(n,e);return a===0?Vt(t,s):a}class iV{constructor(t){this.Er=t,this.buffer=new Ne(pE),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();pE(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class sV{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){dt(mE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){zo(e)?dt(mE,"Ignoring IndexedDB error during garbage collection: ",e):await jo(e)}await this.mr(3e5)})}}class rV{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return et.resolve(_f.le);const s=new iV(e);return this.gr.forEachTarget(t,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(dE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,a,u,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,e))).next(E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(g=Date.now(),uo()<=Lt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:E})))}}function aV(n,t){return new rV(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.changes=new ma(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?et.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(s!==null&&pu(s.mutation,a,Jn.empty(),Oe.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Ut()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Ut()){const a=na();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,s).next(u=>{let c=ru();return u.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const s=na();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Ut()))}populateOverlays(t,e,s){const a=[];return s.forEach(u=>{e.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(t,a).next(u=>{u.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,s,a){let u=ms();const c=mu(),d=function(){return mu()}();return e.forEach((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof pa)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),pu(y.mutation,g,y.mutation.getFieldMask(),Oe.now())):c.set(g.key,Jn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,y)=>c.set(g,y)),e.forEach((g,y)=>{var E;return d.set(g,new lV(y,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,e){const s=mu();let a=new ce((c,d)=>c-d),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=e.get(m);if(g===null)return;let y=s.get(m)||Jn.empty();y=d.applyToLocalView(g,y),s.set(m,y);const E=(a.get(d.batchId)||Ut()).add(m);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,E=x1();y.forEach(b=>{if(!u.has(b)){const C=N1(e.get(b),s.get(b));C!==null&&E.set(b,C),u=u.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return et.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,a){return function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):A1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next(u=>{const c=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-u.size):et.resolve(na());let d=Au,m=u;return c.next(g=>et.forEach(g,(y,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(y)?et.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Ut())).next(y=>({batchId:d,changes:C1(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next(s=>{let a=ru();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const u=e.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(t,u).next(d=>et.forEach(d,m=>{const g=function(E,b){return new Fo(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(e,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next(y=>{y.forEach((E,b)=>{c=c.insert(E,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,a))).next(c=>{u.forEach((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,nn.newInvalidDocument(y)))});let d=ru();return c.forEach((m,g)=>{const y=u.get(m);y!==void 0&&pu(y.mutation,g,Jn.empty(),Oe.now()),Af(e,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return et.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:wi(a.createTime)}}(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(a){return{name:a.name,query:JM(a.bundledQuery),readTime:wi(a.readTime)}}(e)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.overlays=new ce(vt.comparator),this.Qr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const s=na();return et.forEach(e,a=>this.getOverlay(t,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((a,u)=>{this.bt(t,e,u)}),et.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),et.resolve()}getOverlaysForCollection(t,e,s){const a=na(),u=e.length+1,c=new vt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&a.set(m.getKey(),m)}return et.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let u=new ce((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let y=u.get(g.largestBatchId);y===null&&(y=na(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=na(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=a)););return et.resolve(d)}bt(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new DM(e,s));let u=this.Qr.get(e);u===void 0&&(u=Ut(),this.Qr.set(e,u)),this.Qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.$r=new Ne(ze.Ur),this.Kr=new Ne(ze.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new ze(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new ze(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new vt(new ie([])),s=new ze(e,t),a=new ze(e,t+1),u=[];return this.Kr.forEachInRange([s,a],c=>{this.zr(c),u.push(c.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new vt(new ie([])),s=new ze(e,t),a=new ze(e,t+1);let u=Ut();return this.Kr.forEachInRange([s,a],c=>{u=u.add(c.key)}),u}containsKey(t){const e=new ze(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return vt.comparator(t.key,e.key)||Vt(t.Zr,e.Zr)}static Wr(t,e){return Vt(t.Zr,e.Zr)||vt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Ne(ze.Ur)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new IM(u,e,s,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new ze(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.ti(s),u=a<0?0:a;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?xg:this.nr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new ze(e,0),a=new ze(e,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,a],c=>{const d=this.ei(c.Zr);u.push(d)}),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ne(Vt);return e.forEach(a=>{const u=new ze(a,0),c=new ze(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,c],d=>{s=s.add(d.Zr)})}),et.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const c=new ze(new vt(u),0);let d=new Ne(Vt);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Zr)),!0)},c),et.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(s=>{const a=this.ei(s);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){Kt(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return et.forEach(e.mutations,a=>{const u=new ze(a.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new ze(e,0),a=this.Xr.firstAfterOrEqual(s);return et.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(t){this.ii=t,this.docs=function(){return new ce(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),u=a?a.size:0,c=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return et.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let s=ms();return e.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():nn.newInvalidDocument(a))}),et.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let u=ms();const c=e.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||qD(FD(y),s)<=0||(a.has(y.key)||Af(e,y))&&(u=u.insert(y.key,y.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,e,s,a){At(9500)}si(t,e){return et.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new pV(this)}getSize(t){return et.resolve(this.size)}}class pV extends oV{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?e.push(this.Br.addEntry(t,a)):this.Br.removeEntry(s)}),et.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(t){this.persistence=t,this.oi=new ma(e=>Mg(e),Vg),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this._i=0,this.ai=new Bg,this.targetCount=0,this.ui=Do.cr()}forEachTarget(t,e){return this.oi.forEach((s,a)=>e(a)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),et.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Do(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.Tr(e),et.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,s){let a=0;const u=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.oi.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),et.waitFor(u).next(()=>a)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return et.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),et.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const a=this.persistence.referenceDelegate,u=[];return a&&e.forEach(c=>{u.push(a.markPotentiallyOrphaned(t,c))}),et.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return et.resolve(s)}containsKey(t,e){return et.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,e){this.ci={},this.overlays={},this.li=new _f(0),this.hi=!1,this.hi=!0,this.Pi=new fV,this.referenceDelegate=t(this),this.Ti=new gV(this),this.indexManager=new tV,this.remoteDocumentCache=function(a){return new mV(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new ZM(e),this.Ei=new cV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new hV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new dV(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){dt("MemoryPersistence","Starting transaction:",t);const a=new yV(this.li.next());return this.referenceDelegate.di(),s(a).next(u=>this.referenceDelegate.Ai(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ri(t,e){return et.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class yV extends GD{constructor(t){super(),this.currentSequenceNumber=t}}class jg{constructor(t){this.persistence=t,this.Vi=new Bg,this.mi=null}static fi(t){return new jg(t)}get gi(){if(this.mi)return this.mi;throw At(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),et.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),et.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.gi,s=>{const a=vt.fromPath(s);return this.pi(t,a).next(u=>{u||e.removeEntry(a,Ct.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return et.or([()=>et.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class sf{constructor(t,e){this.persistence=t,this.yi=new ma(s=>QD(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=aV(this,e)}static fi(t,e){return new sf(t,e)}di(){}Ai(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(a=>s+a))}Sr(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return et.forEach(this.yi,(s,a)=>this.Dr(t,s,a).next(u=>u?et.resolve():e(a)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,e).next(d=>{d||(s++,u.removeEntry(c,Ct.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),et.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Nh(t.data.value)),e}Dr(t,e,s){return et.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.yi.get(e);return et.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.ds=s,this.As=a}static Rs(t,e){let s=Ut(),a=Ut();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new zg(t,e.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return dx()?8:KD(rn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,a){const u={result:null};return this.ws(t,e).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.Ss(t,e,a,s).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new vV;return this.bs(t,e,c).next(d=>{if(u.result=d,this.fs)return this.Ds(t,e,c,d.size)})}).next(()=>u.result)}Ds(t,e,s,a){return s.documentReadCount<this.gs?(uo()<=Lt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",co(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),et.resolve()):(uo()<=Lt.DEBUG&&dt("QueryEngine","Query:",co(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(uo()<=Lt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",co(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(e))):et.resolve())}ws(t,e){if(iE(e))return et.resolve(null);let s=Ai(e);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=Op(e,null,"F"),s=Ai(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const c=Ut(...u);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.vs(e,d);return this.Cs(e,g,c,m.readTime)?this.ws(t,Op(e,null,"F")):this.Fs(t,g,e,m)}))})))}Ss(t,e,s,a){return iE(e)||a.isEqual(Ct.min())?et.resolve(null):this.ys.getDocuments(t,s).next(u=>{const c=this.vs(e,u);return this.Cs(e,c,s,a)?et.resolve(null):(uo()<=Lt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),co(e)),this.Fs(t,c,e,zD(a,Au)).next(d=>d))})}vs(t,e){let s=new Ne(w1(t));return e.forEach((a,u)=>{Af(t,u)&&(s=s.add(u))}),s}Cs(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}bs(t,e,s){return uo()<=Lt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",co(e)),this.ys.getDocumentsMatchingQuery(t,e,ar.min(),s)}Fs(t,e,s,a){return this.ys.getDocumentsMatchingQuery(t,s,a).next(u=>(e.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="LocalStore",TV=3e8;class EV{constructor(t,e,s,a){this.persistence=t,this.Ms=e,this.serializer=a,this.xs=new ce(Vt),this.Os=new ma(u=>Mg(u),Vg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function bV(n,t,e,s){return new EV(n,t,e,s)}async function Q1(n,t){const e=It(n);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(u=>{const c=[],d=[];let m=Ut();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function AV(n,t){const e=It(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),u=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,y){const E=g.batch,b=E.keys();let C=et.resolve();return b.forEach(k=>{C=C.next(()=>y.getEntry(m,k)).next(H=>{const O=g.docVersions.get(k);Kt(O!==null,48541),H.version.compareTo(O)<0&&(E.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),y.addEntry(H)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(e,s,t,u).next(()=>u.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>e.localDocuments.getDocuments(s,a))})}function X1(n){const t=It(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function SV(n,t){const e=It(n),s=t.snapshotVersion;let a=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=e.Bs.newChangeBuffer({trackRemovals:!0});a=e.xs;const d=[];t.targetChanges.forEach((y,E)=>{const b=a.get(E);if(!b)return;d.push(e.Ti.removeMatchingKeys(u,y.removedDocuments,E).next(()=>e.Ti.addMatchingKeys(u,y.addedDocuments,E)));let C=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken($e.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(E,C),function(H,O,Q){return H.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=TV?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(b,C,y)&&d.push(e.Ti.updateTargetData(u,C))});let m=ms(),g=Ut();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,y))}),d.push(wV(u,c,t.documentUpdates).next(y=>{m=y.qs,g=y.Qs})),!s.isEqual(Ct.min())){const y=e.Ti.getLastRemoteSnapshotVersion(u).next(E=>e.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(y)}return et.waitFor(d).next(()=>c.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(e.xs=a,u))}function wV(n,t,e){let s=Ut(),a=Ut();return e.forEach(u=>s=s.add(u)),t.getEntries(n,s).next(u=>{let c=ms();return e.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ct.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):dt(Fg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function RV(n,t){const e=It(n);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=xg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function CV(n,t){const e=It(n);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return e.Ti.getTargetData(s,t).next(u=>u?(a=u,et.resolve(a)):e.Ti.allocateTargetId(s).next(c=>(a=new Ws(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=e.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Up(n,t,e){const s=It(n),a=s.xs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!zo(c))throw c;dt(Fg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.xs=s.xs.remove(t),s.Os.delete(a.target)}function gE(n,t,e){const s=It(n);let a=Ct.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,y){const E=It(m),b=E.Os.get(y);return b!==void 0?et.resolve(E.xs.get(b)):E.Ti.getTargetData(g,y)}(s,c,Ai(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{u=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,t,e?a:Ct.min(),e?u:Ut())).next(d=>(xV(s,dM(t),d),{documents:d,$s:u})))}function xV(n,t,e){let s=n.Ns.get(t)||Ct.min();e.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),n.Ns.set(t,s)}class yE{constructor(){this.activeTargetIds=_M()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class IV{constructor(){this.xo=new yE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new yE,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="ConnectivityMonitor";class _E{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dt(vE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){dt(vE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function Bp(){return Sh===null?Sh=function(){return 268435456+Math.round(2147483648*Math.random())}():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",MV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VV{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===Zh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(t,e,s,a,u){const c=Bp(),d=this.jo(t,e.toUriEncodedString());dt(Wm,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,u);const{host:g}=new URL(d),y=ko(g);return this.Jo(t,d,m,s,y).then(E=>(dt(Wm,`Received RPC '${t}' ${c}: `,E),E),E=>{throw Ro(Wm,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E})}Yo(t,e,s,a,u,c){return this.zo(t,e,s,a,u)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}jo(t,e){const s=MV[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class NV extends VV{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,a,u){const c=Bp();return new Promise((d,m)=>{const g=new ZA;g.setWithCredentials(!0),g.listenOnce(JA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Oh.NO_ERROR:const E=g.getResponseJson();dt(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case Oh.TIMEOUT:dt(tn,`RPC '${t}' ${c} timed out`),m(new mt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const b=g.getStatus();if(dt(tn,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C==null?void 0:C.error;if(k&&k.status&&k.message){const H=function(Q){const J=Q.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(J)>=0?J:it.UNKNOWN}(k.status);m(new mt(H,k.message))}else m(new mt(it.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new mt(it.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{dt(tn,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(a);dt(tn,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",y,s,15)})}T_(t,e,s){const a=Bp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=n1(),d=e1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const y=u.join("");dt(tn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const E=c.createWebChannel(y,m);let b=!1,C=!1;const k=new OV({Zo:O=>{C?dt(tn,`Not sending because RPC '${t}' stream ${a} is closed:`,O):(b||(dt(tn,`Opening RPC '${t}' stream ${a} transport.`),E.open(),b=!0),dt(tn,`RPC '${t}' stream ${a} sending:`,O),E.send(O))},Xo:()=>E.close()}),H=(O,Q,J)=>{O.listen(Q,X=>{try{J(X)}catch(rt){setTimeout(()=>{throw rt},0)}})};return H(E,su.EventType.OPEN,()=>{C||(dt(tn,`RPC '${t}' stream ${a} transport opened.`),k.__())}),H(E,su.EventType.CLOSE,()=>{C||(C=!0,dt(tn,`RPC '${t}' stream ${a} transport closed`),k.u_())}),H(E,su.EventType.ERROR,O=>{C||(C=!0,Ro(tn,`RPC '${t}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),k.u_(new mt(it.UNAVAILABLE,"The operation could not be completed")))}),H(E,su.EventType.MESSAGE,O=>{var Q;if(!C){const J=O.data[0];Kt(!!J,16349);const X=J,rt=(X==null?void 0:X.error)||((Q=X[0])===null||Q===void 0?void 0:Q.error);if(rt){dt(tn,`RPC '${t}' stream ${a} received error:`,rt);const st=rt.status;let ft=function(x){const V=we[x];if(V!==void 0)return k1(V)}(st),M=rt.message;ft===void 0&&(ft=it.INTERNAL,M="Unknown error status: "+st+" with message "+rt.message),C=!0,k.u_(new mt(ft,M)),E.close()}else dt(tn,`RPC '${t}' stream ${a} received:`,J),k.c_(J)}}),H(d,t1.STAT_EVENT,O=>{O.stat===Rp.PROXY?dt(tn,`RPC '${t}' stream ${a} detected buffering proxy`):O.stat===Rp.NOPROXY&&dt(tn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(n){return new UM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,e,s=1e3,a=1.5,u=6e4){this.xi=t,this.timerId=e,this.I_=s,this.E_=a,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const e=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),a=Math.max(0,e-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class W1{constructor(t,e,s,a,u,c,d,m){this.xi=t,this.y_=s,this.w_=a,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new $1(t,e)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,e){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(ds(e.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),e=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.S_===e&&this.K_(s,a)},s=>{t(()=>{const a=new mt(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(a)})})}K_(t,e){const s=this.U_(this.S_);this.stream=this.G_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.W_(a))}),this.stream.onMessage(a=>{s(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return dt(TE,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return e=>{this.xi.enqueueAndForget(()=>this.S_===t?e():(dt(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PV extends W1{constructor(t,e,s,a,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=u}G_(t,e){return this.connection.T_("Listen",t,e)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const e=zM(this.serializer,t),s=function(u){if(!("targetChange"in u))return Ct.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?wi(c.readTime):Ct.min()}(t);return this.listener.j_(e,s)}H_(t){const e={};e.database=Lp(this.serializer),e.addTarget=function(u,c){let d;const m=c.target;if(d=Mp(m)?{documents:HM(u,m)}:{query:GM(u,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=B1(u,c.resumeToken);const g=Np(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ct.min())>0){d.readTime=nf(u,c.snapshotVersion.toTimestamp());const g=Np(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=YM(this.serializer,t);s&&(e.labels=s),this.L_(e)}J_(t){const e={};e.database=Lp(this.serializer),e.removeTarget=t,this.L_(e)}}class kV extends W1{constructor(t,e,s,a,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,e){return this.connection.T_("Write",t,e)}z_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const e=qM(t.writeResults,t.commitTime),s=wi(t.commitTime);return this.listener.ea(s,e)}ta(){const t={};t.database=Lp(this.serializer),this.L_(t)}Z_(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>FM(this.serializer,s))};this.L_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{}class UV extends LV{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.na=!1}ra(){if(this.na)throw new mt(it.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.zo(t,Pp(e,s),a,u,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(it.UNKNOWN,u.toString())})}Yo(t,e,s,a,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,Pp(e,s),a,c,d,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(it.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class BV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ds(e),this.oa=!1):dt("OnlineStateTracker",e)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class jV{constructor(t,e,s,a,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(c=>{s.enqueueAndForget(async()=>{ga(this)&&(dt(ha,"Restarting streams for network reachability change."),await async function(m){const g=It(m);g.Ta.add(4),await qu(g),g.da.set("Unknown"),g.Ta.delete(4),await xf(g)}(this))})}),this.da=new BV(s,a)}}async function xf(n){if(ga(n))for(const t of n.Ia)await t(!0)}async function qu(n){for(const t of n.Ia)await t(!1)}function Z1(n,t){const e=It(n);e.Pa.has(t.targetId)||(e.Pa.set(t.targetId,t),Kg(e)?Gg(e):qo(e).M_()&&Hg(e,t))}function qg(n,t){const e=It(n),s=qo(e);e.Pa.delete(t),s.M_()&&J1(e,t),e.Pa.size===0&&(s.M_()?s.N_():ga(e)&&e.da.set("Unknown"))}function Hg(n,t){if(n.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}qo(n).H_(t)}function J1(n,t){n.Aa.Ke(t),qo(n).J_(t)}function Gg(n){n.Aa=new NM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Pa.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),qo(n).start(),n.da._a()}function Kg(n){return ga(n)&&!qo(n).F_()&&n.Pa.size>0}function ga(n){return It(n).Ta.size===0}function tS(n){n.Aa=void 0}async function zV(n){n.da.set("Online")}async function FV(n){n.Pa.forEach((t,e)=>{Hg(n,t)})}async function qV(n,t){tS(n),Kg(n)?(n.da.ca(t),Gg(n)):n.da.set("Unknown")}async function HV(n,t,e){if(n.da.set("Online"),t instanceof U1&&t.state===2&&t.cause)try{await async function(a,u){const c=u.cause;for(const d of u.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Pa.delete(d),a.Aa.removeTarget(d))}(n,t)}catch(s){dt(ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await rf(n,s)}else if(t instanceof Lh?n.Aa.Xe(t):t instanceof L1?n.Aa.ot(t):n.Aa.nt(t),!e.isEqual(Ct.min()))try{const s=await X1(n.localStore);e.compareTo(s)>=0&&await function(u,c){const d=u.Aa.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=u.Pa.get(g);y&&u.Pa.set(g,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const y=u.Pa.get(m);if(!y)return;u.Pa.set(m,y.withResumeToken($e.EMPTY_BYTE_STRING,y.snapshotVersion)),J1(u,m);const E=new Ws(y.target,m,g,y.sequenceNumber);Hg(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(s){dt(ha,"Failed to raise snapshot:",s),await rf(n,s)}}async function rf(n,t,e){if(!zo(t))throw t;n.Ta.add(1),await qu(n),n.da.set("Offline"),e||(e=()=>X1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{dt(ha,"Retrying IndexedDB access"),await e(),n.Ta.delete(1),await xf(n)})}function eS(n,t){return t().catch(e=>rf(n,e,t))}async function If(n){const t=It(n),e=cr(t);let s=t.ha.length>0?t.ha[t.ha.length-1].batchId:xg;for(;GV(t);)try{const a=await RV(t.localStore,s);if(a===null){t.ha.length===0&&e.N_();break}s=a.batchId,KV(t,a)}catch(a){await rf(t,a)}nS(t)&&iS(t)}function GV(n){return ga(n)&&n.ha.length<10}function KV(n,t){n.ha.push(t);const e=cr(n);e.M_()&&e.Y_&&e.Z_(t.mutations)}function nS(n){return ga(n)&&!cr(n).F_()&&n.ha.length>0}function iS(n){cr(n).start()}async function YV(n){cr(n).ta()}async function QV(n){const t=cr(n);for(const e of n.ha)t.Z_(e.mutations)}async function XV(n,t,e){const s=n.ha.shift(),a=kg.from(s,t,e);await eS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await If(n)}async function $V(n,t){t&&cr(n).Y_&&await async function(s,a){if(function(c){return VM(c)&&c!==it.ABORTED}(a.code)){const u=s.ha.shift();cr(s).O_(),await eS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await If(s)}}(n,t),nS(n)&&iS(n)}async function EE(n,t){const e=It(n);e.asyncQueue.verifyOperationInProgress(),dt(ha,"RemoteStore received new credentials");const s=ga(e);e.Ta.add(3),await qu(e),s&&e.da.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ta.delete(3),await xf(e)}async function WV(n,t){const e=It(n);t?(e.Ta.delete(2),await xf(e)):t||(e.Ta.add(2),await qu(e),e.da.set("Unknown"))}function qo(n){return n.Ra||(n.Ra=function(e,s,a){const u=It(e);return u.ra(),new PV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:zV.bind(null,n),n_:FV.bind(null,n),i_:qV.bind(null,n),j_:HV.bind(null,n)}),n.Ia.push(async t=>{t?(n.Ra.O_(),Kg(n)?Gg(n):n.da.set("Unknown")):(await n.Ra.stop(),tS(n))})),n.Ra}function cr(n){return n.Va||(n.Va=function(e,s,a){const u=It(e);return u.ra(),new kV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:YV.bind(null,n),i_:$V.bind(null,n),X_:QV.bind(null,n),ea:XV.bind(null,n)}),n.Ia.push(async t=>{t?(n.Va.O_(),await If(n)):(await n.Va.stop(),n.ha.length>0&&(dt(ha,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(t,e,s,a,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,u){const c=Date.now()+s,d=new Yg(t,e,c,a,u);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(n,t){if(ds("AsyncQueue",`${t}: ${n}`),zo(n))return new mt(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(t){return new Ao(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||vt.comparator(e.key,s.key):(e,s)=>vt.comparator(e.key,s.key),this.keyedMap=ru(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ao)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.ma=new ce(vt.comparator)}track(t){const e=t.doc.key,s=this.ma.get(e);s?t.type!==0&&s.type===3?this.ma=this.ma.insert(e,t):t.type===3&&s.type!==1?this.ma=this.ma.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ma=this.ma.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ma=this.ma.remove(e):t.type===1&&s.type===2?this.ma=this.ma.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):At(63341,{Vt:t,fa:s}):this.ma=this.ma.insert(e,t)}ga(){const t=[];return this.ma.inorderTraversal((e,s)=>{t.push(s)}),t}}class Mo{constructor(t,e,s,a,u,c,d,m,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,a,u){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Mo(t,e,Ao.emptySet(e),c,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class JV{constructor(){this.queries=AE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(e,s){const a=It(e),u=a.queries;a.queries=AE(),u.forEach((c,d)=>{for(const m of d.ya)m.onError(s)})})(this,new mt(it.ABORTED,"Firestore shutting down"))}}function AE(){return new ma(n=>S1(n),bf)}async function sS(n,t){const e=It(n);let s=3;const a=t.query;let u=e.queries.get(a);u?!u.wa()&&t.Sa()&&(s=2):(u=new ZV,s=t.Sa()?0:1);try{switch(s){case 0:u.pa=await e.onListen(a,!0);break;case 1:u.pa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=Qg(c,`Initialization of query '${co(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,u),u.ya.push(t),t.Da(e.onlineState),u.pa&&t.va(u.pa)&&Xg(e)}async function rS(n,t){const e=It(n),s=t.query;let a=3;const u=e.queries.get(s);if(u){const c=u.ya.indexOf(t);c>=0&&(u.ya.splice(c,1),u.ya.length===0?a=t.Sa()?0:1:!u.wa()&&t.Sa()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function tO(n,t){const e=It(n);let s=!1;for(const a of t){const u=a.query,c=e.queries.get(u);if(c){for(const d of c.ya)d.va(a)&&(s=!0);c.pa=a}}s&&Xg(e)}function eO(n,t,e){const s=It(n),a=s.queries.get(t);if(a)for(const u of a.ya)u.onError(e);s.queries.delete(t)}function Xg(n){n.ba.forEach(t=>{t.next()})}var jp,SE;(SE=jp||(jp={})).Ca="default",SE.Cache="cache";class aS{constructor(t,e,s){this.query=t,this.Fa=e,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Mo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),e=!0):this.Na(t,this.onlineState)&&(this.Ba(t),e=!0),this.xa=t,e}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let e=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),e=!0),e}Na(t,e){if(!t.fromCache||!this.Sa())return!0;const s=e!=="Offline";return(!this.options.La||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const e=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ba(t){t=Mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t){this.key=t}}class lS{constructor(t){this.key=t}}class nO{constructor(t,e){this.query=t,this.Ga=e,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ut(),this.mutatedKeys=Ut(),this.Ha=w1(t),this.Ja=new Ao(this.Ha)}get Ya(){return this.Ga}Za(t,e){const s=e?e.Xa:new bE,a=e?e.Ja:this.Ja;let u=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,E)=>{const b=a.get(y),C=Af(this.query,E)?E:null,k=!!b&&this.mutatedKeys.has(b.key),H=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;b&&C?b.data.isEqual(C.data)?k!==H&&(s.track({type:3,doc:C}),O=!0):this.eu(b,C)||(s.track({type:2,doc:C}),O=!0,(m&&this.Ha(C,m)>0||g&&this.Ha(C,g)<0)&&(d=!0)):!b&&C?(s.track({type:0,doc:C}),O=!0):b&&!C&&(s.track({type:1,doc:b}),O=!0,(m||g)&&(d=!0)),O&&(C?(c=c.add(C),u=H?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),s.track({type:1,doc:y})}return{Ja:c,Xa:s,Cs:d,mutatedKeys:u}}eu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const u=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const c=t.Xa.ga();c.sort((y,E)=>function(C,k){const H=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:O})}};return H(C)-H(k)}(y.type,E.type)||this.Ha(y.doc,E.doc)),this.tu(s),a=a!=null&&a;const d=e&&!a?this.nu():[],m=this.ja.size===0&&this.current&&!a?1:0,g=m!==this.za;return this.za=m,c.length!==0||g?{snapshot:new Mo(this.query,t.Ja,u,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new bE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(e=>this.Ga=this.Ga.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ga=this.Ga.delete(e)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Ut(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const e=[];return t.forEach(s=>{this.ja.has(s)||e.push(new lS(s))}),this.ja.forEach(s=>{t.has(s)||e.push(new oS(s))}),e}su(t){this.Ga=t.$s,this.ja=Ut();const e=this.Za(t.documents);return this.applyChanges(e,!0)}ou(){return Mo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const $g="SyncEngine";class iO{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class sO{constructor(t){this.key=t,this._u=!1}}class rO{constructor(t,e,s,a,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new ma(d=>S1(d),bf),this.cu=new Map,this.lu=new Set,this.hu=new ce(vt.comparator),this.Pu=new Map,this.Tu=new Bg,this.Iu={},this.Eu=new Map,this.du=Do.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function aO(n,t,e=!0){const s=mS(n);let a;const u=s.uu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.ou()):a=await uS(s,t,e,!0),a}async function oO(n,t){const e=mS(n);await uS(e,t,!0,!1)}async function uS(n,t,e,s){const a=await CV(n.localStore,Ai(t)),u=a.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await lO(n,t,u,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&Z1(n.remoteStore,a),d}async function lO(n,t,e,s,a){n.Ru=(E,b,C)=>async function(H,O,Q,J){let X=O.view.Za(Q);X.Cs&&(X=await gE(H.localStore,O.query,!1).then(({documents:M})=>O.view.Za(M,X)));const rt=J&&J.targetChanges.get(O.targetId),st=J&&J.targetMismatches.get(O.targetId)!=null,ft=O.view.applyChanges(X,H.isPrimaryClient,rt,st);return RE(H,O.targetId,ft.ru),ft.snapshot}(n,E,b,C);const u=await gE(n.localStore,t,!0),c=new nO(t,u.$s),d=c.Za(u.documents),m=Fu.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,m);RE(n,e,g.ru);const y=new iO(t,e,c);return n.uu.set(t,y),n.cu.has(e)?n.cu.get(e).push(t):n.cu.set(e,[t]),g.snapshot}async function uO(n,t,e){const s=It(n),a=s.uu.get(t),u=s.cu.get(a.targetId);if(u.length>1)return s.cu.set(a.targetId,u.filter(c=>!bf(c,t))),void s.uu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Up(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),e&&qg(s.remoteStore,a.targetId),zp(s,a.targetId)}).catch(jo)):(zp(s,a.targetId),await Up(s.localStore,a.targetId,!0))}async function cO(n,t){const e=It(n),s=e.uu.get(t),a=e.cu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),qg(e.remoteStore,s.targetId))}async function hO(n,t,e){const s=vO(n);try{const a=await function(c,d){const m=It(c),g=Oe.now(),y=d.reduce((C,k)=>C.add(k.key),Ut());let E,b;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=ms(),H=Ut();return m.Bs.getEntries(C,y).next(O=>{k=O,k.forEach((Q,J)=>{J.isValidDocument()||(H=H.add(Q))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,k)).next(O=>{E=O;const Q=[];for(const J of d){const X=CM(J,E.get(J.key).overlayedDocument);X!=null&&Q.push(new pa(J.key,X,g1(X.value.mapValue),Si.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,Q,d)}).next(O=>{b=O;const Q=O.applyToLocalDocumentSet(E,H);return m.documentOverlayCache.saveOverlays(C,O.batchId,Q)})}).then(()=>({batchId:b.batchId,changes:C1(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Iu[c.currentUser.toKey()];g||(g=new ce(Vt)),g=g.insert(d,m),c.Iu[c.currentUser.toKey()]=g}(s,a.batchId,e),await Hu(s,a.changes),await If(s.remoteStore)}catch(a){const u=Qg(a,"Failed to persist write");e.reject(u)}}async function cS(n,t){const e=It(n);try{const s=await SV(e.localStore,t);t.targetChanges.forEach((a,u)=>{const c=e.Pu.get(u);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?Kt(c._u,14607):a.removedDocuments.size>0&&(Kt(c._u,42227),c._u=!1))}),await Hu(e,s,t)}catch(s){await jo(s)}}function wE(n,t,e){const s=It(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.uu.forEach((u,c)=>{const d=c.view.Da(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=It(c);m.onlineState=d;let g=!1;m.queries.forEach((y,E)=>{for(const b of E.ya)b.Da(d)&&(g=!0)}),g&&Xg(m)}(s.eventManager,t),a.length&&s.au.j_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function fO(n,t,e){const s=It(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Pu.get(t),u=a&&a.key;if(u){let c=new ce(vt.comparator);c=c.insert(u,nn.newNoDocument(u,Ct.min()));const d=Ut().add(u),m=new Rf(Ct.min(),new Map,new ce(Vt),c,d);await cS(s,m),s.hu=s.hu.remove(u),s.Pu.delete(t),Wg(s)}else await Up(s.localStore,t,!1).then(()=>zp(s,t,e)).catch(jo)}async function dO(n,t){const e=It(n),s=t.batch.batchId;try{const a=await AV(e.localStore,t);fS(e,s,null),hS(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(e,a)}catch(a){await jo(a)}}async function mO(n,t,e){const s=It(n);try{const a=await function(c,d){const m=It(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next(E=>(Kt(E!==null,37113),y=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>m.localDocuments.getDocuments(g,y))})}(s.localStore,t);fS(s,t,e),hS(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Hu(s,a)}catch(a){await jo(a)}}function hS(n,t){(n.Eu.get(t)||[]).forEach(e=>{e.resolve()}),n.Eu.delete(t)}function fS(n,t,e){const s=It(n);let a=s.Iu[s.currentUser.toKey()];if(a){const u=a.get(t);u&&(e?u.reject(e):u.resolve(),a=a.remove(t)),s.Iu[s.currentUser.toKey()]=a}}function zp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.cu.get(t))n.uu.delete(s),e&&n.au.Vu(s,e);n.cu.delete(t),n.isPrimaryClient&&n.Tu.Hr(t).forEach(s=>{n.Tu.containsKey(s)||dS(n,s)})}function dS(n,t){n.lu.delete(t.path.canonicalString());const e=n.hu.get(t);e!==null&&(qg(n.remoteStore,e),n.hu=n.hu.remove(t),n.Pu.delete(e),Wg(n))}function RE(n,t,e){for(const s of e)s instanceof oS?(n.Tu.addReference(s.key,t),pO(n,s)):s instanceof lS?(dt($g,"Document no longer in limbo: "+s.key),n.Tu.removeReference(s.key,t),n.Tu.containsKey(s.key)||dS(n,s.key)):At(19791,{mu:s})}function pO(n,t){const e=t.key,s=e.path.canonicalString();n.hu.get(e)||n.lu.has(s)||(dt($g,"New document in limbo: "+e),n.lu.add(s),Wg(n))}function Wg(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const t=n.lu.values().next().value;n.lu.delete(t);const e=new vt(ie.fromString(t)),s=n.du.next();n.Pu.set(s,new sO(e)),n.hu=n.hu.insert(e,s),Z1(n.remoteStore,new Ws(Ai(Og(e.path)),s,"TargetPurposeLimboResolution",_f.le))}}async function Hu(n,t,e){const s=It(n),a=[],u=[],c=[];s.uu.isEmpty()||(s.uu.forEach((d,m)=>{c.push(s.Ru(m,t,e).then(g=>{var y;if((g||e)&&s.isPrimaryClient){const E=g?!g.fromCache:(y=e==null?void 0:e.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){a.push(g);const E=zg.Rs(m.targetId,g);u.push(E)}}))}),await Promise.all(c),s.au.j_(a),await async function(m,g){const y=It(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>et.forEach(g,b=>et.forEach(b.ds,C=>y.persistence.referenceDelegate.addReference(E,b.targetId,C)).next(()=>et.forEach(b.As,C=>y.persistence.referenceDelegate.removeReference(E,b.targetId,C)))))}catch(E){if(!zo(E))throw E;dt(Fg,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const C=y.xs.get(b),k=C.snapshotVersion,H=C.withLastLimboFreeSnapshotVersion(k);y.xs=y.xs.insert(b,H)}}}(s.localStore,u))}async function gO(n,t){const e=It(n);if(!e.currentUser.isEqual(t)){dt($g,"User change. New user:",t.toKey());const s=await Q1(e.localStore,t);e.currentUser=t,function(u,c){u.Eu.forEach(d=>{d.forEach(m=>{m.reject(new mt(it.CANCELLED,c))})}),u.Eu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Hu(e,s.ks)}}function yO(n,t){const e=It(n),s=e.Pu.get(t);if(s&&s._u)return Ut().add(s.key);{let a=Ut();const u=e.cu.get(t);if(!u)return a;for(const c of u){const d=e.uu.get(c);a=a.unionWith(d.view.Ya)}return a}}function mS(n){const t=It(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fO.bind(null,t),t.au.j_=tO.bind(null,t.eventManager),t.au.Vu=eO.bind(null,t.eventManager),t}function vO(n){const t=It(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mO.bind(null,t),t}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cf(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,e){return null}bu(t,e){return null}wu(t){return bV(this.persistence,new _V,t.initialUser,this.serializer)}yu(t){return new Y1(jg.fi,this.serializer)}pu(t){return new IV}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class _O extends af{constructor(t){super(),this.cacheSizeBytes=t}Su(t,e){Kt(this.persistence.referenceDelegate instanceof sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sV(s,t.asyncQueue,e)}yu(t){const e=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Y1(s=>sf.fi(s,e),this.serializer)}}class Fp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gO.bind(null,this.syncEngine),await WV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new JV}()}createDatastore(t){const e=Cf(t.databaseInfo.databaseId),s=function(u){return new NV(u)}(t.databaseInfo);return function(u,c,d,m){return new UV(u,c,d,m)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,a,u,c,d){return new jV(s,a,u,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>wE(this.syncEngine,e,0),function(){return _E.C()?new _E:new DV}())}createSyncEngine(t,e){return function(a,u,c,d,m,g,y){const E=new rO(a,u,c,d,m,g);return y&&(E.Au=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const u=It(a);dt(ha,"RemoteStore shutting down."),u.Ta.add(5),await qu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Fp.provider={build:()=>new Fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="FirestoreClient";class TO{constructor(t,e,s,a,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=a1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async c=>{dt(hr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(dt(hr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Qg(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Jm(n,t){n.asyncQueue.verifyOperationInProgress(),dt(hr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Q1(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function CE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await EO(n);dt(hr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(s=>EE(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>EE(t.remoteStore,a)),n._onlineComponents=t}async function EO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(hr,"Using user provided OfflineComponentProvider");try{await Jm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===it.FAILED_PRECONDITION||a.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Ro("Error using user provided cache. Falling back to memory cache: "+e),await Jm(n,new af)}}else dt(hr,"Using default OfflineComponentProvider"),await Jm(n,new _O(void 0));return n._offlineComponents}async function gS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(hr,"Using user provided OnlineComponentProvider"),await CE(n,n._uninitializedComponentsProvider._online)):(dt(hr,"Using default OnlineComponentProvider"),await CE(n,new Fp))),n._onlineComponents}function bO(n){return gS(n).then(t=>t.syncEngine)}async function qp(n){const t=await gS(n),e=t.eventManager;return e.onListen=aO.bind(null,t.syncEngine),e.onUnlisten=uO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=oO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=cO.bind(null,t.syncEngine),e}function AO(n,t,e={}){const s=new nr;return n.asyncQueue.enqueueAndForget(async()=>function(u,c,d,m,g){const y=new pS({next:b=>{y.Cu(),c.enqueueAndForget(()=>rS(u,E)),b.fromCache&&m.source==="server"?g.reject(new mt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new aS(d,y,{includeMetadataChanges:!0,La:!0});return sS(u,E)}(await qp(n),n.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n,t,e){if(!e)throw new mt(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function SO(n,t,e,s){if(t===!0&&s===!0)throw new mt(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function IE(n){if(!vt.isDocumentKey(n))throw new mt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DE(n){if(vt.isDocumentKey(n))throw new mt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Df(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":At(12329,{type:typeof n})}function ir(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Df(n);throw new mt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firestore.googleapis.com",ME=!0;class VE{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_S,this.ssl=ME}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:ME;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=K1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nV)throw new mt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}SO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new mt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new mt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new mt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mf{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VD;switch(s.type){case"firstParty":return new kD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=xE.get(e);s&&(dt("ComponentProvider","Removing Datastore"),xE.delete(e),s.terminate())}(this),Promise.resolve()}}function wO(n,t,e,s={}){var a;n=ir(n,Mf);const u=ko(t),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${t}:${e}`;u&&(fg(`https://${m}`),dg("Firestore",!0)),c.host!==_S&&c.host!==m&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:u,emulatorOptions:s});if(!la(g,d)&&(n._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=en.MOCK_USER;else{y=mA(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new mt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(b)}n._authCredentials=new OD(new s1(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new mr(this.firestore,t,this._query)}}class Rn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rn(this.firestore,t,this._key)}}class sr extends mr{constructor(t,e,s){super(t,e,Og(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rn(this.firestore,null,new vt(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function tp(n,t,...e){if(n=hn(n),vS("collection","path",t),n instanceof Mf){const s=ie.fromString(t,...e);return DE(s),new sr(n,null,s)}{if(!(n instanceof Rn||n instanceof sr))throw new mt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ie.fromString(t,...e));return DE(s),new sr(n.firestore,null,s)}}function RO(n,t,...e){if(n=hn(n),arguments.length===1&&(t=a1.newId()),vS("doc","path",t),n instanceof Mf){const s=ie.fromString(t,...e);return IE(s),new Rn(n,null,new vt(s))}{if(!(n instanceof Rn||n instanceof sr))throw new mt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ie.fromString(t,...e));return IE(s),new Rn(n.firestore,n instanceof sr?n.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="AsyncQueue";class NE{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new $1(this,"async_queue_retry"),this.ec=()=>{const s=Zm();s&&dt(OE,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=t;const e=Zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const e=Zm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const e=new nr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!zo(t))throw t;dt(OE,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const e=this.tc.then(()=>(this.Yu=!0,t().catch(s=>{throw this.Ju=s,this.Yu=!1,ds("INTERNAL UNHANDLED ERROR: ",PE(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=e,e}enqueueAfterDelay(t,e,s){this.nc(),this.Xu.indexOf(t)>-1&&(e=0);const a=Yg.createAndSchedule(this,t,e,s,u=>this.oc(u));return this.Hu.push(a),a}nc(){this.Ju&&At(47125,{_c:PE(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const e of this.Hu)if(e.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Hu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const e=this.Hu.indexOf(t);this.Hu.splice(e,1)}}function PE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(n){return function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const u of s)if(u in a&&typeof a[u]=="function")return!0;return!1}(n,["next","error","complete"])}class Vo extends Mf{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new NE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NE(t),this._firestoreClient=void 0,await t}}}function CO(n,t){const e=typeof n=="object"?n:gg(),s=typeof n=="string"?n:Zh,a=gf(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=hA("firestore");u&&wO(a,...u)}return a}function Zg(n){if(n._terminated)throw new mt(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xO(n),n._firestoreClient}function xO(n){var t,e,s;const a=n._freezeSettings(),u=function(d,m,g,y){return new WD(d,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,yS(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new TO(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Oo($e.fromBase64String(t))}catch(e){throw new mt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Oo($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^__.*__$/;class DO{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new pa(t,this.data,this.fieldMask,e,this.fieldTransforms):new zu(t,this.data,e,this.fieldTransforms)}}function TS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{hc:n})}}class iy{constructor(t,e,s,a,u,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new iy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Tc({path:s,Ec:!1});return a.dc(t),a}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Tc({path:s,Ec:!1});return a.Pc(),a}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return of(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(TS(this.hc)&&IO.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class MO{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Cf(t)}gc(t,e,s,a=!1){return new iy({hc:t,methodName:e,fc:s,path:Xe.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ES(n){const t=n._freezeSettings(),e=Cf(n._databaseId);return new MO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function VO(n,t,e,s,a,u={}){const c=n.gc(u.merge||u.mergeFields?2:0,t,e,a);SS("Data must be an object, but it was:",c,s);const d=bS(s,c);let m,g;if(u.merge)m=new Jn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const E of u.mergeFields){const b=NO(t,E,e);if(!c.contains(b))throw new mt(it.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);kO(y,b)||y.push(b)}m=new Jn(y),g=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=c.fieldTransforms;return new DO(new Fn(d),m,g)}class sy extends ty{_toFieldTransform(t){return new AM(t.path,new xu)}isEqual(t){return t instanceof sy}}function OO(n,t,e,s=!1){return ry(e,n.gc(s?4:3,t))}function ry(n,t){if(AS(n=hn(n)))return SS("Unsupported field value:",t,n),bS(n,t);if(n instanceof ty)return function(s,a){if(!TS(a.hc))throw a.Vc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(s,a){const u=[];let c=0;for(const d of s){let m=ry(d,a.Rc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}}(n,t)}return function(s,a){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Oe.fromDate(s);return{timestampValue:nf(a.serializer,u)}}if(s instanceof Oe){const u=new Oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nf(a.serializer,u)}}if(s instanceof ey)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Oo)return{bytesValue:B1(a.serializer,s._byteString)};if(s instanceof Rn){const u=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ug(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ny)return function(c,d){return{mapValue:{fields:{[m1]:{stringValue:p1},[Jh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Vc("VectorValues must only contain numeric values.");return Ng(d.serializer,g)})}}}}}}(s,a);throw a.Vc(`Unsupported field value: ${Df(s)}`)}(n,t)}function bS(n,t){const e={};return l1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):da(n,(s,a)=>{const u=ry(a,t.Ic(s));u!=null&&(e[s]=u)}),{mapValue:{fields:e}}}function AS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Oe||n instanceof ey||n instanceof Oo||n instanceof Rn||n instanceof ty||n instanceof ny)}function SS(n,t,e){if(!AS(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const s=Df(e);throw s==="an object"?t.Vc(n+" a custom object"):t.Vc(n+" "+s)}}function NO(n,t,e){if((t=hn(t))instanceof Jg)return t._internalPath;if(typeof t=="string")return wS(n,t);throw of("Field path arguments must be of type string or ",n,!1,void 0,e)}const PO=new RegExp("[~\\*/\\[\\]]");function wS(n,t,e){if(t.search(PO)>=0)throw of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Jg(...t.split("."))._internalPath}catch{throw of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function of(n,t,e,s,a){const u=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new mt(it.INVALID_ARGUMENT,d+n+m)}function kO(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,e,s,a,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Vf("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class LO extends RS{data(){return super.data()}}function Vf(n,t){return typeof t=="string"?wS(n,t):t instanceof Jg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ay{}class xS extends ay{}function LE(n,t,...e){let s=[];t instanceof ay&&s.push(t),s=s.concat(e),function(u){const c=u.filter(m=>m instanceof oy).length,d=u.filter(m=>m instanceof Of).length;if(c>1||c>0&&d>0)throw new mt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class Of extends xS{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Of(t,e,s)}_apply(t){const e=this._parse(t);return IS(t._query,e),new mr(t.firestore,t.converter,Vp(t._query,e))}_parse(t){const e=ES(t.firestore);return function(u,c,d,m,g,y,E){let b;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new mt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){BE(E,y);const k=[];for(const H of E)k.push(UE(m,u,H));b={arrayValue:{values:k}}}else b=UE(m,u,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||BE(E,y),b=OO(d,c,E,y==="in"||y==="not-in");return Ce.create(g,y,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function ep(n,t,e){const s=t,a=Vf("where",n);return Of._create(a,s,e)}class oy extends ay{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new oy(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:ei.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,u){let c=a;const d=u.getFlattenedFilters();for(const m of d)IS(c,m),c=Vp(c,m)}(t._query,e),new mr(t.firestore,t.converter,Vp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ly extends xS{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ly(t,e)}_apply(t){const e=function(a,u,c){if(a.startAt!==null)throw new mt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new mt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(u,c)}(t._query,this._field,this._direction);return new mr(t.firestore,t.converter,function(a,u){const c=a.explicitOrderBy.concat([u]);return new Fo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,e))}}function UO(n,t="asc"){const e=t,s=Vf("orderBy",n);return ly._create(s,e)}function UE(n,t,e){if(typeof(e=hn(e))=="string"){if(e==="")throw new mt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A1(t)&&e.indexOf("/")!==-1)throw new mt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ie.fromString(e));if(!vt.isDocumentKey(s))throw new mt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return WT(n,new vt(s))}if(e instanceof Rn)return WT(n,e._key);throw new mt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(e)}.`)}function BE(n,t){if(!Array.isArray(n)||n.length===0)throw new mt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IS(n,t){const e=function(a,u){for(const c of a)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new mt(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class BO{convertValue(t,e="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return da(t,(a,u)=>{s[a]=this.convertValue(u,e)}),s}convertVectorValue(t){var e,s,a;const u=(a=(s=(e=t.fields)===null||e===void 0?void 0:e[Jh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>Te(c.doubleValue));return new ny(u)}convertGeoPoint(t){return new ey(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Ef(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Su(t));default:return null}}convertTimestamp(t){const e=or(t);return new Oe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ie.fromString(t);Kt(G1(s),9688,{name:t});const a=new wu(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return a.isEqual(e)||ds(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(n,t,e){let s;return s=n?n.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DS extends RS{constructor(t,e,s,a,u,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Vf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class Uh extends DS{data(t={}){return super.data(t)}}class MS{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new ou(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new Uh(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Uh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ou(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Uh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ou(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:zO(d.type),doc:m,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:n})}}class uy extends BO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Oo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rn(this.firestore,null,e)}}function FO(n){n=ir(n,mr);const t=ir(n.firestore,Vo),e=Zg(t),s=new uy(t);return CS(n._query),AO(e,n._query).then(a=>new MS(t,s,n,a))}function qO(n){return VS(ir(n.firestore,Vo),[new Pg(n._key,Si.none())])}function HO(n,t){const e=ir(n.firestore,Vo),s=RO(n),a=jO(n.converter,t);return VS(e,[VO(ES(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Si.exists(!1))]).then(()=>s)}function GO(n,...t){var e,s,a;n=hn(n);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||kE(t[c])||(u=t[c],c++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(kE(t[c])){const E=t[c];t[c]=(e=E.next)===null||e===void 0?void 0:e.bind(E),t[c+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),t[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let m,g,y;if(n instanceof Rn)g=ir(n.firestore,Vo),y=Og(n._key.path),m={next:E=>{t[c]&&t[c](KO(g,n,E))},error:t[c+1],complete:t[c+2]};else{const E=ir(n,mr);g=ir(E.firestore,Vo),y=E._query;const b=new uy(g);m={next:C=>{t[c]&&t[c](new MS(g,b,E,C))},error:t[c+1],complete:t[c+2]},CS(n._query)}return function(b,C,k,H){const O=new pS(H),Q=new aS(C,O,k);return b.asyncQueue.enqueueAndForget(async()=>sS(await qp(b),Q)),()=>{O.Cu(),b.asyncQueue.enqueueAndForget(async()=>rS(await qp(b),Q))}}(Zg(g),y,d,m)}function VS(n,t){return function(s,a){const u=new nr;return s.asyncQueue.enqueueAndForget(async()=>hO(await bO(s),a,u)),u.promise}(Zg(n),t)}function KO(n,t,e){const s=e.docs.get(t._key),a=new uy(n);return new DS(n,a,t._key,s,new ou(e.hasPendingWrites,e.fromCache),t.converter)}function YO(){return new sy("serverTimestamp")}(function(t,e=!0){(function(a){Bo=a})(fa),ua(new rr("firestore",(s,{instanceIdentifier:a,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Vo(new ND(s.getProvider("auth-internal")),new LD(c,s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(g.options.projectId,y)}(c,a),c);return u=Object.assign({useFetchStreams:e},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Ti(BT,jT,t),Ti(BT,jT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebasestorage.googleapis.com",QO="storageBucket",XO=2*60*1e3,$O=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Mi{constructor(t,e,s=0){super(np(t),`Firebase Storage: ${e} (${np(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return np(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Di;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Di||(Di={}));function np(n){return"storage/"+n}function WO(){const n="An unknown error occurred, please check the error payload for server response.";return new Vi(Di.UNKNOWN,n)}function ZO(){return new Vi(Di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JO(){return new Vi(Di.CANCELED,"User canceled the upload/download.")}function tN(n){return new Vi(Di.INVALID_URL,"Invalid URL '"+n+"'.")}function eN(n){return new Vi(Di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function jE(n){return new Vi(Di.INVALID_ARGUMENT,n)}function NS(){return new Vi(Di.APP_DELETED,"The Firebase app was deleted.")}function nN(n){return new Vi(Di.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let s;try{s=ti.makeFromUrl(t,e)}catch{return new ti(t,"")}if(s.path==="")return s;throw eN(t)}static makeFromUrl(t,e){let s=null;const a="([A-Za-z0-9.\\-_]+)";function u(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(rt){rt.path_=decodeURIComponent(rt.path)}const y="v[A-Za-z0-9_]+",E=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",C=new RegExp(`^https?://${E}/${y}/b/${a}/o${b}`,"i"),k={bucket:1,path:3},H=e===OS?"(?:storage.googleapis.com|storage.cloud.google.com)":e,O="([^?#]*)",Q=new RegExp(`^https?://${H}/${a}/${O}`,"i"),X=[{regex:d,indices:m,postModify:u},{regex:C,indices:k,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let rt=0;rt<X.length;rt++){const st=X[rt],ft=st.regex.exec(t);if(ft){const M=ft[st.indices.bucket];let w=ft[st.indices.path];w||(w=""),s=new ti(M,w),st.postModify(s);break}}if(s==null)throw tN(t);return s}}class iN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n,t,e){let s=1,a=null,u=null,c=!1,d=0;function m(){return d===2}let g=!1;function y(...O){g||(g=!0,t.apply(null,O))}function E(O){a=setTimeout(()=>{a=null,n(C,m())},O)}function b(){u&&clearTimeout(u)}function C(O,...Q){if(g){b();return}if(O){b(),y.call(null,O,...Q);return}if(m()||c){b(),y.call(null,O,...Q);return}s<64&&(s*=2);let X;d===1?(d=2,X=0):X=(s+Math.random())*1e3,E(X)}let k=!1;function H(O){k||(k=!0,b(),!g&&(a!==null?(O||(d=2),clearTimeout(a),E(0)):O||(d=1)))}return E(0),u=setTimeout(()=>{c=!0,H(!0)},e),H}function rN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){return n!==void 0}function zE(n,t,e,s){if(s<t)throw jE(`Invalid value for '${n}'. Expected ${t} or greater.`);if(s>e)throw jE(`Invalid value for '${n}'. Expected ${e} or less.`)}function oN(n){const t=encodeURIComponent;let e="?";for(const s in n)if(n.hasOwnProperty(s)){const a=t(s)+"="+t(n[s]);e=e+a+"&"}return e=e.slice(0,-1),e}var lf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(lf||(lf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n,t){const e=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,u=t.indexOf(n)!==-1;return e||a||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t,e,s,a,u,c,d,m,g,y,E,b=!0,C=!1){this.url_=t,this.method_=e,this.headers_=s,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,H)=>{this.resolve_=k,this.reject_=H,this.start_()})}start_(){const t=(s,a)=>{if(a){s(!1,new wh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const d=u.getErrorCode()===lf.NO_ERROR,m=u.getStatus();if(!d||lN(m,this.additionalRetryCodes_)&&this.retry){const y=u.getErrorCode()===lf.ABORT;s(!1,new wh(!1,null,y));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new wh(g,u))})},e=(s,a)=>{const u=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());aN(m)?u(m):u()}catch(m){c(m)}else if(d!==null){const m=WO();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?NS():JO();c(m)}else{const m=ZO();c(m)}};this.canceled_?e(!1,new wh(!1,null,!0)):this.backoffId_=sN(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wh{constructor(t,e,s){this.wasSuccessCode=t,this.connection=e,this.canceled=!!s}}function cN(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function hN(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function fN(n,t){t&&(n["X-Firebase-GMPID"]=t)}function dN(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function mN(n,t,e,s,a,u,c=!0,d=!1){const m=oN(n.urlParams),g=n.url+m,y=Object.assign({},n.headers);return fN(y,t),cN(y,e),hN(y,u),dN(y,s),new uN(g,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function gN(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,e){this._service=t,e instanceof ti?this._location=e:this._location=ti.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new uf(t,e)}get root(){const t=new ti(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gN(this._location.path)}get storage(){return this._service}get parent(){const t=pN(this._location.path);if(t===null)return null;const e=new ti(this._location.bucket,t);return new uf(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw nN(t)}}function FE(n,t){const e=t==null?void 0:t[QO];return e==null?null:ti.makeFromBucketSpec(e,n)}function yN(n,t,e,s={}){n.host=`${t}:${e}`;const a=ko(t);a&&(fg(`https://${n.host}`),dg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:u}=s;u&&(n._overrideAuthToken=typeof u=="string"?u:mA(u,n.app.options.projectId))}class vN{constructor(t,e,s,a,u,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=s,this._url=a,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=OS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XO,this._maxUploadRetryTime=$O,this._requests=new Set,a!=null?this._bucket=ti.makeFromBucketSpec(a,this._host):this._bucket=FE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ti.makeFromBucketSpec(this._url,t):this._bucket=FE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new uf(this,t)}_makeRequest(t,e,s,a,u=!0){if(this._deleted)return new iN(NS());{const c=mN(t,this._appId,s,a,e,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,s,a).getPromise()}}const qE="@firebase/storage",HE="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="storage";function _N(n=gg(),t){n=hn(n);const s=gf(n,PS).getImmediate({identifier:t}),a=hA("storage");return a&&TN(s,...a),s}function TN(n,t,e,s={}){yN(n,t,e,s)}function EN(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new vN(e,s,a,t,fa)}function bN(){ua(new rr(PS,EN,"PUBLIC").setMultipleInstances(!0)),Ti(qE,HE,""),Ti(qE,HE,"esm2017")}bN();const kS={apiKey:"your-api-key",authDomain:"your-project.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"123456789",appId:"your-app-id"},cy=yA(kS),GE=xD(cy),ip=CO(cy);_N(cy);const LS=new as;LS.addScope("profile");LS.addScope("email");const US=new hu("apple.com");US.addScope("email");US.addScope("name");const AN=()=>kS.apiKey!=="your-api-key",SN=["badword1","badword2","inappropriate"],wN=[/\b\d{3}-\d{4}-\d{4}\b/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,/\bhttps?:\/\/[^\s]+/gi],RN=n=>{let t=n,e=!1;return SN.forEach(s=>{const a=new RegExp(s,"gi");a.test(t)&&(t=t.replace(a,"*".repeat(s.length)),e=!0)}),wN.forEach(s=>{s.test(t)&&(t=t.replace(s,"[Censored]"),e=!0)}),{filteredMessage:t,hasViolation:e}},CN=async(n,t,e,s)=>{const a={reportedUserId:n,reporterUserId:t,reason:e,messageId:s,timestamp:new Date,status:"pending"};return console.log("Report submitted:",a),a};class rs{constructor(){this.userLocation=null,this.watchId=null,this.locationOptions={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4}}async getCurrentPosition(){return new Promise((t,e)=>{if(!navigator.geolocation){e({error:"GEOLOCATION_NOT_SUPPORTED",message:"This browser does not support location services."});return}navigator.geolocation.getCurrentPosition(s=>{const a={latitude:s.coords.latitude,longitude:s.coords.longitude,accuracy:s.coords.accuracy,timestamp:Date.now()};this.userLocation=a,t(a)},s=>{let a="";switch(s.code){case s.PERMISSION_DENIED:a="Location access denied. Please allow location permission in your browser settings.";break;case s.POSITION_UNAVAILABLE:a="Current location cannot be found.";break;case s.TIMEOUT:a="Location request timed out.";break;default:a="An unknown error occurred.";break}e({error:"GEOLOCATION_ERROR",code:s.code,message:a})},this.locationOptions)})}startWatchingLocation(t){if(!navigator.geolocation){t({error:"GEOLOCATION_NOT_SUPPORTED",message:"This browser does not support location services."});return}return this.watchId=navigator.geolocation.watchPosition(e=>{const s={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:Date.now()};this.hasLocationChanged(s,10)&&(this.userLocation=s,t({success:!0,location:s}))},e=>{t({error:"GEOLOCATION_ERROR",code:e.code,message:"An error occurred during location tracking."})},this.locationOptions),this.watchId}stopWatchingLocation(){this.watchId!==null&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null)}hasLocationChanged(t,e=10){return this.userLocation?rs.calculateDistance(this.userLocation.latitude,this.userLocation.longitude,t.latitude,t.longitude)*1e3>=e:!0}static calculateDistance(t,e,s,a){const c=rs.toRadians(s-t),d=rs.toRadians(a-e),m=Math.sin(c/2)*Math.sin(c/2)+Math.cos(rs.toRadians(t))*Math.cos(rs.toRadians(s))*Math.sin(d/2)*Math.sin(d/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}static toRadians(t){return t*(Math.PI/180)}static isWithinRadius(t,e,s,a,u=1){return this.calculateDistance(t,e,s,a)<=u}static generateGeohash(t,e,s=7){const a="0123456789bcdefghjkmnpqrstuvwxyz";let u=0,c=0,d=!0,m="",g=-90,y=90,E=-180,b=180;for(;m.length<s;){if(d){const C=(E+b)/2;e>=C?(u=(u<<1)+1,E=C):(u=u<<1,b=C)}else{const C=(g+y)/2;t>=C?(u=(u<<1)+1,g=C):(u=u<<1,y=C)}d=!d,++c===5&&(m+=a[u],c=0,u=0)}return m}static getChatRoomId(t,e){const a=Math.floor(t/.009),u=Math.floor(e/.009);return`room_${a}_${u}`}getCurrentGeohash(t=7){return this.userLocation?rs.generateGeohash(this.userLocation.latitude,this.userLocation.longitude,t):null}static anonymizeLocation(t,e,s=100){const a=(Math.random()-.5)*(s/111e3),u=(Math.random()-.5)*(s/(111e3*Math.cos(t*Math.PI/180)));return{latitude:t+a,longitude:e+u}}getLocationStatus(){var t;return{hasLocation:this.userLocation!==null,isWatching:this.watchId!==null,location:this.userLocation,geohash:this.getCurrentGeohash(),lastUpdate:(t=this.userLocation)==null?void 0:t.timestamp}}async checkLocationPermission(){if(!navigator.permissions)return{state:"unknown"};try{const t=await navigator.permissions.query({name:"geolocation"});return{state:t.state,permission:t}}catch(t){return{state:"unknown",error:t.message}}}}const xN=new rs,IN=()=>xN.getCurrentPosition(),DN=(n,t)=>rs.getChatRoomId(n,t),MN=n=>n>=1e3?{effect:"✨👑✨",color:"#FFD700"}:n>=500?{effect:"⭐",color:"#FF69B4"}:n>=300?{effect:"💎",color:"#00CED1"}:n>=100?{effect:"🔥",color:"#FF4500"}:{effect:"",color:""},KE="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20fill='%23228BE6'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.523,4.477,10,10,10s10-4.477,10-10C22,6.477,17.523,2,12,2z%20M17.707,9.707l-7,7%20C10.512,16.902,10.256,17,10,17s-0.512-0.098-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414s1.023-0.391,1.414,0L10,14.586%20l6.293-6.293c0.391-0.391,1.023-0.391,1.414,0S18.098,9.316,17.707,9.707z'/%3e%3c/svg%3e",VN=({user:n,onLogout:t})=>{const[e,s]=ut.useState([]),[a,u]=ut.useState(""),[c,d]=ut.useState(null),[m,g]=ut.useState(null),[y,E]=ut.useState(!0),[b,C]=ut.useState(""),[k,H]=ut.useState(0),[O,Q]=ut.useState(!0),[J,X]=ut.useState([!1,!1,!1]),rt=ut.useRef(null),st=ut.useRef(null),ft=[{title:"Impersonation Warning",text:"Anyone claiming to be an administrator or cyber investigation officer is an imposter."},{title:"Scam Warning",text:"Anyone sharing Telegram / WhatsApp / LINE / WeChat / Kakao without conversation is a scammer."},{title:"Scam Warning",text:"All adult web site promotions are scams."}],M=J.every(R=>R),w=R=>{const pt=[...J];pt[R]=!pt[R],X(pt)};ut.useEffect(()=>{(async()=>{try{const pt=await IN();d(pt);const ht=DN(pt.latitude,pt.longitude);g(ht),E(!1)}catch(pt){console.error("Location error:",pt),C("Unable to get location information. Please allow location permission."),E(!1)}})()},[]),ut.useEffect(()=>{if(!m)return;const R=LE(tp(ip,"messages"),ep("chatRoomId","==",m),UO("timestamp","asc")),pt=GO(R,ht=>{const K=[];ht.forEach(W=>{var xt;const ot=W.data();K.push({id:W.id,...ot,timestamp:((xt=ot.timestamp)==null?void 0:xt.toDate())||new Date})}),s(K),setTimeout(()=>{rt.current&&(rt.current.scrollTop=rt.current.scrollHeight)},50)});return()=>pt()},[m]),ut.useEffect(()=>{if(!m)return;const R=setInterval(async()=>{const pt=new Date(Date.now()-36e5),ht=LE(tp(ip,"messages"),ep("chatRoomId","==",m),ep("timestamp","<",pt));try{const W=(await FO(ht)).docs.map(ot=>qO(ot.ref));await Promise.all(W)}catch(K){console.error("Cleanup error:",K)}},5*60*1e3);return()=>clearInterval(R)},[m]),ut.useEffect(()=>{const R=()=>{setTimeout(()=>{st.current&&st.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},100),setTimeout(()=>{var ht;if(st.current){const K=st.current.getBoundingClientRect(),W=((ht=window.visualViewport)==null?void 0:ht.height)||window.innerHeight,ot=K.bottom;ot>W-50&&window.scrollBy({top:ot-W+100,behavior:"smooth"})}},300)},pt=()=>{setTimeout(()=>{document.activeElement===st.current&&R()},100)};return st.current&&st.current.addEventListener("focus",R),window.visualViewport?window.visualViewport.addEventListener("resize",pt):window.addEventListener("resize",pt),()=>{st.current&&st.current.removeEventListener("focus",R),window.visualViewport?window.visualViewport.removeEventListener("resize",pt):window.removeEventListener("resize",pt)}},[]),ut.useEffect(()=>{const R=()=>{H(Math.floor(Math.random()*46)+5)};R();const pt=setInterval(R,3e4);return()=>clearInterval(pt)},[]);const x=async()=>{if(a.trim()==="")return;const{filteredMessage:R,hasViolation:pt}=RN(a);if(n.uid.startsWith("guest_")||!m){const ht={id:"local_"+Date.now(),text:R,nickname:n.nickname,userId:n.uid,timestamp:new Date,hasViolation:pt,likeCount:0,dislikeCount:0,likedBy:[],dislikedBy:[],isBlueCheck:n.isBlueCheck||!1,color:n.color||"#58a6ff"};s(K=>[...K,ht]),u(""),setTimeout(()=>{rt.current&&(rt.current.scrollTop=rt.current.scrollHeight)},50);return}try{await HO(tp(ip,"messages"),{text:R,nickname:n.nickname,userId:n.uid,chatRoomId:m,location:{latitude:c.latitude,longitude:c.longitude},timestamp:YO(),hasViolation:pt,likeCount:0,dislikeCount:0,likedBy:[],dislikedBy:[],isBlueCheck:n.isBlueCheck||!1,color:n.color||"#58a6ff"}),u("")}catch(ht){console.error("Send message error:",ht),C("Failed to send message.")}},V=async R=>{try{s(pt=>pt.map(ht=>{if(ht.id!==R)return ht;const K=ht.likedBy||[],W=ht.dislikedBy||[],ot=n.uid;if(K.includes(ot))return{...ht,likedBy:K.filter(D=>D!==ot),likeCount:Math.max(0,(ht.likeCount||0)-1)};{const D=W.filter(ct=>ct!==ot),nt=W.includes(ot)?-1:0;return{...ht,likedBy:[...K,ot],dislikedBy:D,likeCount:(ht.likeCount||0)+1,dislikeCount:Math.max(0,(ht.dislikeCount||0)+nt)}}})),console.log("Like message:",R)}catch(pt){console.error("Like error:",pt)}},P=async R=>{try{s(pt=>pt.map(ht=>{if(ht.id!==R)return ht;const K=ht.likedBy||[],W=ht.dislikedBy||[],ot=n.uid;if(W.includes(ot))return{...ht,dislikedBy:W.filter(D=>D!==ot),dislikeCount:Math.max(0,(ht.dislikeCount||0)-1)};{const D=K.filter(ct=>ct!==ot),nt=K.includes(ot)?-1:0;return{...ht,dislikedBy:[...W,ot],likedBy:D,dislikeCount:(ht.dislikeCount||0)+1,likeCount:Math.max(0,(ht.likeCount||0)+nt)}}})),console.log("Dislike message:",R)}catch(pt){console.error("Dislike error:",pt)}},L=async(R,pt)=>{try{await CN(pt,n.uid,"inappropriate_content",R),alert("Report has been submitted.")}catch(ht){console.error("Report error:",ht),alert("Failed to submit report.")}};return y?B.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"white"},children:B.jsx("p",{children:"Checking location..."})}):b?B.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#ff4444"},children:[B.jsx("p",{children:b}),B.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",backgroundColor:"#58a6ff",color:"white",border:"none",borderRadius:"4px"},children:"Retry"})]}):B.jsxs("div",{className:"chat-layout",style:{display:"flex",flexDirection:"column",minHeight:"100dvh",width:"100%",backgroundColor:"#0d1117",position:"fixed",top:0,left:0,right:0,bottom:0},children:[B.jsxs("div",{className:"chat-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 1rem",backgroundColor:"#161b22",borderBottom:"1px solid #21262d",flexShrink:0,minHeight:"50px",zIndex:1e3},children:[B.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[B.jsxs("h2",{style:{margin:0,color:"white",fontSize:"1.2rem"},children:[n.nickname,n.isBlueCheck&&B.jsx("img",{src:KE,alt:"Blue Check",style:{width:"18px",height:"18px",marginLeft:"8px"}})]}),B.jsxs("div",{style:{backgroundColor:"#58a6ff",color:"white",padding:"0.3rem 0.8rem",borderRadius:"12px",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.4rem"},children:[B.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#00ff00",borderRadius:"50%",animation:"pulse 2s infinite"}}),k," online"]})]}),B.jsx("button",{onClick:t,style:{padding:"0.5rem 1rem",backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem"},children:"Logout"})]}),B.jsx("div",{ref:rt,className:"chat-messages",style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"1rem",backgroundColor:"#0d1117",WebkitOverflowScrolling:"touch",minHeight:0,paddingBottom:"1rem"},children:e.length===0?B.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"#8b949e",fontSize:"1.1rem"},children:"Start chatting with users within 1km around you!"}):e.map(R=>{const pt=MN(R.likeCount||0);return B.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",backgroundColor:"#161b22",borderRadius:"8px",border:"1px solid #21262d"},children:[B.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[B.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[B.jsxs("strong",{style:{color:R.color||"#58a6ff",fontSize:"0.95rem"},children:[pt.effect,R.nickname,pt.effect]}),R.isBlueCheck&&B.jsx("img",{src:KE,alt:"Blue Check",style:{width:"16px",height:"16px"}})]}),B.jsx("span",{style:{fontSize:"0.8rem",color:"#8b949e"},children:R.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),B.jsx("div",{style:{color:"#f0f6fc",marginBottom:"0.8rem",lineHeight:"1.5"},children:R.text}),B.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.8rem"},children:[(()=>{const ht=(R.likedBy||[]).includes(n.uid),K=(R.dislikedBy||[]).includes(n.uid);return B.jsxs(B.Fragment,{children:[B.jsxs("button",{onClick:()=>V(R.id,R.likeCount||0),style:{background:ht?"#58a6ff20":"none",border:ht?"1px solid #58a6ff":"none",color:ht?"#58a6ff":"#8b949e",cursor:"pointer",padding:"0.2rem 0.5rem",borderRadius:"4px",transition:"all 0.2s",fontWeight:ht?"bold":"normal"},onMouseOver:W=>W.target.style.backgroundColor=ht?"#58a6ff30":"#21262d",onMouseOut:W=>W.target.style.backgroundColor=ht?"#58a6ff20":"transparent",children:["👍 ",R.likeCount||0]}),B.jsxs("button",{onClick:()=>P(R.id,R.dislikeCount||0),style:{background:K?"#f8514920":"none",border:K?"1px solid #f85149":"none",color:K?"#f85149":"#8b949e",cursor:"pointer",padding:"0.2rem 0.5rem",borderRadius:"4px",transition:"all 0.2s",fontWeight:K?"bold":"normal"},onMouseOver:W=>W.target.style.backgroundColor=K?"#f8514930":"#21262d",onMouseOut:W=>W.target.style.backgroundColor=K?"#f8514920":"transparent",children:["👎 ",R.dislikeCount||0]})]})})(),B.jsx("button",{onClick:()=>L(R.id,R.userId),style:{background:"none",border:"none",color:"#ff7b72",cursor:"pointer",padding:"0.2rem 0.5rem",borderRadius:"4px",transition:"background-color 0.2s"},onMouseOver:ht=>ht.target.style.backgroundColor="#21262d",onMouseOut:ht=>ht.target.style.backgroundColor="transparent",children:"Report"})]})]},R.id)})}),B.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#2f2f2f",borderRadius:"20px",border:"none",padding:"0.2rem 0.8rem",minHeight:"44px",margin:"0.5rem 0.75rem",position:"sticky",bottom:"max(0.5rem, env(keyboard-inset-height, 0px))",zIndex:1e3,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(255, 255, 255, 0.03)",backgroundClip:"padding-box",WebkitBackgroundClip:"padding-box",transform:"translateZ(0)",willChange:"transform"},children:[B.jsx("input",{ref:st,type:"text",placeholder:O?"Please acknowledge safety warnings first...":"Message ChitChat",value:a,onChange:R=>u(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),O||x())},disabled:O,style:{flex:1,padding:"0.3rem 0.4rem",backgroundColor:"transparent",color:O?"#8b949e":"#ececf1",border:"none",borderRadius:"0",fontSize:"16px",outline:"none",cursor:O?"not-allowed":"text",resize:"none",fontFamily:"inherit"}}),B.jsx("button",{onClick:x,disabled:O||!a.trim(),style:{padding:"0.3rem",backgroundColor:O||!a.trim()?"#565869":"#19c37d",color:"white",border:"none",borderRadius:"16px",cursor:O||!a.trim()?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:"600",transition:"all 0.2s ease",minWidth:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"0.4rem"},onMouseOver:R=>{!O&&a.trim()&&(R.target.style.backgroundColor="#0fa968")},onMouseOut:R=>{!O&&a.trim()&&(R.target.style.backgroundColor="#19c37d")},children:"↑"})]}),O&&B.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},children:B.jsxs("div",{style:{backgroundColor:"black",borderRadius:"12px",padding:"1.5rem",maxWidth:"400px",width:"100%",maxHeight:"70vh",overflowY:"auto",border:"2px solid #ffffff",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)",fontFamily:"Poppins, sans-serif"},children:[B.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[B.jsx("h2",{style:{color:"#ffffff",fontSize:"1.2rem",fontWeight:"bold",margin:0,marginBottom:"0.5rem",fontFamily:"Poppins, sans-serif"},children:"DISCLOSURE"}),B.jsx("p",{style:{color:"#cccccc",fontSize:"0.9rem",margin:0,fontFamily:"Poppins, sans-serif"},children:"Please read these important safety notices before chatting"})]}),ft.map((R,pt)=>B.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"1rem 0",borderBottom:pt<ft.length-1?"1px solid #333333":"none",cursor:"pointer",transition:"background-color 0.2s ease"},onClick:()=>w(pt),onMouseOver:ht=>ht.target.style.backgroundColor="#2a2a2a",onMouseOut:ht=>ht.target.style.backgroundColor="transparent",children:[B.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:J[pt]?"none":"2px solid #666666",backgroundColor:J[pt]?"#007AFF":"transparent",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"1rem",transition:"all 0.2s ease"},children:J[pt]&&B.jsx("span",{style:{color:"white",fontSize:"12px",fontWeight:"bold"},children:"✓"})}),B.jsxs("div",{style:{flex:1},children:[B.jsx("div",{style:{fontSize:"0.95rem",fontWeight:"500",color:"#ffffff",lineHeight:"1.3",fontFamily:"Poppins, sans-serif"},children:R.title}),B.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"normal",lineHeight:"1.4",color:"#999999",marginTop:"0.3rem",fontFamily:"Poppins, sans-serif"},children:R.text})]}),B.jsx("div",{style:{fontSize:"0.8rem",color:"#FF3B30",fontWeight:"600",marginLeft:"0.5rem",fontFamily:"Poppins, sans-serif"},children:"(Required)"})]},pt)),B.jsx("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:B.jsx("button",{onClick:()=>M&&Q(!1),disabled:!M,style:{backgroundColor:M?"#007AFF":"#333333",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"12px",cursor:M?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"600",transition:"all 0.2s",width:"100%",opacity:M?1:.5,fontFamily:"Poppins, sans-serif"},onMouseOver:R=>{M&&(R.target.style.backgroundColor="#0056CC")},onMouseOut:R=>{M&&(R.target.style.backgroundColor="#007AFF")},children:M?"Agree":"Please agree to all items"})})]})})]})},hy=ut.forwardRef(({className:n="",size:t="default",children:e,...s},a)=>{const u=ut.useMemo(()=>({default:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs",lg:"px-6 py-3 text-base"}),[]),c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d=ut.useMemo(()=>`${c} ${u[t]||u.default} ${n}`,[c,u,t,n]);return B.jsx("button",{className:d,ref:a,...s,children:e})});hy.displayName="Button";const BS=ut.createContext({});function ON(n){const t=ut.useRef(null);return t.current===null&&(t.current=n()),t.current}const fy=typeof window<"u",NN=fy?ut.useLayoutEffect:ut.useEffect,dy=ut.createContext(null);function my(n,t){n.indexOf(t)===-1&&n.push(t)}function py(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ps=(n,t,e)=>e>t?t:e<n?n:e;let gy=()=>{};const gs={},jS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function zS(n){return typeof n=="object"&&n!==null}const FS=n=>/^0[^.\s]+$/u.test(n);function yy(n){let t;return()=>(t===void 0&&(t=n()),t)}const qn=n=>n,PN=(n,t)=>e=>t(n(e)),Gu=(...n)=>n.reduce(PN),Mu=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class vy{constructor(){this.subscriptions=[]}add(t){return my(this.subscriptions,t),()=>py(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let u=0;u<a;u++){const c=this.subscriptions[u];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ri=n=>n*1e3,Ci=n=>n/1e3;function qS(n,t){return t?n*(1e3/t):0}const HS=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,kN=1e-7,LN=12;function UN(n,t,e,s,a){let u,c,d=0;do c=t+(e-t)/2,u=HS(c,s,a)-n,u>0?e=c:t=c;while(Math.abs(u)>kN&&++d<LN);return c}function Ku(n,t,e,s){if(n===t&&e===s)return qn;const a=u=>UN(u,0,1,n,e);return u=>u===0||u===1?u:HS(a(u),t,s)}const GS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,KS=n=>t=>1-n(1-t),YS=Ku(.33,1.53,.69,.99),_y=KS(YS),QS=GS(_y),XS=n=>(n*=2)<1?.5*_y(n):.5*(2-Math.pow(2,-10*(n-1))),Ty=n=>1-Math.sin(Math.acos(n)),$S=KS(Ty),WS=GS(Ty),BN=Ku(.42,0,1,1),jN=Ku(0,0,.58,1),ZS=Ku(.42,0,.58,1),zN=n=>Array.isArray(n)&&typeof n[0]!="number",JS=n=>Array.isArray(n)&&typeof n[0]=="number",FN={linear:qn,easeIn:BN,easeInOut:ZS,easeOut:jN,circIn:Ty,circInOut:WS,circOut:$S,backIn:_y,backInOut:QS,backOut:YS,anticipate:XS},qN=n=>typeof n=="string",YE=n=>{if(JS(n)){gy(n.length===4);const[t,e,s,a]=n;return Ku(t,e,s,a)}else if(qN(n))return FN[n];return n},Rh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function HN(n,t){let e=new Set,s=new Set,a=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),n()),y(d)}const g={schedule:(y,E=!1,b=!1)=>{const k=b&&a?e:s;return E&&c.add(y),k.has(y)||k.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){u=!0;return}a=!0,[e,s]=[s,e],e.forEach(m),e.clear(),a=!1,u&&(u=!1,g.process(y))}};return g}const GN=40;function tw(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Rh.reduce((X,rt)=>(X[rt]=HN(u),X),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:E,preRender:b,render:C,postRender:k}=c,H=()=>{const X=gs.useManualTiming?a.timestamp:performance.now();e=!1,gs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(X-a.timestamp,GN),1)),a.timestamp=X,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),E.process(a),b.process(a),C.process(a),k.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(H))},O=()=>{e=!0,s=!0,a.isProcessing||n(H)};return{schedule:Rh.reduce((X,rt)=>{const st=c[rt];return X[rt]=(ft,M=!1,w=!1)=>(e||O(),st.schedule(ft,M,w)),X},{}),cancel:X=>{for(let rt=0;rt<Rh.length;rt++)c[Rh[rt]].cancel(X)},state:a,steps:c}}const{schedule:ae,cancel:fr,state:Ye,steps:sp}=tw(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0);let Bh;function KN(){Bh=void 0}const gn={now:()=>(Bh===void 0&&gn.set(Ye.isProcessing||gs.useManualTiming?Ye.timestamp:performance.now()),Bh),set:n=>{Bh=n,queueMicrotask(KN)}},ew=n=>t=>typeof t=="string"&&t.startsWith(n),Ey=ew("--"),YN=ew("var(--"),by=n=>YN(n)?QN.test(n.split("/*")[0].trim()):!1,QN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ho={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Vu={...Ho,transform:n=>ps(0,1,n)},Ch={...Ho,default:1},gu=n=>Math.round(n*1e5)/1e5,Ay=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XN(n){return n==null}const $N=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sy=(n,t)=>e=>!!(typeof e=="string"&&$N.test(e)&&e.startsWith(n)||t&&!XN(e)&&Object.prototype.hasOwnProperty.call(e,t)),nw=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,u,c,d]=s.match(Ay);return{[n]:parseFloat(a),[t]:parseFloat(u),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},WN=n=>ps(0,255,n),rp={...Ho,transform:n=>Math.round(WN(n))},ia={test:Sy("rgb","red"),parse:nw("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+rp.transform(n)+", "+rp.transform(t)+", "+rp.transform(e)+", "+gu(Vu.transform(s))+")"};function ZN(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Hp={test:Sy("#"),parse:ZN,transform:ia.transform},Yu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ys=Yu("deg"),xi=Yu("%"),wt=Yu("px"),JN=Yu("vh"),tP=Yu("vw"),QE={...xi,parse:n=>xi.parse(n)/100,transform:n=>xi.transform(n*100)},po={test:Sy("hsl","hue"),parse:nw("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+xi.transform(gu(t))+", "+xi.transform(gu(e))+", "+gu(Vu.transform(s))+")"},Re={test:n=>ia.test(n)||Hp.test(n)||po.test(n),parse:n=>ia.test(n)?ia.parse(n):po.test(n)?po.parse(n):Hp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ia.transform(n):po.transform(n),getAnimatableNone:n=>{const t=Re.parse(n);return t.alpha=0,Re.transform(t)}},eP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nP(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Ay))==null?void 0:t.length)||0)+(((e=n.match(eP))==null?void 0:e.length)||0)>0}const iw="number",sw="color",iP="var",sP="var(",XE="${}",rP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ou(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let u=0;const d=t.replace(rP,m=>(Re.test(m)?(s.color.push(u),a.push(sw),e.push(Re.parse(m))):m.startsWith(sP)?(s.var.push(u),a.push(iP),e.push(m)):(s.number.push(u),a.push(iw),e.push(parseFloat(m))),++u,XE)).split(XE);return{values:e,split:d,indexes:s,types:a}}function rw(n){return Ou(n).values}function aw(n){const{split:t,types:e}=Ou(n),s=t.length;return a=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],a[c]!==void 0){const d=e[c];d===iw?u+=gu(a[c]):d===sw?u+=Re.transform(a[c]):u+=a[c]}return u}}const aP=n=>typeof n=="number"?0:Re.test(n)?Re.getAnimatableNone(n):n;function oP(n){const t=rw(n);return aw(n)(t.map(aP))}const dr={test:nP,parse:rw,createTransformer:aw,getAnimatableNone:oP};function ap(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function lP({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,u=0,c=0;if(!t)a=u=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,m=2*e-d;a=ap(m,d,n+1/3),u=ap(m,d,n),c=ap(m,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function cf(n,t){return e=>e>0?t:n}const ue=(n,t,e)=>n+(t-n)*e,op=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},uP=[Hp,ia,po],cP=n=>uP.find(t=>t.test(n));function $E(n){const t=cP(n);if(!t)return!1;let e=t.parse(n);return t===po&&(e=lP(e)),e}const WE=(n,t)=>{const e=$E(n),s=$E(t);if(!e||!s)return cf(n,t);const a={...e};return u=>(a.red=op(e.red,s.red,u),a.green=op(e.green,s.green,u),a.blue=op(e.blue,s.blue,u),a.alpha=ue(e.alpha,s.alpha,u),ia.transform(a))},Gp=new Set(["none","hidden"]);function hP(n,t){return Gp.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function fP(n,t){return e=>ue(n,t,e)}function wy(n){return typeof n=="number"?fP:typeof n=="string"?by(n)?cf:Re.test(n)?WE:pP:Array.isArray(n)?ow:typeof n=="object"?Re.test(n)?WE:dP:cf}function ow(n,t){const e=[...n],s=e.length,a=n.map((u,c)=>wy(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)e[c]=a[c](u);return e}}function dP(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=wy(n[a])(n[a],t[a]));return a=>{for(const u in s)e[u]=s[u](a);return e}}function mP(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const u=t.types[a],c=n.indexes[u][s[u]],d=n.values[c]??0;e[a]=d,s[u]++}return e}const pP=(n,t)=>{const e=dr.createTransformer(t),s=Ou(n),a=Ou(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Gp.has(n)&&!a.values.length||Gp.has(t)&&!s.values.length?hP(n,t):Gu(ow(mP(s,a),a.values),e):cf(n,t)};function lw(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ue(n,t,e):wy(n)(n,t)}const gP=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ae.update(t,e),stop:()=>fr(t),now:()=>Ye.isProcessing?Ye.timestamp:gn.now()}},uw=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let u=0;u<a;u++)s+=Math.round(n(u/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},hf=2e4;function Ry(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<hf;)t+=e,s=n.next(t);return t>=hf?1/0:t}function yP(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(Ry(s),hf);return{type:"keyframes",ease:u=>s.next(a*u).value/t,duration:Ci(a)}}const vP=5;function cw(n,t,e){const s=Math.max(t-vP,0);return qS(e-n(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ZE=.001;function _P({duration:n=me.duration,bounce:t=me.bounce,velocity:e=me.velocity,mass:s=me.mass}){let a,u,c=1-t;c=ps(me.minDamping,me.maxDamping,c),n=ps(me.minDuration,me.maxDuration,Ci(n)),c<1?(a=g=>{const y=g*c,E=y*n,b=y-e,C=Kp(g,c),k=Math.exp(-E);return ZE-b/C*k},u=g=>{const E=g*c*n,b=E*e+e,C=Math.pow(c,2)*Math.pow(g,2)*n,k=Math.exp(-E),H=Kp(Math.pow(g,2),c);return(-a(g)+ZE>0?-1:1)*((b-C)*k)/H}):(a=g=>{const y=Math.exp(-g*n),E=(g-e)*n+1;return-.001+y*E},u=g=>{const y=Math.exp(-g*n),E=(e-g)*(n*n);return y*E});const d=5/n,m=EP(a,u,d);if(n=Ri(n),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:n};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const TP=12;function EP(n,t,e){let s=e;for(let a=1;a<TP;a++)s=s-n(s)/t(s);return s}function Kp(n,t){return n*Math.sqrt(1-t*t)}const bP=["duration","bounce"],AP=["stiffness","damping","mass"];function JE(n,t){return t.some(e=>n[e]!==void 0)}function SP(n){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...n};if(!JE(n,AP)&&JE(n,bP))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,u=2*ps(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:u}}else{const e=_P(n);t={...t,...e,mass:me.mass},t.isResolvedFromDuration=!0}return t}function ff(n=me.visualDuration,t=me.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:y,duration:E,velocity:b,isResolvedFromDuration:C}=SP({...e,velocity:-Ci(e.velocity||0)}),k=b||0,H=g/(2*Math.sqrt(m*y)),O=c-u,Q=Ci(Math.sqrt(m/y)),J=Math.abs(O)<5;s||(s=J?me.restSpeed.granular:me.restSpeed.default),a||(a=J?me.restDelta.granular:me.restDelta.default);let X;if(H<1){const st=Kp(Q,H);X=ft=>{const M=Math.exp(-H*Q*ft);return c-M*((k+H*Q*O)/st*Math.sin(st*ft)+O*Math.cos(st*ft))}}else if(H===1)X=st=>c-Math.exp(-Q*st)*(O+(k+Q*O)*st);else{const st=Q*Math.sqrt(H*H-1);X=ft=>{const M=Math.exp(-H*Q*ft),w=Math.min(st*ft,300);return c-M*((k+H*Q*O)*Math.sinh(w)+st*O*Math.cosh(w))/st}}const rt={calculatedDuration:C&&E||null,next:st=>{const ft=X(st);if(C)d.done=st>=E;else{let M=st===0?k:0;H<1&&(M=st===0?Ri(k):cw(X,st,ft));const w=Math.abs(M)<=s,x=Math.abs(c-ft)<=a;d.done=w&&x}return d.value=d.done?c:ft,d},toString:()=>{const st=Math.min(Ry(rt),hf),ft=uw(M=>rt.next(st*M).value,st,30);return st+"ms "+ft},toTransition:()=>{}};return rt}ff.applyToOptions=n=>{const t=yP(n,100,ff);return n.ease=t.ease,n.duration=Ri(t.duration),n.type="keyframes",n};function Yp({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const E=n[0],b={done:!1,value:E},C=w=>d!==void 0&&w<d||m!==void 0&&w>m,k=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let H=e*t;const O=E+H,Q=c===void 0?O:c(O);Q!==O&&(H=Q-E);const J=w=>-H*Math.exp(-w/s),X=w=>Q+J(w),rt=w=>{const x=J(w),V=X(w);b.done=Math.abs(x)<=g,b.value=b.done?Q:V};let st,ft;const M=w=>{C(b.value)&&(st=w,ft=ff({keyframes:[b.value,k(b.value)],velocity:cw(X,w,b.value),damping:a,stiffness:u,restDelta:g,restSpeed:y}))};return M(0),{calculatedDuration:null,next:w=>{let x=!1;return!ft&&st===void 0&&(x=!0,rt(w),M(w)),st!==void 0&&w>=st?ft.next(w-st):(!x&&rt(w),b)}}}function wP(n,t,e){const s=[],a=e||gs.mix||lw,u=n.length-1;for(let c=0;c<u;c++){let d=a(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||qn:t;d=Gu(m,d)}s.push(d)}return s}function RP(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const u=n.length;if(gy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=wP(t,s,a),m=d.length,g=y=>{if(c&&y<n[0])return t[0];let E=0;if(m>1)for(;E<n.length-2&&!(y<n[E+1]);E++);const b=Mu(n[E],n[E+1],y);return d[E](b)};return e?y=>g(ps(n[0],n[u-1],y)):g}function CP(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=Mu(0,t,s);n.push(ue(e,1,a))}}function xP(n){const t=[0];return CP(t,n.length-1),t}function IP(n,t){return n.map(e=>e*t)}function DP(n,t){return n.map(()=>t||ZS).splice(0,n.length-1)}function yu({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=zN(s)?s.map(YE):YE(s),u={done:!1,value:t[0]},c=IP(e&&e.length===t.length?e:xP(t),n),d=RP(c,t,{ease:Array.isArray(a)?a:DP(t,a)});return{calculatedDuration:n,next:m=>(u.value=d(m),u.done=m>=n,u)}}const MP=n=>n!==null;function Cy(n,{repeat:t,repeatType:e="loop"},s,a=1){const u=n.filter(MP),d=a<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const VP={decay:Yp,inertia:Yp,tween:yu,keyframes:yu,spring:ff};function hw(n){typeof n.type=="string"&&(n.type=VP[n.type])}class xy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const OP=n=>n/100;class Iy extends xy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:e}=this.options;e&&e.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hw(t);const{type:e=yu,repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const m=e||yu;m!==yu&&typeof d[0]!="number"&&(this.mixKeyframes=Gu(OP,lw(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Ry(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:E,repeatType:b,repeatDelay:C,type:k,onUpdate:H,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),J=this.playbackSpeed>=0?Q<0:Q>a;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let X=this.currentTime,rt=s;if(E){const w=Math.min(this.currentTime,a)/d;let x=Math.floor(w),V=w%1;!V&&w>=1&&(V=1),V===1&&x--,x=Math.min(x,E+1),!!(x%2)&&(b==="reverse"?(V=1-V,C&&(V-=C/d)):b==="mirror"&&(rt=c)),X=ps(0,1,V)*d}const st=J?{done:!1,value:y[0]}:rt.next(X);u&&(st.value=u(st.value));let{done:ft}=st;!J&&m!==null&&(ft=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ft);return M&&k!==Yp&&(st.value=Cy(y,this.options,O,this.speed)),H&&H(st.value),M&&this.finish(),st}then(t,e){return this.finished.then(t,e)}get duration(){return Ci(this.calculatedDuration)}get time(){return Ci(this.currentTime)}set time(t){var e;t=Ri(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(gn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ci(this.currentTime))}play(){var a,u;if(this.isStopped)return;const{driver:t=gP,startTime:e}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(u=(a=this.options).onPlay)==null||u.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function NP(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const sa=n=>n*180/Math.PI,Qp=n=>{const t=sa(Math.atan2(n[1],n[0]));return Xp(t)},PP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Qp,rotateZ:Qp,skewX:n=>sa(Math.atan(n[1])),skewY:n=>sa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Xp=n=>(n=n%360,n<0&&(n+=360),n),tb=Qp,eb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),nb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),kP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eb,scaleY:nb,scale:n=>(eb(n)+nb(n))/2,rotateX:n=>Xp(sa(Math.atan2(n[6],n[5]))),rotateY:n=>Xp(sa(Math.atan2(-n[2],n[0]))),rotateZ:tb,rotate:tb,skewX:n=>sa(Math.atan(n[4])),skewY:n=>sa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function $p(n){return n.includes("scale")?1:0}function Wp(n,t){if(!n||n==="none")return $p(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=kP,a=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=PP,a=d}if(!a)return $p(t);const u=s[t],c=a[1].split(",").map(UP);return typeof u=="function"?u(c):c[u]}const LP=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Wp(e,t)};function UP(n){return parseFloat(n.trim())}const Go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(Go),ib=n=>n===Ho||n===wt,BP=new Set(["x","y","z"]),jP=Go.filter(n=>!BP.has(n));function zP(n){const t=[];return jP.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const aa={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Wp(t,"x"),y:(n,{transform:t})=>Wp(t,"y")};aa.translateX=aa.x;aa.translateY=aa.y;const oa=new Set;let Zp=!1,Jp=!1,tg=!1;function fw(){if(Jp){const n=Array.from(oa).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=zP(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([u,c])=>{var d;(d=s.getValue(u))==null||d.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Jp=!1,Zp=!1,oa.forEach(n=>n.complete(tg)),oa.clear()}function dw(){oa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Jp=!0)})}function FP(){tg=!0,dw(),fw(),tg=!1}class Dy{constructor(t,e,s,a,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(oa.add(this),Zp||(Zp=!0,ae.read(dw),ae.resolveKeyframes(fw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const u=a==null?void 0:a.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&e){const d=s.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&u===void 0&&a.set(t[0])}NP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oa.delete(this)}cancel(){this.state==="scheduled"&&(oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qP=n=>n.startsWith("--");function HP(n,t,e){qP(t)?n.style.setProperty(t,e):n.style[t]=e}const GP=yy(()=>window.ScrollTimeline!==void 0),KP={};function YP(n,t){const e=yy(n);return()=>KP[t]??e()}const mw=YP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lu=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,sb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lu([0,.65,.55,1]),circOut:lu([.55,0,1,.45]),backIn:lu([.31,.01,.66,-.59]),backOut:lu([.33,1.53,.69,.99])};function pw(n,t){if(n)return typeof n=="function"?mw()?uw(n,t):"ease-out":JS(n)?lu(n):Array.isArray(n)?n.map(e=>pw(e,t)||sb.easeOut):sb[n]}function QP(n,t,e,{delay:s=0,duration:a=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:e};m&&(y.offset=m);const E=pw(d,a);Array.isArray(E)&&(y.easing=E);const b={delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),n.animate(y,b)}function gw(n){return typeof n=="function"&&"applyToOptions"in n}function XP({type:n,...t}){return gw(n)&&mw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class $P extends xy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,gy(typeof t.type!="string");const g=XP(t);this.animation=QP(e,s,a,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Cy(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):HP(e,s,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,s;const t=((s=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:s.call(e).duration)||0;return Ci(Number(t))}get time(){return Ci(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ri(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&GP()?(this.animation.timeline=t,qn):e(this)}}const yw={anticipate:XS,backInOut:QS,circInOut:WS};function WP(n){return n in yw}function ZP(n){typeof n.ease=="string"&&WP(n.ease)&&(n.ease=yw[n.ease])}const rb=10;class JP extends $P{constructor(t){ZP(t),hw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new Iy({...c,autoplay:!1}),m=Ri(this.finishedTime??this.time);e.setWithVelocity(d.sample(m-rb).value,d.sample(m).value,rb),d.stop()}}const ab=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(dr.test(n)||n==="0")&&!n.startsWith("url("));function t4(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function e4(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=ab(a,t),d=ab(u,t);return!c||!d?!1:t4(n)||(e==="spring"||gw(e))&&s}function eg(n){n.duration=0,n.type}const n4=new Set(["opacity","clipPath","filter","transform"]),i4=yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function s4(n){var y;const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:u,type:c}=n;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return i4()&&e&&n4.has(e)&&(e!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&u!==0&&c!=="inertia"}const r4=40;class a4 extends xy{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,...E}){var k;super(),this.stop=()=>{var H,O;this._animation&&(this._animation.stop(),(H=this.stopTimeline)==null||H.call(this)),(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=gn.now();const b={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:u,repeatType:c,name:m,motionValue:g,element:y,...E},C=(y==null?void 0:y.KeyframeResolver)||Dy;this.keyframeResolver=new C(d,(H,O,Q)=>this.onKeyframesResolved(H,O,b,!Q),m,g,y),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=gn.now(),e4(t,u,c,d)||((gs.instantAnimations||!m)&&(y==null||y(Cy(t,s,e))),t[0]=t[t.length-1],eg(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>r4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},C=!g&&s4(b)?new JP({...b,element:b.motionValue.owner.current}):new Iy(b);C.finished.then(()=>this.notifyFinished()).catch(qn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),FP()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const o4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l4(n){const t=o4.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function vw(n,t,e=1){const[s,a]=l4(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return jS(c)?parseFloat(c):c}return by(a)?vw(a,t,e+1):a}function My(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const _w=new Set(["width","height","top","left","right","bottom",...Go]),u4={test:n=>n==="auto",parse:n=>n},Tw=n=>t=>t.test(n),Ew=[Ho,wt,xi,Ys,tP,JN,u4],ob=n=>Ew.find(Tw(n));function c4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||FS(n):!0}const h4=new Set(["brightness","contrast","saturate","opacity"]);function f4(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(Ay)||[];if(!s)return n;const a=e.replace(s,"");let u=h4.has(t)?1:0;return s!==e&&(u*=100),t+"("+u+a+")"}const d4=/\b([a-z-]*)\(.*?\)/gu,ng={...dr,getAnimatableNone:n=>{const t=n.match(d4);return t?t.map(f4).join(" "):n}},lb={...Ho,transform:Math.round},m4={rotate:Ys,rotateX:Ys,rotateY:Ys,rotateZ:Ys,scale:Ch,scaleX:Ch,scaleY:Ch,scaleZ:Ch,skew:Ys,skewX:Ys,skewY:Ys,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:Vu,originX:QE,originY:QE,originZ:wt},Vy={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...m4,zIndex:lb,fillOpacity:Vu,strokeOpacity:Vu,numOctaves:lb},p4={...Vy,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:ng,WebkitFilter:ng},bw=n=>p4[n];function Aw(n,t){let e=bw(n);return e!==ng&&(e=dr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const g4=new Set(["auto","none","0"]);function y4(n,t,e){let s=0,a;for(;s<n.length&&!a;){const u=n[s];typeof u=="string"&&!g4.has(u)&&Ou(u).values.length&&(a=n[s]),s++}if(a&&e)for(const u of t)n[u]=Aw(e,a)}class v4 extends Dy{constructor(t,e,s,a,u){super(t,e,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),by(g))){const y=vw(g,e.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!_w.has(s)||t.length!==2)return;const[a,u]=t,c=ob(a),d=ob(u);if(c!==d)if(ib(c)&&ib(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else aa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||c4(t[a]))&&s.push(a);s.length&&y4(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=aa[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,g])=>{t.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function _4(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(e==null?void 0:e[n])??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const Sw=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function T4(n){return zS(n)&&"offsetHeight"in n}const ub=30,E4=n=>!isNaN(parseFloat(n));class b4{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const a=gn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=gn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=E4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new vy);const s=this.events[t].add(e);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ub)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,ub);return qS(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(n,t){return new b4(n,t)}const{schedule:Oy}=tw(queueMicrotask,!1),$n={x:!1,y:!1};function ww(){return $n.x||$n.y}function A4(n){return n==="x"||n==="y"?$n[n]?null:($n[n]=!0,()=>{$n[n]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}function Rw(n,t){const e=_4(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function cb(n){return!(n.pointerType==="touch"||ww())}function S4(n,t,e={}){const[s,a,u]=Rw(n,e),c=d=>{if(!cb(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=E=>{cb(E)&&(g(E),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),u}const Cw=(n,t)=>t?n===t?!0:Cw(n,t.parentElement):!1,Ny=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,w4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function R4(n){return w4.has(n.tagName)||n.tabIndex!==-1}const jh=new WeakSet;function hb(n){return t=>{t.key==="Enter"&&n(t)}}function lp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C4=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=hb(()=>{if(jh.has(e))return;lp(e,"down");const a=hb(()=>{lp(e,"up")}),u=()=>lp(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function fb(n){return Ny(n)&&!ww()}function x4(n,t,e={}){const[s,a,u]=Rw(n,e),c=d=>{const m=d.currentTarget;if(!fb(d))return;jh.add(m);const g=t(m,d),y=(C,k)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",b),jh.has(m)&&jh.delete(m),fb(C)&&typeof g=="function"&&g(C,{success:k})},E=C=>{y(C,m===window||m===document||e.useGlobalTarget||Cw(m,C.target))},b=C=>{y(C,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),T4(d)&&(d.addEventListener("focus",g=>C4(g,a)),!R4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function xw(n){return zS(n)&&"ownerSVGElement"in n}function I4(n){return xw(n)&&n.tagName==="svg"}const sn=n=>!!(n&&n.getVelocity),D4=[...Ew,Re,dr],M4=n=>D4.find(Tw(n)),Iw=ut.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function V4(n=!0){const t=ut.useContext(dy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,u=ut.useId();ut.useEffect(()=>{if(n)return a(u)},[n]);const c=ut.useCallback(()=>n&&s&&s(u),[u,s,n]);return!e&&s?[!1,c]:[!0]}const Dw=ut.createContext({strict:!1}),db={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Po={};for(const n in db)Po[n]={isEnabled:t=>db[n].some(e=>!!t[e])};function O4(n){for(const t in n)Po[t]={...Po[t],...n[t]}}const N4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function df(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||N4.has(n)}let Mw=n=>!df(n);function P4(n){typeof n=="function"&&(Mw=t=>t.startsWith("on")?!df(t):n(t))}try{P4(require("@emotion/is-prop-valid").default)}catch{}function k4(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(Mw(a)||e===!0&&df(a)||!t&&!df(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const Nf=ut.createContext({});function Pf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Nu(n){return typeof n=="string"||Array.isArray(n)}const Py=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ky=["initial",...Py];function kf(n){return Pf(n.animate)||ky.some(t=>Nu(n[t]))}function Vw(n){return!!(kf(n)||n.variants)}function L4(n,t){if(kf(n)){const{initial:e,animate:s}=n;return{initial:e===!1||Nu(e)?e:void 0,animate:Nu(s)?s:void 0}}return n.inherit!==!1?t:{}}function U4(n){const{initial:t,animate:e}=L4(n,ut.useContext(Nf));return ut.useMemo(()=>({initial:t,animate:e}),[mb(t),mb(e)])}function mb(n){return Array.isArray(n)?n.join(" "):n}const Pu={};function B4(n){for(const t in n)Pu[t]=n[t],Ey(t)&&(Pu[t].isCSSVariable=!0)}function Ow(n,{layout:t,layoutId:e}){return Ko.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Pu[n]||n==="opacity")}const j4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},z4=Go.length;function F4(n,t,e){let s="",a=!0;for(let u=0;u<z4;u++){const c=Go[u],d=n[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||e){const g=Sw(d,Vy[c]);if(!m){a=!1;const y=j4[c]||c;s+=`${y}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function Ly(n,t,e){const{style:s,vars:a,transformOrigin:u}=n;let c=!1,d=!1;for(const m in t){const g=t[m];if(Ko.has(m)){c=!0;continue}else if(Ey(m)){a[m]=g;continue}else{const y=Sw(g,Vy[m]);m.startsWith("origin")?(d=!0,u[m]=y):s[m]=y}}if(t.transform||(c||e?s.transform=F4(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=u;s.transformOrigin=`${m} ${g} ${y}`}}const Uy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nw(n,t,e){for(const s in t)!sn(t[s])&&!Ow(s,e)&&(n[s]=t[s])}function q4({transformTemplate:n},t){return ut.useMemo(()=>{const e=Uy();return Ly(e,t,n),Object.assign({},e.vars,e.style)},[t])}function H4(n,t){const e=n.style||{},s={};return Nw(s,e,n),Object.assign(s,q4(n,t)),s}function G4(n,t){const e={},s=H4(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const K4={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y4={offset:"strokeDashoffset",array:"strokeDasharray"};function Q4(n,t,e=1,s=0,a=!0){n.pathLength=1;const u=a?K4:Y4;n[u.offset]=wt.transform(-s);const c=wt.transform(t),d=wt.transform(e);n[u.array]=`${c} ${d}`}function Pw(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:u=1,pathOffset:c=0,...d},m,g,y){if(Ly(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:b}=n;E.transform&&(b.transform=E.transform,delete E.transform),(b.transform||E.transformOrigin)&&(b.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),b.transform&&(b.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),s!==void 0&&(E.scale=s),a!==void 0&&Q4(E,a,u,c,!1)}const kw=()=>({...Uy(),attrs:{}}),Lw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function X4(n,t,e,s){const a=ut.useMemo(()=>{const u=kw();return Pw(u,t,Lw(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};Nw(u,n.style,n),a.style={...u,...a.style}}return a}const $4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function By(n){return typeof n!="string"||n.includes("-")?!1:!!($4.indexOf(n)>-1||/[A-Z]/u.test(n))}function W4(n,t,e,{latestValues:s},a,u=!1){const d=(By(n)?X4:G4)(t,s,a,n),m=k4(t,typeof n=="string",u),g=n!==ut.Fragment?{...m,...d,ref:e}:{},{children:y}=t,E=ut.useMemo(()=>sn(y)?y.get():y,[y]);return ut.createElement(n,{...g,children:E})}function pb(n){const t=[{},{}];return n==null||n.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function jy(n,t,e,s){if(typeof t=="function"){const[a,u]=pb(s);t=t(e!==void 0?e:n.custom,a,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,u]=pb(s);t=t(e!==void 0?e:n.custom,a,u)}return t}function zh(n){return sn(n)?n.get():n}function Z4({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:J4(e,s,a,n),renderState:t()}}function J4(n,t,e,s){const a={},u=s(n,{});for(const b in u)a[b]=zh(u[b]);let{initial:c,animate:d}=n;const m=kf(n),g=Vw(n);t&&g&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const E=y?d:c;if(E&&typeof E!="boolean"&&!Pf(E)){const b=Array.isArray(E)?E:[E];for(let C=0;C<b.length;C++){const k=jy(n,b[C]);if(k){const{transitionEnd:H,transition:O,...Q}=k;for(const J in Q){let X=Q[J];if(Array.isArray(X)){const rt=y?X.length-1:0;X=X[rt]}X!==null&&(a[J]=X)}for(const J in H)a[J]=H[J]}}}return a}const Uw=n=>(t,e)=>{const s=ut.useContext(Nf),a=ut.useContext(dy),u=()=>Z4(n,t,s,a);return e?u():ON(u)};function zy(n,t,e){var u;const{style:s}=n,a={};for(const c in s)(sn(s[c])||t.style&&sn(t.style[c])||Ow(c,n)||((u=e==null?void 0:e.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const tk=Uw({scrapeMotionValuesFromProps:zy,createRenderState:Uy});function Bw(n,t,e){const s=zy(n,t,e);for(const a in n)if(sn(n[a])||sn(t[a])){const u=Go.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=n[a]}return s}const ek=Uw({scrapeMotionValuesFromProps:Bw,createRenderState:kw}),nk=Symbol.for("motionComponentSymbol");function go(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ik(n,t,e){return ut.useCallback(s=>{s&&n.onMount&&n.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):go(e)&&(e.current=s))},[t])}const Fy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sk="framerAppearId",jw="data-"+Fy(sk),zw=ut.createContext({});function rk(n,t,e,s,a){var H,O;const{visualElement:u}=ut.useContext(Nf),c=ut.useContext(Dw),d=ut.useContext(dy),m=ut.useContext(Iw).reducedMotion,g=ut.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,E=ut.useContext(zw);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&ak(g.current,e,a,E);const b=ut.useRef(!1);ut.useInsertionEffect(()=>{y&&b.current&&y.update(e,d)});const C=e[jw],k=ut.useRef(!!C&&!((H=window.MotionHandoffIsComplete)!=null&&H.call(window,C))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,C)));return NN(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),k.current&&y.animationState&&y.animationState.animateChanges())}),ut.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var Q;(Q=window.MotionHandoffMarkAsComplete)==null||Q.call(window,C)}),k.current=!1),y.enteringChildren=void 0)}),y}function ak(n,t,e,s){const{layoutId:a,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:Fw(n.parent)),n.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||d&&go(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function Fw(n){if(n)return n.options.allowProjection!==!1?n.projection:Fw(n.parent)}function up(n,{forwardMotionProps:t=!1}={},e,s){e&&O4(e);const a=By(n)?ek:tk;function u(d,m){let g;const y={...ut.useContext(Iw),...d,layoutId:ok(d)},{isStatic:E}=y,b=U4(d),C=a(d,E);if(!E&&fy){lk();const k=uk(y);g=k.MeasureLayout,b.visualElement=rk(n,C,y,s,k.ProjectionNode)}return B.jsxs(Nf.Provider,{value:b,children:[g&&b.visualElement?B.jsx(g,{visualElement:b.visualElement,...y}):null,W4(n,d,ik(C,b.visualElement,m),C,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=ut.forwardRef(u);return c[nk]=n,c}function ok({layoutId:n}){const t=ut.useContext(BS).id;return t&&n!==void 0?t+"-"+n:n}function lk(n,t){ut.useContext(Dw).strict}function uk(n){const{drag:t,layout:e}=Po;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ck(n,t){if(typeof Proxy>"u")return up;const e=new Map,s=(u,c)=>up(u,c,n,t),a=(u,c)=>s(u,c);return new Proxy(a,{get:(u,c)=>c==="create"?s:(e.has(c)||e.set(c,up(c,void 0,n,t)),e.get(c))})}function qw({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function hk({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function fk(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function cp(n){return n===void 0||n===1}function ig({scale:n,scaleX:t,scaleY:e}){return!cp(n)||!cp(t)||!cp(e)}function ea(n){return ig(n)||Hw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Hw(n){return gb(n.x)||gb(n.y)}function gb(n){return n&&n!=="0%"}function mf(n,t,e){const s=n-e,a=t*s;return e+a}function yb(n,t,e,s,a){return a!==void 0&&(n=mf(n,a,s)),mf(n,e,s)+t}function sg(n,t=0,e=1,s,a){n.min=yb(n.min,t,e,s,a),n.max=yb(n.max,t,e,s,a)}function Gw(n,{x:t,y:e}){sg(n.x,t.translate,t.scale,t.originPoint),sg(n.y,e.translate,e.scale,e.originPoint)}const vb=.999999999999,_b=1.0000000000001;function dk(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let u,c;for(let d=0;d<a;d++){u=e[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Gw(n,c)),s&&ea(u.latestValues)&&vo(n,u.latestValues))}t.x<_b&&t.x>vb&&(t.x=1),t.y<_b&&t.y>vb&&(t.y=1)}function yo(n,t){n.min=n.min+t,n.max=n.max+t}function Tb(n,t,e,s,a=.5){const u=ue(n.min,n.max,a);sg(n,t,e,u,s)}function vo(n,t){Tb(n.x,t.x,t.scaleX,t.scale,t.originX),Tb(n.y,t.y,t.scaleY,t.scale,t.originY)}function Kw(n,t){return qw(fk(n.getBoundingClientRect(),t))}function mk(n,t,e){const s=Kw(n,e),{scroll:a}=t;return a&&(yo(s.x,a.offset.x),yo(s.y,a.offset.y)),s}const Eb=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:Eb(),y:Eb()}),bb=()=>({min:0,max:0}),_e=()=>({x:bb(),y:bb()}),rg={current:null},Yw={current:!1};function pk(){if(Yw.current=!0,!!fy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>rg.current=n.matches;n.addEventListener("change",t),t()}else rg.current=!1}const gk=new WeakMap;function yk(n,t,e){for(const s in t){const a=t[s],u=e[s];if(sn(a))n.addValue(s,a);else if(sn(u))n.addValue(s,No(a,{owner:n}));else if(u!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,No(c!==void 0?c:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const Ab=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vk{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=gn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ae.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=e.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=kf(e),this.isVariantNode=Vw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in E){const C=E[b];m[b]!==void 0&&sn(C)&&C.set(m[b])}}mount(t){var e;this.current=t,gk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),Yw.current||pk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rg.current,(e=this.parent)==null||e.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ko.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Po){const e=Po[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<Ab.length;s++){const a=Ab[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,c=t[u];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=yk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=No(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(jS(s)||FS(s))?s=parseFloat(s):!M4(s)&&dr.test(e)&&(s=Aw(t,e)),this.setBaseTarget(t,sn(s)?s.get():s)),sn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var u;const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const c=jy(this.props,e,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!sn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new vy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Oy.render(this.render)}}class Qw extends vk{constructor(){super(...arguments),this.KeyframeResolver=v4}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Xw(n,{style:t,vars:e},s,a){const u=n.style;let c;for(c in t)u[c]=t[c];a==null||a.applyProjectionStyles(u,s);for(c in e)u.setProperty(c,e[c])}function _k(n){return window.getComputedStyle(n)}class Tk extends Qw{constructor(){super(...arguments),this.type="html",this.renderInstance=Xw}readValueFromInstance(t,e){var s;if(Ko.has(e))return(s=this.projection)!=null&&s.isProjecting?$p(e):LP(t,e);{const a=_k(t),u=(Ey(e)?a.getPropertyValue(e):a[e])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Kw(t,e)}build(t,e,s){Ly(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return zy(t,e,s)}}const $w=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ek(n,t,e,s){Xw(n,t,void 0,s);for(const a in t.attrs)n.setAttribute($w.has(a)?a:Fy(a),t.attrs[a])}class bk extends Qw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_e}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ko.has(e)){const s=bw(e);return s&&s.default||0}return e=$w.has(e)?e:Fy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return Bw(t,e,s)}build(t,e,s){Pw(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){Ek(t,e,s,a)}mount(t){this.isSVGTag=Lw(t.tagName),super.mount(t)}}const Ak=(n,t)=>By(n)?new bk(t):new Tk(t,{allowProjection:n!==ut.Fragment});function So(n,t,e){const s=n.getProps();return jy(s,t,e!==void 0?e:s.custom,n)}const ag=n=>Array.isArray(n);function Sk(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,No(e))}function wk(n){return ag(n)?n[n.length-1]||0:n}function Rk(n,t){const e=So(n,t);let{transitionEnd:s={},transition:a={},...u}=e||{};u={...u,...s};for(const c in u){const d=wk(u[c]);Sk(n,c,d)}}function Ck(n){return!!(sn(n)&&n.add)}function og(n,t){const e=n.getValue("willChange");if(Ck(e))return e.add(t);if(!e&&gs.WillChange){const s=new gs.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function Ww(n){return n.props[jw]}const xk=n=>n!==null;function Ik(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(xk),u=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[u]}const Dk={type:"spring",stiffness:500,damping:25,restSpeed:10},Mk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Vk={type:"keyframes",duration:.8},Ok={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Nk=(n,{keyframes:t})=>t.length>2?Vk:Ko.has(n)?n.startsWith("scale")?Mk(t[1]):Dk:Ok;function Pk({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const qy=(n,t,e,s={},a,u)=>c=>{const d=My(s,n)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ri(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:a};Pk(d)||Object.assign(y,Nk(n,y)),y.duration&&(y.duration=Ri(y.duration)),y.repeatDelay&&(y.repeatDelay=Ri(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let E=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(eg(y),y.delay===0&&(E=!0)),(gs.instantAnimations||gs.skipAnimations)&&(E=!0,eg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const b=Ik(y.keyframes,d);if(b!==void 0){ae.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new Iy(y):new a4(y)};function kk({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function Zw(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const m=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const y in d){const E=n.getValue(y,n.latestValues[y]??null),b=d[y];if(b===void 0||g&&kk(g,y))continue;const C={delay:e,...My(u||{},y)},k=E.get();if(k!==void 0&&!E.isAnimating&&!Array.isArray(b)&&b===k&&!C.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const Q=Ww(n);if(Q){const J=window.MotionHandoffAnimation(Q,y,ae);J!==null&&(C.startTime=J,H=!0)}}og(n,y),E.start(qy(y,E,b,n.shouldReduceMotion&&_w.has(y)?{type:!1}:C,n,H));const O=E.animation;O&&m.push(O)}return c&&Promise.all(m).then(()=>{ae.update(()=>{c&&Rk(n,c)})}),m}function Jw(n,t,e,s=0,a=1){const u=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=n.size,d=(c-1)*s;return typeof e=="function"?e(u,c):a===1?u*s:d-u*s}function lg(n,t,e={}){var m;const s=So(n,t,e.type==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const u=s?()=>Promise.all(Zw(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:E,staggerDirection:b}=a;return Lk(n,t,g,y,E,b,e)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,y]=d==="beforeChildren"?[u,c]:[c,u];return g().then(()=>y())}else return Promise.all([u(),c(e.delay)])}function Lk(n,t,e=0,s=0,a=0,u=1,c){const d=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),d.push(lg(m,t,{...c,delay:e+(typeof s=="function"?0:s)+Jw(n.variantChildren,m,s,a,u)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function Uk(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(u=>lg(n,u,e));s=Promise.all(a)}else if(typeof t=="string")s=lg(n,t,e);else{const a=typeof t=="function"?So(n,t,e.custom):t;s=Promise.all(Zw(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}function tR(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const Bk=ky.length;function eR(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?eR(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Bk;e++){const s=ky[e],a=n.props[s];(Nu(a)||a===!1)&&(t[s]=a)}return t}const jk=[...Py].reverse(),zk=Py.length;function Fk(n){return t=>Promise.all(t.map(({animation:e,options:s})=>Uk(n,e,s)))}function qk(n){let t=Fk(n),e=Sb(),s=!0;const a=m=>(g,y)=>{var b;const E=So(n,y,m==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(E){const{transition:C,transitionEnd:k,...H}=E;g={...g,...H,...k}}return g};function u(m){t=m(n)}function c(m){const{props:g}=n,y=eR(n.parent)||{},E=[],b=new Set;let C={},k=1/0;for(let O=0;O<zk;O++){const Q=jk[O],J=e[Q],X=g[Q]!==void 0?g[Q]:y[Q],rt=Nu(X),st=Q===m?J.isActive:null;st===!1&&(k=O);let ft=X===y[Q]&&X!==g[Q]&&rt;if(ft&&s&&n.manuallyAnimateOnMount&&(ft=!1),J.protectedKeys={...C},!J.isActive&&st===null||!X&&!J.prevProp||Pf(X)||typeof X=="boolean")continue;const M=Hk(J.prevProp,X);let w=M||Q===m&&J.isActive&&!ft&&rt||O>k&&rt,x=!1;const V=Array.isArray(X)?X:[X];let P=V.reduce(a(Q),{});st===!1&&(P={});const{prevResolvedValues:L={}}=J,R={...L,...P},pt=W=>{w=!0,b.has(W)&&(x=!0,b.delete(W)),J.needsAnimating[W]=!0;const ot=n.getValue(W);ot&&(ot.liveStyle=!1)};for(const W in R){const ot=P[W],xt=L[W];if(C.hasOwnProperty(W))continue;let D=!1;ag(ot)&&ag(xt)?D=!tR(ot,xt):D=ot!==xt,D?ot!=null?pt(W):b.add(W):ot!==void 0&&b.has(W)?pt(W):J.protectedKeys[W]=!0}J.prevProp=X,J.prevResolvedValues=P,J.isActive&&(C={...C,...P}),s&&n.blockInitialAnimation&&(w=!1);const ht=ft&&M;w&&(!ht||x)&&E.push(...V.map(W=>{const ot={type:Q};if(typeof W=="string"&&s&&!ht&&n.manuallyAnimateOnMount&&n.parent){const{parent:xt}=n,D=So(xt,W);if(xt.enteringChildren&&D){const{delayChildren:nt}=D.transition||{};ot.delay=Jw(xt.enteringChildren,n,nt)}}return{animation:W,options:ot}}))}if(b.size){const O={};if(typeof g.initial!="boolean"){const Q=So(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(O.transition=Q.transition)}b.forEach(Q=>{const J=n.getBaseTarget(Q),X=n.getValue(Q);X&&(X.liveStyle=!0),O[Q]=J??null}),E.push({animation:O})}let H=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(H=!1),s=!1,H?t(E):Promise.resolve()}function d(m,g){var E;if(e[m].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(b=>{var C;return(C=b.animationState)==null?void 0:C.setActive(m,g)}),e[m].isActive=g;const y=c(m);for(const b in e)e[b].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>e,reset:()=>{e=Sb(),s=!0}}}function Hk(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!tR(t,n):!1}function Jr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sb(){return{animate:Jr(!0),whileInView:Jr(),whileHover:Jr(),whileTap:Jr(),whileDrag:Jr(),whileFocus:Jr(),exit:Jr()}}class pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Gk extends pr{constructor(t){super(t),t.animationState||(t.animationState=qk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Pf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Kk=0;class Yk extends pr{constructor(){super(...arguments),this.id=Kk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Qk={animation:{Feature:Gk},exit:{Feature:Yk}};function ku(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}function Qu(n){return{point:{x:n.pageX,y:n.pageY}}}const Xk=n=>t=>Ny(t)&&n(t,Qu(t));function vu(n,t,e,s){return ku(n,t,Xk(e),s)}const nR=1e-4,$k=1-nR,Wk=1+nR,iR=.01,Zk=0-iR,Jk=0+iR;function cn(n){return n.max-n.min}function t3(n,t,e){return Math.abs(n-t)<=e}function wb(n,t,e,s=.5){n.origin=s,n.originPoint=ue(t.min,t.max,n.origin),n.scale=cn(e)/cn(t),n.translate=ue(e.min,e.max,n.origin)-n.originPoint,(n.scale>=$k&&n.scale<=Wk||isNaN(n.scale))&&(n.scale=1),(n.translate>=Zk&&n.translate<=Jk||isNaN(n.translate))&&(n.translate=0)}function _u(n,t,e,s){wb(n.x,t.x,e.x,s?s.originX:void 0),wb(n.y,t.y,e.y,s?s.originY:void 0)}function Rb(n,t,e){n.min=e.min+t.min,n.max=n.min+cn(t)}function e3(n,t,e){Rb(n.x,t.x,e.x),Rb(n.y,t.y,e.y)}function Cb(n,t,e){n.min=t.min-e.min,n.max=n.min+cn(t)}function Tu(n,t,e){Cb(n.x,t.x,e.x),Cb(n.y,t.y,e.y)}function zn(n){return[n("x"),n("y")]}const sR=({current:n})=>n?n.ownerDocument.defaultView:null,xb=(n,t)=>Math.abs(n-t);function n3(n,t){const e=xb(n.x,t.x),s=xb(n.y,t.y);return Math.sqrt(e**2+s**2)}class rR{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=fp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,k=n3(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!k)return;const{point:H}=b,{timestamp:O}=Ye;this.history.push({...H,timestamp:O});const{onStart:Q,onMove:J}=this.handlers;C||(Q&&Q(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,b)},this.handlePointerMove=(b,C)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=hp(C,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(b,C)=>{this.end();const{onEnd:k,onSessionEnd:H,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=fp(b.type==="pointercancel"?this.lastMoveEventInfo:hp(C,this.transformPagePoint),this.history);this.startEvent&&k&&k(b,Q),H&&H(b,Q)},!Ny(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Qu(t),m=hp(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=Ye;this.history=[{...g,timestamp:y}];const{onSessionStart:E}=e;E&&E(t,fp(m,this.history)),this.removeListeners=Gu(vu(this.contextWindow,"pointermove",this.handlePointerMove),vu(this.contextWindow,"pointerup",this.handlePointerUp),vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fr(this.updatePoint)}}function hp(n,t){return t?{point:t(n.point)}:n}function Ib(n,t){return{x:n.x-t.x,y:n.y-t.y}}function fp({point:n},t){return{point:n,delta:Ib(n,aR(t)),offset:Ib(n,i3(t)),velocity:s3(t,.1)}}function i3(n){return n[0]}function aR(n){return n[n.length-1]}function s3(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=aR(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>Ri(t)));)e--;if(!s)return{x:0,y:0};const u=Ci(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function r3(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?ue(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?ue(e,n,s.max):Math.min(n,e)),n}function Db(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function a3(n,{top:t,left:e,bottom:s,right:a}){return{x:Db(n.x,e,a),y:Db(n.y,t,s)}}function Mb(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function o3(n,t){return{x:Mb(n.x,t.x),y:Mb(n.y,t.y)}}function l3(n,t){let e=.5;const s=cn(n),a=cn(t);return a>s?e=Mu(t.min,t.max-s,n.min):s>a&&(e=Mu(n.min,n.max-a,t.min)),ps(0,1,e)}function u3(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const ug=.35;function c3(n=ug){return n===!1?n=0:n===!0&&(n=ug),{x:Vb(n,"left","right"),y:Vb(n,"top","bottom")}}function Vb(n,t,e){return{min:Ob(n,t),max:Ob(n,e)}}function Ob(n,t){return typeof n=="number"?n:n[t]||0}const h3=new WeakMap;class f3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Qu(E).point)},c=(E,b)=>{const{drag:C,dragPropagation:k,onDragStart:H}=this.getProps();if(C&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A4(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(Q=>{let J=this.getAxisMotionValue(Q).get()||0;if(xi.test(J)){const{projection:X}=this.visualElement;if(X&&X.layout){const rt=X.layout.layoutBox[Q];rt&&(J=cn(rt)*(parseFloat(J)/100))}}this.originPoint[Q]=J}),H&&ae.postRender(()=>H(E,b)),og(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},d=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b;const{dragPropagation:C,dragDirectionLock:k,onDirectionLock:H,onDrag:O}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:Q}=b;if(k&&this.currentDirection===null){this.currentDirection=d3(Q),this.currentDirection!==null&&H&&H(this.currentDirection);return}this.updateAxis("x",b.point,Q),this.updateAxis("y",b.point,Q),this.visualElement.render(),O&&O(E,b)},m=(E,b)=>{this.latestPointerEvent=E,this.latestPanInfo=b,this.stop(E,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>zn(E=>{var b;return this.getAnimationState(E)==="paused"&&((b=this.getAxisMotionValue(E).animation)==null?void 0:b.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new rR(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:sR(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!xh(t,a,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=r3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,a=this.constraints;t&&go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=a3(s.layoutBox,t):this.constraints=!1,this.elastic=c3(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=u3(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!go(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=mk(s,a.root,this.visualElement.getTransformPagePoint());let c=o3(a.layout.layoutBox,u);if(e){const d=e(hk(c));this.hasMutatedConstraints=!!d,d&&(c=qw(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=zn(y=>{if(!xh(y,e,this.currentDirection))return;let E=m&&m[y]||{};c&&(E={min:0,max:0});const b=a?200:1e6,C=a?40:1e7,k={type:"inertia",velocity:s?t[y]:0,bounceStiffness:b,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(y,k)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return og(this.visualElement,t),s.start(qy(t,s,0,e,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zn(e=>{const{drag:s}=this.getProps();if(!xh(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[e];u.set(t[e]-ue(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!go(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};zn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=l3({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(c=>{if(!xh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(ue(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;h3.set(this.visualElement,this);const t=this.visualElement.current,e=vu(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();go(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ae.read(s);const c=ku(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(zn(y=>{const E=this.getAxisMotionValue(y);E&&(this.originPoint[y]+=m[y].translate,E.set(E.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),e(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:c=ug,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function xh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function d3(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class m3 extends pr{constructor(t){super(t),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new f3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nb=n=>(t,e)=>{n&&ae.postRender(()=>n(t,e))};class p3 extends pr{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(t){this.session=new rR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Nb(t),onStart:Nb(e),onMove:s,onEnd:(u,c)=>{delete this.session,a&&ae.postRender(()=>a(u,c))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pb(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const iu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(wt.test(n))n=parseFloat(n);else return n;const e=Pb(n,t.target.x),s=Pb(n,t.target.y);return`${e}% ${s}%`}},g3={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=dr.parse(n);if(a.length>5)return s;const u=dr.createTransformer(n),c=typeof a[0]!="number"?1:0,d=e.x.scale*t.x,m=e.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=ue(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),u(a)}};let dp=!1;class y3 extends ut.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=t;B4(v3),u&&(e.group&&e.group.add(u),s&&s.register&&a&&s.register(u),dp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,dp=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Oy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;dp=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oR(n){const[t,e]=V4(),s=ut.useContext(BS);return B.jsx(y3,{...n,layoutGroup:s,switchLayoutGroup:ut.useContext(zw),isPresent:t,safeToRemove:e})}const v3={borderRadius:{...iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomLeftRadius:iu,borderBottomRightRadius:iu,boxShadow:g3};function _3(n,t,e){const s=sn(n)?n:No(n);return s.start(qy("",s,t,e)),s.animation}const T3=(n,t)=>n.depth-t.depth;class E3{constructor(){this.children=[],this.isDirty=!1}add(t){my(this.children,t),this.isDirty=!0}remove(t){py(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(T3),this.isDirty=!1,this.children.forEach(t)}}function b3(n,t){const e=gn.now(),s=({timestamp:a})=>{const u=a-e;u>=t&&(fr(s),n(u-t))};return ae.setup(s,!0),()=>fr(s)}const lR=["TopLeft","TopRight","BottomLeft","BottomRight"],A3=lR.length,kb=n=>typeof n=="string"?parseFloat(n):n,Lb=n=>typeof n=="number"||wt.test(n);function S3(n,t,e,s,a,u){a?(n.opacity=ue(0,e.opacity??1,w3(s)),n.opacityExit=ue(t.opacity??1,0,R3(s))):u&&(n.opacity=ue(t.opacity??1,e.opacity??1,s));for(let c=0;c<A3;c++){const d=`border${lR[c]}Radius`;let m=Ub(t,d),g=Ub(e,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Lb(m)===Lb(g)?(n[d]=Math.max(ue(kb(m),kb(g),s),0),(xi.test(g)||xi.test(m))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=ue(t.rotate||0,e.rotate||0,s))}function Ub(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const w3=uR(0,.5,$S),R3=uR(.5,.95,qn);function uR(n,t,e){return s=>s<n?0:s>t?1:e(Mu(n,t,s))}function Bb(n,t){n.min=t.min,n.max=t.max}function jn(n,t){Bb(n.x,t.x),Bb(n.y,t.y)}function jb(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function zb(n,t,e,s,a){return n-=t,n=mf(n,1/e,s),a!==void 0&&(n=mf(n,1/a,s)),n}function C3(n,t=0,e=1,s=.5,a,u=n,c=n){if(xi.test(t)&&(t=parseFloat(t),t=ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ue(u.min,u.max,s);n===u&&(d-=t),n.min=zb(n.min,t,e,d,a),n.max=zb(n.max,t,e,d,a)}function Fb(n,t,[e,s,a],u,c){C3(n,t[e],t[s],t[a],t.scale,u,c)}const x3=["x","scaleX","originX"],I3=["y","scaleY","originY"];function qb(n,t,e,s){Fb(n.x,t,x3,e?e.x:void 0,s?s.x:void 0),Fb(n.y,t,I3,e?e.y:void 0,s?s.y:void 0)}function Hb(n){return n.translate===0&&n.scale===1}function cR(n){return Hb(n.x)&&Hb(n.y)}function Gb(n,t){return n.min===t.min&&n.max===t.max}function D3(n,t){return Gb(n.x,t.x)&&Gb(n.y,t.y)}function Kb(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function hR(n,t){return Kb(n.x,t.x)&&Kb(n.y,t.y)}function Yb(n){return cn(n.x)/cn(n.y)}function Qb(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class M3{constructor(){this.members=[]}add(t){my(this.members,t),t.scheduleRender()}remove(t){if(py(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function V3(n,t,e){let s="";const a=n.x.translate/t.x,u=n.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((a||u||c)&&(s=`translate3d(${a}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:E,rotateY:b,skewX:C,skewY:k}=e;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),E&&(s+=`rotateX(${E}deg) `),b&&(s+=`rotateY(${b}deg) `),C&&(s+=`skewX(${C}deg) `),k&&(s+=`skewY(${k}deg) `)}const d=n.x.scale*t.x,m=n.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const mp=["","X","Y","Z"],O3=1e3;let N3=0;function pp(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function fR(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=Ww(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ae,!(a||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&fR(s)}function dR({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=N3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(L3),this.nodes.forEach(z3),this.nodes.forEach(F3),this.nodes.forEach(U3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new E3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new vy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=xw(c)&&!I4(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),n){let y,E=0;const b=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{E=window.innerWidth}),n(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,y&&y(),y=b3(b,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(Wb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:E,hasRelativeLayoutChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||Y3,{onLayoutAnimationStart:H,onLayoutAnimationComplete:O}=g.getProps(),Q=!this.targetLayout||!hR(this.targetLayout,C),J=!E&&b;if(this.options.layoutRoot||this.resumeFrom||J||E&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={...My(k,"layout"),onPlay:H,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(y,J)}else E||Wb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const E=this.path[y];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($b);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(j3),this.nodes.forEach(P3),this.nodes.forEach(k3)):this.nodes.forEach($b),this.clearAllSnapshots();const d=gn.now();Ye.delta=ps(0,1e3/60,d-Ye.timestamp),Ye.timestamp=d,Ye.isProcessing=!0,sp.update.process(Ye),sp.preRender.process(Ye),sp.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Oy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(B3),this.sharedNodes.forEach(H3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!cR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ea(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),Q3(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return _e();const d=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(X3))){const{scroll:y}=this.root;y&&(yo(d.x,y.offset.x),yo(d.y,y.offset.y))}return d}removeElementScroll(c){var m;const d=_e();if(jn(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:E,options:b}=y;y!==this.root&&E&&b.layoutScroll&&(E.wasRoot&&jn(d,c),yo(d.x,E.offset.x),yo(d.y,E.offset.y))}return d}applyTransform(c,d=!1){const m=_e();jn(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&vo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ea(y.latestValues)&&vo(m,y.latestValues)}return ea(this.latestValues)&&vo(m,this.latestValues),m}removeTransform(c){const d=_e();jn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ea(g.latestValues))continue;ig(g.latestValues)&&g.updateSnapshot();const y=_e(),E=g.measurePageBox();jn(y,E),qb(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ea(this.latestValues)&&qb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:E}=this.options;if(!(!this.layout||!(y||E))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),Tu(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_e(),this.targetWithTransforms=_e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),Gw(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),Tu(this.relativeTargetOrigin,this.target,C.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ig(this.parent.latestValues)||Hw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;jn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;dk(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=_e());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jb(this.prevProjectionDelta.x,this.projectionDelta.x),jb(this.prevProjectionDelta.y,this.projectionDelta.y)),_u(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==b||!Qb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},E=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=_e(),C=m?m.source:void 0,k=this.layout?this.layout.source:void 0,H=C!==k,O=this.getStack(),Q=!O||O.members.length<=1,J=!!(H&&!Q&&this.options.crossfade===!0&&!this.path.some(K3));this.animationProgress=0;let X;this.mixTargetDelta=rt=>{const st=rt/1e3;Zb(E.x,c.x,st),Zb(E.y,c.y,st),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G3(this.relativeTarget,this.relativeTargetOrigin,b,st),X&&D3(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=_e()),jn(X,this.relativeTarget)),H&&(this.animationValues=y,S3(y,g,this.latestValues,st,J,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,m,g;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Fh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=No(0)),this.currentAnimation=_3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&mR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||_e();const E=cn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+E;const b=cn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}jn(d,m),vo(d,y),_u(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new M3),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&pp("z",c,g,this.animationValues);for(let y=0;y<mp.length;y++)pp(`rotate${mp[y]}`,c,g,this.animationValues),pp(`skew${mp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=zh(d==null?void 0:d.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=zh(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!ea(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=V3(this.projectionDeltaWithTransform,this.treeScale,y);m&&(E=m(y,E)),c.transform=E;const{x:b,y:C}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in Pu){if(y[k]===void 0)continue;const{correct:H,applyTo:O,isCSSVariable:Q}=Pu[k],J=E==="none"?y[k]:H(y[k],g);if(O){const X=O.length;for(let rt=0;rt<X;rt++)c[O[rt]]=J}else Q?this.options.visualElement.renderState.vars[k]=J:c[k]=J}this.options.layoutId&&(c.pointerEvents=g===this?zh(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Xb),this.root.sharedNodes.clear()}}}function P3(n){n.updateLayout()}function k3(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=n.layout,{animationType:u}=n.options,c=t.source!==n.layout.source;u==="size"?zn(E=>{const b=c?t.measuredBox[E]:t.layoutBox[E],C=cn(b);b.min=s[E].min,b.max=b.min+C}):mR(u,t.layoutBox,s)&&zn(E=>{const b=c?t.measuredBox[E]:t.layoutBox[E],C=cn(s[E]);b.max=b.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+C)});const d=_o();_u(d,s,t.layoutBox);const m=_o();c?_u(m,n.applyTransform(a,!0),t.measuredBox):_u(m,s,t.layoutBox);const g=!cR(d);let y=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:b,layout:C}=E;if(b&&C){const k=_e();Tu(k,t.layoutBox,b.layoutBox);const H=_e();Tu(H,s,C.layoutBox),hR(k,H)||(y=!0),E.options.layoutRoot&&(n.relativeTarget=H,n.relativeTargetOrigin=k,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function L3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function U3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function B3(n){n.clearSnapshot()}function Xb(n){n.clearMeasurements()}function $b(n){n.isLayoutDirty=!1}function j3(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Wb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function z3(n){n.resolveTargetDelta()}function F3(n){n.calcProjection()}function q3(n){n.resetSkewAndRotation()}function H3(n){n.removeLeadSnapshot()}function Zb(n,t,e){n.translate=ue(t.translate,0,e),n.scale=ue(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function Jb(n,t,e,s){n.min=ue(t.min,e.min,s),n.max=ue(t.max,e.max,s)}function G3(n,t,e,s){Jb(n.x,t.x,e.x,s),Jb(n.y,t.y,e.y,s)}function K3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Y3={duration:.45,ease:[.4,0,.1,1]},tA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),eA=tA("applewebkit/")&&!tA("chrome/")?Math.round:qn;function nA(n){n.min=eA(n.min),n.max=eA(n.max)}function Q3(n){nA(n.x),nA(n.y)}function mR(n,t,e){return n==="position"||n==="preserve-aspect"&&!t3(Yb(t),Yb(e),.2)}function X3(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const $3=dR({attachResizeListener:(n,t)=>ku(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gp={current:void 0},pR=dR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!gp.current){const n=new $3({});n.mount(window),n.setOptions({layoutScroll:!0}),gp.current=n}return gp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),W3={pan:{Feature:p3},drag:{Feature:m3,ProjectionNode:pR,MeasureLayout:oR}};function iA(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,u=s[a];u&&ae.postRender(()=>u(t,Qu(t)))}class Z3 extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=S4(t,(e,s)=>(iA(this.node,s,"Start"),a=>iA(this.node,a,"End"))))}unmount(){}}class J3 extends pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sA(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),u=s[a];u&&ae.postRender(()=>u(t,Qu(t)))}class t6 extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=x4(t,(e,s)=>(sA(this.node,s,"Start"),(a,{success:u})=>sA(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cg=new WeakMap,yp=new WeakMap,e6=n=>{const t=cg.get(n.target);t&&t(n)},n6=n=>{n.forEach(e6)};function i6({root:n,...t}){const e=n||document;yp.has(e)||yp.set(e,{});const s=yp.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(n6,{root:n,...t})),s[a]}function s6(n,t,e){const s=i6(t);return cg.set(n,e),s.observe(n),()=>{cg.delete(n),s.unobserve(n)}}const r6={some:0,all:1};class a6 extends pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:r6[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:E}=this.node.getProps(),b=g?y:E;b&&b(m)};return s6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(o6(t,e))&&this.startObserver()}unmount(){}}function o6({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const l6={inView:{Feature:a6},tap:{Feature:t6},focus:{Feature:J3},hover:{Feature:Z3}},u6={layout:{ProjectionNode:pR,MeasureLayout:oR}},c6={...Qk,...l6,...W3,...u6},Zs=ck(c6,Ak),ve={heading:{fontFamily:"Poppins, sans-serif",fontWeight:700},subheading:{fontFamily:"Poppins, sans-serif",fontWeight:400},button:{fontFamily:"Poppins, sans-serif",fontWeight:600},body:{fontFamily:"Poppins, sans-serif",fontWeight:400},medium:{fontFamily:"Poppins, sans-serif",fontWeight:500}};function h6({onNavigateToLogin:n,onNavigateToLanding:t}){const[e,s]=ut.useState({nickname:"",email:"",password:"",confirmPassword:""}),[a,u]=ut.useState(!1),[c,d]=ut.useState(!1),[m,g]=ut.useState(!1),[y,E]=ut.useState({}),b=(O,Q)=>{s(J=>({...J,[O]:Q})),y[O]&&E(J=>({...J,[O]:""}))},C=()=>{const O={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(O.email="Please enter a valid email"):O.email="Email is required",e.password?e.password.length<6&&(O.password="Password must be at least 6 characters"):O.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(O.confirmPassword="Passwords do not match"):O.confirmPassword="Please confirm your password",E(O),Object.keys(O).length===0},k=async O=>{O.preventDefault(),C()&&(g(!0),setTimeout(()=>{console.log("Sign up data:",e),g(!1)},2e3))},H=()=>{n?n():console.log("Navigate to login")};return B.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-3 sm:p-4",style:ve.body,children:B.jsxs("div",{className:"w-full max-w-md",children:[B.jsxs(Zs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-6 sm:mb-8",children:[B.jsx("button",{onClick:t,className:"text-3xl sm:text-4xl mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-bold hover:opacity-80 transition-opacity",style:ve.heading,children:"Chit Chat"}),B.jsx("p",{className:"text-slate-400",style:ve.subheading,children:"Create your account to start chatting"})]}),B.jsx(Zs.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-slate-800/50 backdrop-blur-sm rounded-3xl p-4 sm:p-8 shadow-2xl border border-slate-700/50",children:B.jsxs("form",{onSubmit:k,className:"space-y-4 sm:space-y-6",children:[B.jsxs("div",{className:"space-y-2",children:[B.jsxs("label",{htmlFor:"nickname",className:"block text-sm font-medium text-slate-300",style:ve.medium,children:["Nickname ",B.jsx("span",{className:"text-slate-500 text-sm",children:"(optional)"})]}),B.jsx("input",{id:"nickname",type:"text",value:e.nickname,onChange:O=>b("nickname",O.target.value),placeholder:"Choose a nickname",className:"w-full bg-slate-700/50 border border-slate-600 text-white placeholder:text-slate-400 rounded-2xl py-2.5 sm:py-3 px-3 sm:px-4 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-sm sm:text-base",style:ve.body})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300",style:ve.medium,children:"Email Address *"}),B.jsx("input",{id:"email",type:"email",value:e.email,onChange:O=>b("email",O.target.value),placeholder:"Enter your email",className:`w-full bg-slate-700/50 border border-slate-600 text-white placeholder:text-slate-400 rounded-2xl py-2.5 sm:py-3 px-3 sm:px-4 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-sm sm:text-base ${y.email?"border-red-500 focus:ring-red-500":""}`,style:ve.body}),y.email&&B.jsx("p",{className:"text-red-400 text-sm mt-1",style:ve.body,children:y.email})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300",style:ve.medium,children:"Password *"}),B.jsxs("div",{className:"relative",children:[B.jsx("input",{id:"password",type:a?"text":"password",value:e.password,onChange:O=>b("password",O.target.value),placeholder:"Create a password",className:`w-full bg-slate-700/50 border border-slate-600 text-white placeholder:text-slate-400 rounded-2xl py-2.5 sm:py-3 px-3 sm:px-4 pr-10 sm:pr-12 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-sm sm:text-base ${y.password?"border-red-500 focus:ring-red-500":""}`,style:ve.body}),B.jsx("button",{type:"button",onClick:()=>u(!a),className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-300 transition-colors",children:a?"🙈":"👁️"})]}),y.password&&B.jsx("p",{className:"text-red-400 text-sm mt-1",style:ve.body,children:y.password})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-300",style:ve.medium,children:"Confirm Password *"}),B.jsxs("div",{className:"relative",children:[B.jsx("input",{id:"confirmPassword",type:c?"text":"password",value:e.confirmPassword,onChange:O=>b("confirmPassword",O.target.value),placeholder:"Confirm your password",className:`w-full bg-slate-700/50 border border-slate-600 text-white placeholder:text-slate-400 rounded-2xl py-2.5 sm:py-3 px-3 sm:px-4 pr-10 sm:pr-12 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-sm sm:text-base ${y.confirmPassword?"border-red-500 focus:ring-red-500":""}`,style:ve.body}),B.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 sm:right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-300 transition-colors",children:c?"🙈":"👁️"})]}),y.confirmPassword&&B.jsx("p",{className:"text-red-400 text-sm mt-1",style:ve.body,children:y.confirmPassword})]}),B.jsx(hy,{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white rounded-2xl py-4 sm:py-6 mt-6 sm:mt-8 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm sm:text-base",size:"lg",style:ve.button,children:m?B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating Account..."]}):"Sign Up"}),B.jsx("div",{className:"text-center pt-4",children:B.jsxs("p",{className:"text-slate-400",style:ve.body,children:["Already have an account?"," ",B.jsx("button",{type:"button",onClick:H,className:"text-blue-400 hover:text-blue-300 transition-colors underline decoration-transparent hover:decoration-current underline-offset-4",style:ve.medium,children:"Log in"})]})})]})}),B.jsx(Zs.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"mt-4 sm:mt-6 text-center",children:B.jsxs("div",{className:"bg-slate-800/30 rounded-2xl p-4 border border-slate-700/50",children:[B.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[B.jsx("span",{className:"text-green-400",children:"🔒"}),B.jsx("p",{className:"text-slate-300 text-sm",style:ve.medium,children:"Your Privacy Matters"})]}),B.jsx("p",{className:"text-slate-400 text-xs leading-relaxed",style:ve.body,children:"We use minimal data collection and strong encryption to protect your privacy. Your email is only used for account security."})]})}),B.jsxs(Zs.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:"flex justify-center gap-4 sm:gap-6 text-xs sm:text-sm text-slate-500 mt-4 sm:mt-6",children:[B.jsx("button",{className:"hover:text-slate-300 transition-colors",style:ve.body,children:"Terms of Service"}),B.jsx("button",{className:"hover:text-slate-300 transition-colors",style:ve.body,children:"Privacy Policy"})]})]})})}const f6=({size:n=24})=>B.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",children:[B.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),B.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),B.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),B.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),d6=({size:n=24})=>B.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"currentColor",children:B.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),m6=({size:n=24})=>B.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"currentColor",children:B.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),rA={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},p6={initial:{opacity:0},animate:{opacity:1}},le={heading:{fontFamily:"Poppins, sans-serif",fontWeight:700},subheading:{fontFamily:"Poppins, sans-serif",fontWeight:400},button:{fontFamily:"Poppins, sans-serif",fontWeight:600},body:{fontFamily:"Poppins, sans-serif",fontWeight:400},medium:{fontFamily:"Poppins, sans-serif",fontWeight:500}};function g6({onGuestMode:n}){const[t,e]=ut.useState(!1),[s,a]=ut.useState(1247),[u,c]=ut.useState("landing");ut.useEffect(()=>{const E=setInterval(()=>{a(b=>{const C=Math.floor(Math.random()*21)-10;return Math.max(900,Math.min(2e3,b+C))})},2e3+Math.random()*3e3);return()=>clearInterval(E)},[]);const d=ut.useCallback(()=>{t||!n||(e(!0),setTimeout(()=>{try{n()}catch(E){console.error("Failed to start guest mode:",E)}finally{e(!1)}},2e3))},[t,n]);ut.useCallback(E=>{console.log(`${E} login started`)},[]),ut.useMemo(()=>[{name:"Google",icon:B.jsx(f6,{size:20}),bg:"bg-white hover:bg-gray-100 text-black border border-white/20",textColor:"text-black"},{name:"Apple",icon:B.jsx(d6,{size:20}),bg:"bg-black hover:bg-gray-800 text-white border border-gray-600",textColor:"text-white"},{name:"Facebook",icon:B.jsx(m6,{size:20}),bg:"bg-blue-600 hover:bg-blue-700 text-white",textColor:"text-white"}],[]);const m=ut.useMemo(()=>["Never share personal information","Report inappropriate behavior","Be respectful to others"],[]),g=ut.useCallback(()=>{c("login")},[]),y=ut.useCallback(()=>{c("landing")},[]);return u==="signup"?B.jsx(h6,{onNavigateToLogin:g,onNavigateToLanding:y}):B.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-start py-4 sm:py-8 px-3 sm:px-4",style:le.body,children:B.jsxs("div",{className:"w-full max-w-lg text-center",children:[B.jsxs(Zs.div,{variants:rA,initial:"initial",animate:"animate",transition:{duration:.6},className:"mb-12",children:[B.jsx("h1",{className:"text-4xl sm:text-6xl mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",style:le.heading,children:"Chit Chat"}),B.jsx("p",{className:"text-slate-400 text-base sm:text-lg",style:le.subheading,children:"Anonymous random chat with strangers"})]}),B.jsxs(Zs.div,{variants:rA,initial:"initial",animate:"animate",transition:{duration:.6,delay:.2},className:"bg-slate-800/50 backdrop-blur-sm rounded-3xl p-4 sm:p-8 shadow-2xl border border-slate-700/50 mb-8",children:[B.jsx("div",{className:"mb-8",children:B.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[B.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse","aria-hidden":"true"}),B.jsx("span",{className:"text-slate-300 text-sm",style:le.medium,children:"Completely Anonymous"})]})}),B.jsx(hy,{onClick:d,disabled:t||!n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-2xl py-4 sm:py-6 mb-6 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] text-sm sm:text-base",size:"lg",style:le.button,"aria-label":t?"Finding someone to chat":"Start anonymous chat",children:t?B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin","aria-hidden":"true"}),"Finding someone to chat..."]}):"Start Anonymous Chat"}),B.jsxs("div",{className:"flex items-center my-6",children:[B.jsx("div",{className:"flex-1 border-t border-slate-600"}),B.jsx("span",{className:"px-4 text-slate-400 text-sm",style:le.body,children:"or"}),B.jsx("div",{className:"flex-1 border-t border-slate-600"})]}),B.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[B.jsx("div",{children:B.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-sm sm:text-base",style:le.body})}),B.jsx("div",{children:B.jsx("input",{type:"password",placeholder:"Password",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-sm sm:text-base",style:le.body})}),B.jsx("button",{onClick:()=>console.log("로그인 시도"),className:"w-full bg-slate-700/70 hover:bg-slate-600/70 text-white font-medium py-2.5 sm:py-3 px-4 rounded-xl transition-all duration-200 border border-slate-600 text-sm sm:text-base",style:le.button,children:"Sign In"}),B.jsx("div",{className:"text-center",children:B.jsxs("p",{className:"text-slate-400 text-sm",style:le.body,children:["Don't have an account?"," ",B.jsx("button",{onClick:()=>c("signup"),className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",style:le.medium,children:"Sign up"})]})})]}),B.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-700/30 rounded-2xl border border-slate-600/50 mt-8",children:[B.jsxs("div",{className:"text-center",children:[B.jsx(Zs.p,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},className:"text-2xl text-white mb-1",style:le.button,children:s.toLocaleString()},s),B.jsxs("div",{className:"flex items-center justify-center gap-2",children:[B.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse","aria-hidden":"true"}),B.jsx("p",{className:"text-slate-400 text-xs",style:le.body,children:"Online Now"})]})]}),B.jsxs("div",{className:"text-center",children:[B.jsx("p",{className:"text-2xl text-white mb-1",style:le.button,children:"24/7"}),B.jsx("p",{className:"text-slate-400 text-xs",style:le.body,children:"Available"})]})]})]}),B.jsxs(Zs.div,{variants:p6,initial:"initial",animate:"animate",transition:{duration:.6,delay:.4},className:"space-y-6",children:[B.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[B.jsxs("div",{className:"text-center",children:[B.jsx("div",{className:"mx-auto mb-2 sm:mb-3",children:B.jsx("span",{className:"text-xl sm:text-2xl",children:"🎲"})}),B.jsx("p",{className:"text-slate-300 text-xs sm:text-sm font-medium",style:le.medium,children:"Random"})]}),B.jsxs("div",{className:"text-center",children:[B.jsx("div",{className:"mx-auto mb-2 sm:mb-3",children:B.jsx("span",{className:"text-xl sm:text-2xl",children:"🔒"})}),B.jsx("p",{className:"text-slate-300 text-xs sm:text-sm font-medium",style:le.medium,children:"Anonymous"})]}),B.jsxs("div",{className:"text-center",children:[B.jsx("div",{className:"mx-auto mb-2 sm:mb-3",children:B.jsx("span",{className:"text-xl sm:text-2xl",children:"⚡"})}),B.jsx("p",{className:"text-slate-300 text-xs sm:text-sm font-medium",style:le.medium,children:"Instant"})]})]}),B.jsxs("div",{className:"bg-slate-800/30 rounded-2xl p-4 border border-slate-700/50",children:[B.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[B.jsx("span",{className:"text-yellow-400","aria-hidden":"true",children:"⚠️"}),B.jsx("p",{className:"text-slate-300 text-sm",style:le.medium,children:"Stay Safe Online"})]}),B.jsx("div",{className:"space-y-1",children:m.map((E,b)=>B.jsxs("p",{className:"text-slate-400 text-xs",style:le.body,children:["• ",E]},b))})]}),B.jsxs("div",{className:"flex justify-center gap-4 sm:gap-6 text-xs sm:text-sm text-slate-500 mt-6 sm:mt-8",children:[B.jsx("button",{className:"hover:text-slate-300 transition-colors",style:le.body,onClick:()=>console.log("Terms of Service clicked"),children:"Terms of Service"}),B.jsx("button",{className:"hover:text-slate-300 transition-colors",style:le.body,onClick:()=>console.log("Privacy Policy clicked"),children:"Privacy Policy"}),B.jsx("button",{className:"hover:text-slate-300 transition-colors",style:le.body,onClick:()=>console.log("Report clicked"),children:"Report"})]})]})]})})}const aA=["#FF69B4","#1E90FF","#FFD700","#00FA9A","#BA55D3","#FF4500"],y6=()=>B.jsx("div",{className:"flex justify-center items-center h-screen text-white bg-black",children:B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),B.jsx("p",{children:"Loading..."})]})});function v6(){const[n,t]=ut.useState(null),[e,s]=ut.useState(!0),a=ut.useCallback(()=>aA[Math.floor(Math.random()*aA.length)],[]),u=ut.useCallback(()=>{const m={uid:`guest_${Date.now()}_${Math.random().toString(36).slice(2,11)}`,nickname:`Guest${Math.floor(Math.random()*1e3)}`,email:null,isAnonymous:!0,isBlueCheck:!1,color:a(),loginMethod:"guest"};t(m)},[a]),c=ut.useCallback(async()=>{try{(n==null?void 0:n.loginMethod)==="guest"||await GE.signOut(),t(null)}catch(m){console.error("Logout error:",m),t(null)}},[n==null?void 0:n.loginMethod]);ut.useEffect(()=>{let m;return(async()=>{try{if(!AN()){console.log("Firebase not configured, enabling guest mode only"),s(!1);return}m=y2(GE,y=>{y&&!y.isAnonymous?t({uid:y.uid,email:y.email,nickname:y.displayName||"User",isAnonymous:!1,isBlueCheck:!1,color:a(),loginMethod:"firebase"}):t(null),s(!1)})}catch(y){console.error("Firebase initialization error:",y),s(!1)}})(),()=>{m&&m()}},[a]);const d=ut.useMemo(()=>({backgroundColor:"#000",display:"flex",flexDirection:"column",minHeight:"100vh"}),[]);return e?B.jsx(y6,{}):B.jsx("div",{style:d,children:n?B.jsx(VN,{user:n,onLogout:c}):B.jsx(g6,{onGuestMode:u})})}XC.createRoot(document.getElementById("root")).render(B.jsx(ut.StrictMode,{children:B.jsx(v6,{})}));
