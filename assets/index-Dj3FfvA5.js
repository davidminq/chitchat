(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var sp={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function jC(){if(MT)return hu;MT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return hu.Fragment=t,hu.jsx=n,hu.jsxs=n,hu}var VT;function zC(){return VT||(VT=1,sp.exports=jC()),sp.exports}var k=zC(),ap={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function FC(){if(NT)return Dt;NT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function N(M,rt,ct){this.props=M,this.context=rt,this.refs=U,this.updater=ct||x}N.prototype.isReactComponent={},N.prototype.setState=function(M,rt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,rt,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function F(){}F.prototype=N.prototype;function K(M,rt,ct){this.props=M,this.context=rt,this.refs=U,this.updater=ct||x}var $=K.prototype=new F;$.constructor=K,V($,N.prototype),$.isPureReactComponent=!0;var at=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function D(M,rt,ct,ot,_t,Nt){return ct=Nt.ref,{$$typeof:e,type:M,key:rt,ref:ct!==void 0?ct:null,props:Nt}}function S(M,rt){return D(M.type,rt,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function O(M){var rt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ct){return rt[ct]})}var L=/\/+/g;function j(M,rt){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):rt.toString(36)}function R(){}function pt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(R,R):(M.status="pending",M.then(function(rt){M.status==="pending"&&(M.status="fulfilled",M.value=rt)},function(rt){M.status==="pending"&&(M.status="rejected",M.reason=rt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ht(M,rt,ct,ot,_t){var Nt=typeof M;(Nt==="undefined"||Nt==="boolean")&&(M=null);var Rt=!1;if(M===null)Rt=!0;else switch(Nt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(M.$$typeof){case e:case t:Rt=!0;break;case y:return Rt=M._init,ht(Rt(M._payload),rt,ct,ot,_t)}}if(Rt)return _t=_t(M),Rt=ot===""?"."+j(M,0):ot,at(_t)?(ct="",Rt!=null&&(ct=Rt.replace(L,"$&/")+"/"),ht(_t,rt,ct,"",function(si){return si})):_t!=null&&(C(_t)&&(_t=S(_t,ct+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(L,"$&/")+"/")+Rt)),rt.push(_t)),1;Rt=0;var Pe=ot===""?".":ot+":";if(at(M))for(var ee=0;ee<M.length;ee++)ot=M[ee],Nt=Pe+j(ot,ee),Rt+=ht(ot,rt,ct,Nt,_t);else if(ee=b(M),typeof ee=="function")for(M=ee.call(M),ee=0;!(ot=M.next()).done;)ot=ot.value,Nt=Pe+j(ot,ee++),Rt+=ht(ot,rt,ct,Nt,_t);else if(Nt==="object"){if(typeof M.then=="function")return ht(pt(M),rt,ct,ot,_t);throw rt=String(M),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function X(M,rt,ct){if(M==null)return M;var ot=[],_t=0;return ht(M,ot,"","",function(Nt){return rt.call(ct,Nt,_t++)}),ot}function tt(M){if(M._status===-1){var rt=M._result;rt=rt(),rt.then(function(ct){(M._status===0||M._status===-1)&&(M._status=1,M._result=ct)},function(ct){(M._status===0||M._status===-1)&&(M._status=2,M._result=ct)}),M._status===-1&&(M._status=0,M._result=rt)}if(M._status===1)return M._result.default;throw M._result}var lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ct(){}return Dt.Children={map:X,forEach:function(M,rt,ct){X(M,function(){rt.apply(this,arguments)},ct)},count:function(M){var rt=0;return X(M,function(){rt++}),rt},toArray:function(M){return X(M,function(rt){return rt})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Dt.Component=N,Dt.Fragment=n,Dt.Profiler=a,Dt.PureComponent=K,Dt.StrictMode=r,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return J.H.useMemoCache(M)}},Dt.cache=function(M){return function(){return M.apply(null,arguments)}},Dt.cloneElement=function(M,rt,ct){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=V({},M.props),_t=M.key,Nt=void 0;if(rt!=null)for(Rt in rt.ref!==void 0&&(Nt=void 0),rt.key!==void 0&&(_t=""+rt.key),rt)!ft.call(rt,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&rt.ref===void 0||(ot[Rt]=rt[Rt]);var Rt=arguments.length-2;if(Rt===1)ot.children=ct;else if(1<Rt){for(var Pe=Array(Rt),ee=0;ee<Rt;ee++)Pe[ee]=arguments[ee+2];ot.children=Pe}return D(M.type,_t,void 0,void 0,Nt,ot)},Dt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Dt.createElement=function(M,rt,ct){var ot,_t={},Nt=null;if(rt!=null)for(ot in rt.key!==void 0&&(Nt=""+rt.key),rt)ft.call(rt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(_t[ot]=rt[ot]);var Rt=arguments.length-2;if(Rt===1)_t.children=ct;else if(1<Rt){for(var Pe=Array(Rt),ee=0;ee<Rt;ee++)Pe[ee]=arguments[ee+2];_t.children=Pe}if(M&&M.defaultProps)for(ot in Rt=M.defaultProps,Rt)_t[ot]===void 0&&(_t[ot]=Rt[ot]);return D(M,Nt,void 0,void 0,null,_t)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(M){return{$$typeof:d,render:M}},Dt.isValidElement=C,Dt.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:tt}},Dt.memo=function(M,rt){return{$$typeof:p,type:M,compare:rt===void 0?null:rt}},Dt.startTransition=function(M){var rt=J.T,ct={};J.T=ct;try{var ot=M(),_t=J.S;_t!==null&&_t(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Ct,lt)}catch(Nt){lt(Nt)}finally{J.T=rt}},Dt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Dt.use=function(M){return J.H.use(M)},Dt.useActionState=function(M,rt,ct){return J.H.useActionState(M,rt,ct)},Dt.useCallback=function(M,rt){return J.H.useCallback(M,rt)},Dt.useContext=function(M){return J.H.useContext(M)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(M,rt){return J.H.useDeferredValue(M,rt)},Dt.useEffect=function(M,rt,ct){var ot=J.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(M,rt)},Dt.useId=function(){return J.H.useId()},Dt.useImperativeHandle=function(M,rt,ct){return J.H.useImperativeHandle(M,rt,ct)},Dt.useInsertionEffect=function(M,rt){return J.H.useInsertionEffect(M,rt)},Dt.useLayoutEffect=function(M,rt){return J.H.useLayoutEffect(M,rt)},Dt.useMemo=function(M,rt){return J.H.useMemo(M,rt)},Dt.useOptimistic=function(M,rt){return J.H.useOptimistic(M,rt)},Dt.useReducer=function(M,rt,ct){return J.H.useReducer(M,rt,ct)},Dt.useRef=function(M){return J.H.useRef(M)},Dt.useState=function(M){return J.H.useState(M)},Dt.useSyncExternalStore=function(M,rt,ct){return J.H.useSyncExternalStore(M,rt,ct)},Dt.useTransition=function(){return J.H.useTransition()},Dt.version="19.1.0",Dt}var OT;function Lg(){return OT||(OT=1,ap.exports=FC()),ap.exports}var B=Lg(),op={exports:{}},fu={},lp={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function HC(){return PT||(PT=1,function(e){function t(X,tt){var lt=X.length;X.push(tt);t:for(;0<lt;){var Ct=lt-1>>>1,M=X[Ct];if(0<a(M,tt))X[Ct]=tt,X[lt]=M,lt=Ct;else break t}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var tt=X[0],lt=X.pop();if(lt!==tt){X[0]=lt;t:for(var Ct=0,M=X.length,rt=M>>>1;Ct<rt;){var ct=2*(Ct+1)-1,ot=X[ct],_t=ct+1,Nt=X[_t];if(0>a(ot,lt))_t<M&&0>a(Nt,ot)?(X[Ct]=Nt,X[_t]=lt,Ct=_t):(X[Ct]=ot,X[ct]=lt,Ct=ct);else if(_t<M&&0>a(Nt,lt))X[Ct]=Nt,X[_t]=lt,Ct=_t;else break t}}return tt}function a(X,tt){var lt=X.sortIndex-tt.sortIndex;return lt!==0?lt:X.id-tt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,T=null,b=3,x=!1,V=!1,U=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function at(X){for(var tt=n(p);tt!==null;){if(tt.callback===null)r(p);else if(tt.startTime<=X)r(p),tt.sortIndex=tt.expirationTime,t(m,tt);else break;tt=n(p)}}function J(X){if(U=!1,at(X),!V)if(n(m)!==null)V=!0,ft||(ft=!0,j());else{var tt=n(p);tt!==null&&ht(J,tt.startTime-X)}}var ft=!1,D=-1,S=5,C=-1;function O(){return N?!0:!(e.unstable_now()-C<S)}function L(){if(N=!1,ft){var X=e.unstable_now();C=X;var tt=!0;try{t:{V=!1,U&&(U=!1,K(D),D=-1),x=!0;var lt=b;try{e:{for(at(X),T=n(m);T!==null&&!(T.expirationTime>X&&O());){var Ct=T.callback;if(typeof Ct=="function"){T.callback=null,b=T.priorityLevel;var M=Ct(T.expirationTime<=X);if(X=e.unstable_now(),typeof M=="function"){T.callback=M,at(X),tt=!0;break e}T===n(m)&&r(m),at(X)}else r(m);T=n(m)}if(T!==null)tt=!0;else{var rt=n(p);rt!==null&&ht(J,rt.startTime-X),tt=!1}}break t}finally{T=null,b=lt,x=!1}tt=void 0}}finally{tt?j():ft=!1}}}var j;if(typeof $=="function")j=function(){$(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,pt=R.port2;R.port1.onmessage=L,j=function(){pt.postMessage(null)}}else j=function(){F(L,0)};function ht(X,tt){D=F(function(){X(e.unstable_now())},tt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(X){switch(b){case 1:case 2:case 3:var tt=3;break;default:tt=b}var lt=b;b=tt;try{return X()}finally{b=lt}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(X,tt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var lt=b;b=X;try{return tt()}finally{b=lt}},e.unstable_scheduleCallback=function(X,tt,lt){var Ct=e.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ct+lt:Ct):lt=Ct,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=lt+M,X={id:y++,callback:tt,priorityLevel:X,startTime:lt,expirationTime:M,sortIndex:-1},lt>Ct?(X.sortIndex=lt,t(p,X),n(m)===null&&X===n(p)&&(U?(K(D),D=-1):U=!0,ht(J,lt-Ct))):(X.sortIndex=M,t(m,X),V||x||(V=!0,ft||(ft=!0,j()))),X},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(X){var tt=b;return function(){var lt=b;b=tt;try{return X.apply(this,arguments)}finally{b=lt}}}}(up)),up}var kT;function qC(){return kT||(kT=1,lp.exports=HC()),lp.exports}var cp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function GC(){if(LT)return tn;LT=1;var e=Lg();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},tn.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},tn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},tn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},tn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:x}):y==="script"&&r.d.X(m,{crossOrigin:T,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},tn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},tn.requestFormReset=function(m){r.d.r(m)},tn.unstable_batchedUpdates=function(m,p){return m(p)},tn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var UT;function KC(){if(UT)return cp.exports;UT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cp.exports=GC(),cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function YC(){if(BT)return fu;BT=1;var e=qC(),t=Lg(),n=KC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,A=f.child;A;){if(A===o){E=!0,o=f,u=g;break}if(A===u){E=!0,u=f,o=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===o){E=!0,o=g,u=f;break}if(A===u){E=!0,u=g,o=f;break}A=A.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),$=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function pt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case N:return"Profiler";case U:return"StrictMode";case J:return"Suspense";case ft:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case $:return(i.displayName||"Context")+".Provider";case K:return(i._context.displayName||"Context")+".Consumer";case at:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:pt(i.type)||"Memo";case S:s=i._payload,i=i._init;try{return pt(i(s))}catch{}}return null}var ht=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Ct=[],M=-1;function rt(i){return{current:i}}function ct(i){0>M||(i.current=Ct[M],Ct[M]=null,M--)}function ot(i,s){M++,Ct[M]=i.current,i.current=s}var _t=rt(null),Nt=rt(null),Rt=rt(null),Pe=rt(null);function ee(i,s){switch(ot(Rt,s),ot(Nt,i),ot(_t,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?sT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=sT(s),i=aT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(_t),ot(_t,i)}function si(){ct(_t),ct(Nt),ct(Rt)}function Sr(i){i.memoizedState!==null&&ot(Pe,i);var s=_t.current,o=aT(s,i.type);s!==o&&(ot(Nt,i),ot(_t,o))}function Ui(i){Nt.current===i&&(ct(_t),ct(Nt)),Pe.current===i&&(ct(Pe),au._currentValue=lt)}var As=Object.prototype.hasOwnProperty,ws=e.unstable_scheduleCallback,Ss=e.unstable_cancelCallback,il=e.unstable_shouldYield,cc=e.unstable_requestPaint,In=e.unstable_now,sd=e.unstable_getCurrentPriorityLevel,rl=e.unstable_ImmediatePriority,Sa=e.unstable_UserBlockingPriority,Rs=e.unstable_NormalPriority,ad=e.unstable_LowPriority,Ra=e.unstable_IdlePriority,sl=e.log,hc=e.unstable_setDisableYieldValue,he=null,Yt=null;function vn(i){if(typeof sl=="function"&&hc(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(he,i)}catch{}}var Ze=Math.clz32?Math.clz32:xs,fc=Math.log,od=Math.LN2;function xs(i){return i>>>=0,i===0?32:31-(fc(i)/od|0)|0}var Cs=256,Is=4194304;function Yn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xa(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?f=Yn(u):(E&=A,E!==0?f=Yn(E):o||(o=A&~i,o!==0&&(f=Yn(o))))):(A=u&~g,A!==0?f=Yn(A):E!==0?f=Yn(E):o||(o=u&~i,o!==0&&(f=Yn(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Ds(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function al(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var i=Cs;return Cs<<=1,(Cs&4194048)===0&&(Cs=256),i}function ll(){var i=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),i}function Bi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ji(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ul(i,s,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,I=i.expirationTimes,G=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Ze(o),nt=1<<Z;A[Z]=0,I[Z]=-1;var Y=G[Z];if(Y!==null)for(G[Z]=null,Z=0;Z<Y.length;Z++){var Q=Y[Z];Q!==null&&(Q.lane&=-536870913)}o&=~nt}u!==0&&ai(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function ai(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ze(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function cl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Ze(o),f=1<<u;f&s|i[u]&s&&(i[u]|=s),o&=~f}}function Rr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ca(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xr(){var i=tt.p;return i!==0?i:(i=window.event,i===void 0?32:ST(i.type))}function dc(i,s){var o=tt.p;try{return tt.p=i,s()}finally{tt.p=o}}var re=Math.random().toString(36).slice(2),Ce="__reactFiber$"+re,Te="__reactProps$"+re,Dn="__reactContainer$"+re,hl="__reactEvents$"+re,ld="__reactListeners$"+re,Cr="__reactHandles$"+re,mc="__reactResources$"+re,Ms="__reactMarker$"+re;function Ir(i){delete i[Ce],delete i[Te],delete i[hl],delete i[ld],delete i[Cr]}function zi(i){var s=i[Ce];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Dn]||o[Ce]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=cT(i);i!==null;){if(o=i[Ce])return o;i=cT(i)}return s}i=o,o=i.parentNode}return null}function oi(i){if(i=i[Ce]||i[Dn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function li(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function on(i){var s=i[mc];return s||(s=i[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pe(i){i[Ms]=!0}var fl=new Set,Ia={};function $n(i,s){Fi(i,s),Fi(i+"Capture",s)}function Fi(i,s){for(Ia[i]=s,i=0;i<s.length;i++)fl.add(s[i])}var pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},Vs={};function yc(i){return As.call(Vs,i)?!0:As.call(gc,i)?!1:pc.test(i)?Vs[i]=!0:(gc[i]=!0,!1)}function Dr(i,s,o){if(yc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function ui(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Fe(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Ns,vc;function Hi(i){if(Ns===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ns=s&&s[1]||"",vc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+i+vc}var Da=!1;function Ma(i,s){if(!i||Da)return"";Da=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var Y=Q}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(Q){Y=Q}i.call(nt.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var I=E.split(`
`),G=A.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===G.length)for(u=I.length-1,f=G.length-1;1<=u&&0<=f&&I[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==G[f]){var Z=`
`+I[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{Da=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Hi(o):""}function dl(i){switch(i.tag){case 26:case 27:case 5:return Hi(i.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Ma(i.type,!1);case 11:return Ma(i.type.render,!1);case 1:return Ma(i.type,!0);case 31:return Hi("Activity");default:return""}}function Va(i){try{var s="";do s+=dl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ml(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ud(i){var s=ml(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Na(i){i._valueTracker||(i._valueTracker=ud(i))}function pl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=ml(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Os(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var cd=/[\n"\\]/g;function Ee(i){return i.replace(cd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _n(i,s,o,u,f,g,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Mr(i,E,ln(s)):o!=null?Mr(i,E,ln(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+ln(A):i.removeAttribute("name")}function Ps(i,s,o,u,f,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+ln(o):"",s=s!=null?""+ln(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Mr(i,s,o){s==="number"&&Os(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function qi(i,s,o,u){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Xt(i,s,o){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+ln(o):""}function ks(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ht(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=ln(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Mn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _c(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Ls.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function gl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&_c(i,f,u)}else for(var g in s)s.hasOwnProperty(g)&&_c(i,g,s[g])}function yl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(i){return fd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Gi=null;function Vn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ki=null,Yi=null;function vl(i){var s=oi(i);if(s&&(i=s.stateNode)){var o=i[Te]||null;t:switch(i=s.stateNode,s.type){case"input":if(_n(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ee(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var f=u[Te]||null;if(!f)throw Error(r(90));_n(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&pl(u)}break t;case"textarea":Xt(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&qi(i,!!o.multiple,s,!1)}}}var ci=!1;function Tc(i,s,o){if(ci)return i(s,o);ci=!0;try{var u=i(s);return u}finally{if(ci=!1,(Ki!==null||Yi!==null)&&(dh(),Ki&&(s=Ki,i=Yi,Yi=Ki=null,vl(s),i)))for(s=0;s<i.length;s++)vl(i[s])}}function Us(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Te]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Qn)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Nn=!1}var hi=null,Vr=null,$i=null;function _l(){if($i)return $i;var i,s=Vr,o=s.length,u,f="value"in hi?hi.value:hi.textContent,g=f.length;for(i=0;i<o&&s[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return $i=f.slice(i,1<u?1-u:void 0)}function fi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function di(){return!0}function Tl(){return!1}function ke(i){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?di:Tl,this.isPropagationStopped=Tl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),s}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=ke(Gt),js=y({},Gt,{view:0,detail:0}),Ec=ke(js),ka,La,mi,zs=y({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mi&&(mi&&i.type==="mousemove"?(ka=i.screenX-mi.screenX,La=i.screenY-mi.screenY):La=ka=0,mi=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:La}}),On=ke(zs),bc=y({},zs,{dataTransfer:0}),dd=ke(bc),Fs=y({},js,{relatedTarget:0}),Ua=ke(Fs),El=y({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=ke(El),Ac=y({},Gt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ja=ke(Ac),md=y({},Gt,{data:0}),bl=ke(md),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Sc[i])?!!s[i]:!1}function qs(){return Al}var Rc=y({},js,{key:function(i){if(i.key){var s=Hs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=fi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?wc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(i){return i.type==="keypress"?fi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),za=ke(Rc),xc=y({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wl=ke(xc),Qi=y({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),Cc=ke(Qi),Ic=y({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dc=ke(Ic),Mc=y({},zs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=ke(Mc),un=y({},Gt,{newState:0,oldState:0}),Vc=ke(un),Nc=[9,13,27,32],pi=Qn&&"CompositionEvent"in window,h=null;Qn&&"documentMode"in document&&(h=document.documentMode);var v=Qn&&"TextEvent"in window&&!h,_=Qn&&(!pi||h&&8<h&&11>=h),w=" ",H=!1;function W(i,s){switch(i){case"keyup":return Nc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bt=!1;function Ie(i,s){switch(i){case"compositionend":return ut(s);case"keypress":return s.which!==32?null:(H=!0,w);case"textInput":return i=s.data,i===w&&H?null:i;default:return null}}function jt(i,s){if(Bt)return i==="compositionend"||!pi&&W(i,s)?(i=_l(),$i=Vr=hi=null,Bt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Le[i.type]:s==="textarea"}function Xi(i,s,o,u){Ki?Yi?Yi.push(u):Yi=[u]:Ki=u,s=_h(s,"onChange"),0<s.length&&(o=new Pa("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var He=null,gi=null;function Sl(i){tT(i,0)}function Oc(i){var s=li(i);if(pl(s))return i}function Ev(i,s){if(i==="change")return s}var bv=!1;if(Qn){var pd;if(Qn){var gd="oninput"in document;if(!gd){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),gd=typeof Av.oninput=="function"}pd=gd}else pd=!1;bv=pd&&(!document.documentMode||9<document.documentMode)}function wv(){He&&(He.detachEvent("onpropertychange",Sv),gi=He=null)}function Sv(i){if(i.propertyName==="value"&&Oc(gi)){var s=[];Xi(s,gi,i,Vn(i)),Tc(Sl,s)}}function gx(i,s,o){i==="focusin"?(wv(),He=s,gi=o,He.attachEvent("onpropertychange",Sv)):i==="focusout"&&wv()}function yx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Oc(gi)}function vx(i,s){if(i==="click")return Oc(s)}function _x(i,s){if(i==="input"||i==="change")return Oc(s)}function Tx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Tn=typeof Object.is=="function"?Object.is:Tx;function Rl(i,s){if(Tn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!As.call(s,f)||!Tn(i[f],s[f]))return!1}return!0}function Rv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xv(i,s){var o=Rv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Rv(o)}}function Cv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Cv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Iv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Os(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Os(i.document)}return s}function yd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Ex=Qn&&"documentMode"in document&&11>=document.documentMode,Ha=null,vd=null,xl=null,_d=!1;function Dv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_d||Ha==null||Ha!==Os(u)||(u=Ha,"selectionStart"in u&&yd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xl&&Rl(xl,u)||(xl=u,u=_h(vd,"onSelect"),0<u.length&&(s=new Pa("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ha)))}function Gs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var qa={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Td={},Mv={};Qn&&(Mv=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Ks(i){if(Td[i])return Td[i];if(!qa[i])return i;var s=qa[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Mv)return Td[i]=s[o];return i}var Vv=Ks("animationend"),Nv=Ks("animationiteration"),Ov=Ks("animationstart"),bx=Ks("transitionrun"),Ax=Ks("transitionstart"),wx=Ks("transitioncancel"),Pv=Ks("transitionend"),kv=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function Xn(i,s){kv.set(i,s),$n(s,[i])}var Lv=new WeakMap;function Pn(i,s){if(typeof i=="object"&&i!==null){var o=Lv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Va(s)},Lv.set(i,s),s)}return{value:i,source:s,stack:Va(s)}}var kn=[],Ga=0,bd=0;function Pc(){for(var i=Ga,s=bd=Ga=0;s<i;){var o=kn[s];kn[s++]=null;var u=kn[s];kn[s++]=null;var f=kn[s];kn[s++]=null;var g=kn[s];if(kn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Uv(o,f,g)}}function kc(i,s,o,u){kn[Ga++]=i,kn[Ga++]=s,kn[Ga++]=o,kn[Ga++]=u,bd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ad(i,s,o,u){return kc(i,s,o,u),Lc(i)}function Ka(i,s){return kc(i,null,null,s),Lc(i)}function Uv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&s!==null&&(f=31-Ze(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function Lc(i){if(50<Zl)throw Zl=0,Im=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ya={};function Sx(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,s,o,u){return new Sx(i,s,o,u)}function wd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wi(i,s){var o=i.alternate;return o===null?(o=En(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Bv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Uc(i,s,o,u,f,g){var E=0;if(u=i,typeof i=="function")wd(i)&&(E=1);else if(typeof i=="string")E=xC(i,o,_t.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=En(31,o,s,f),i.elementType=C,i.lanes=g,i;case V:return Ys(o.children,f,g,s);case U:E=8,f|=24;break;case N:return i=En(12,o,s,f|2),i.elementType=N,i.lanes=g,i;case J:return i=En(13,o,s,f),i.elementType=J,i.lanes=g,i;case ft:return i=En(19,o,s,f),i.elementType=ft,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case $:E=10;break t;case K:E=9;break t;case at:E=11;break t;case D:E=14;break t;case S:E=16,u=null;break t}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=En(E,o,s,f),s.elementType=i,s.type=u,s.lanes=g,s}function Ys(i,s,o,u){return i=En(7,i,u,s),i.lanes=o,i}function Sd(i,s,o){return i=En(6,i,null,s),i.lanes=o,i}function Rd(i,s,o){return s=En(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var $a=[],Qa=0,Bc=null,jc=0,Ln=[],Un=0,$s=null,Zi=1,Ji="";function Qs(i,s){$a[Qa++]=jc,$a[Qa++]=Bc,Bc=i,jc=s}function jv(i,s,o){Ln[Un++]=Zi,Ln[Un++]=Ji,Ln[Un++]=$s,$s=i;var u=Zi;i=Ji;var f=32-Ze(u)-1;u&=~(1<<f),o+=1;var g=32-Ze(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Zi=1<<32-Ze(s)+f|o<<f|u,Ji=g+i}else Zi=1<<g|o<<f|u,Ji=i}function xd(i){i.return!==null&&(Qs(i,1),jv(i,1,0))}function Cd(i){for(;i===Bc;)Bc=$a[--Qa],$a[Qa]=null,jc=$a[--Qa],$a[Qa]=null;for(;i===$s;)$s=Ln[--Un],Ln[Un]=null,Ji=Ln[--Un],Ln[Un]=null,Zi=Ln[--Un],Ln[Un]=null}var cn=null,fe=null,qt=!1,Xs=null,yi=!1,Id=Error(r(519));function Ws(i){var s=Error(r(418,""));throw Dl(Pn(s,i)),Id}function zv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ce]=i,s[Te]=u,o){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(o=0;o<tu.length;o++)kt(tu[o],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":kt("invalid",s),Ps(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Na(s);break;case"select":kt("invalid",s);break;case"textarea":kt("invalid",s),ks(s,u.value,u.defaultValue,u.children),Na(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||rT(s.textContent,o)?(u.popover!=null&&(kt("beforetoggle",s),kt("toggle",s)),u.onScroll!=null&&kt("scroll",s),u.onScrollEnd!=null&&kt("scrollend",s),u.onClick!=null&&(s.onclick=Th),s=!0):s=!1,s||Ws(i)}function Fv(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:cn=cn.return}}function Cl(i){if(i!==cn)return!1;if(!qt)return Fv(i),qt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Gm(i.type,i.memoizedProps)),o=!o),o&&fe&&Ws(i),Fv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){fe=Zn(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}fe=null}}else s===27?(s=fe,$r(i.type)?(i=Qm,Qm=null,fe=i):fe=s):fe=cn?Zn(i.stateNode.nextSibling):null;return!0}function Il(){fe=cn=null,qt=!1}function Hv(){var i=Xs;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),Xs=null),i}function Dl(i){Xs===null?Xs=[i]:Xs.push(i)}var Dd=rt(null),Zs=null,tr=null;function Nr(i,s,o){ot(Dd,s._currentValue),s._currentValue=o}function er(i){i._currentValue=Dd.current,ct(Dd)}function Md(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Vd(i,s,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=f;for(var I=0;I<s.length;I++)if(A.context===s[I]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Md(g.return,o,i),u||(E=null);break t}g=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Md(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ml(i,s,o,u){i=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=f.type;Tn(f.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(f===Pe.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(au):i=[au])}f=f.return}i!==null&&Vd(s,i,o,u),s.flags|=262144}function zc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Js(i){Zs=i,tr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return qv(Zs,i)}function Fc(i,s){return Zs===null&&Js(i),qv(i,s)}function qv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},tr===null){if(i===null)throw Error(r(308));tr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else tr=tr.next=s;return o}var Rx=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},xx=e.unstable_scheduleCallback,Cx=e.unstable_NormalPriority,Me={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new Rx,data:new Map,refCount:0}}function Vl(i){i.refCount--,i.refCount===0&&xx(Cx,function(){i.controller.abort()})}var Nl=null,Od=0,Xa=0,Wa=null;function Ix(i,s){if(Nl===null){var o=Nl=[];Od=0,Xa=km(),Wa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Od++,s.then(Gv,Gv),s}function Gv(){if(--Od===0&&Nl!==null){Wa!==null&&(Wa.status="fulfilled");var i=Nl;Nl=null,Xa=0,Wa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Dx(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Kv=X.S;X.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ix(i,s),Kv!==null&&Kv(i,s)};var ta=rt(null);function Pd(){var i=ta.current;return i!==null?i:ne.pooledCache}function Hc(i,s){s===null?ot(ta,ta.current):ot(ta,s.pool)}function Yv(){var i=Pd();return i===null?null:{parent:Me._currentValue,pool:i}}var Ol=Error(r(460)),$v=Error(r(474)),qc=Error(r(542)),kd={then:function(){}};function Qv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gc(){}function Xv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Gc,Gc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Zv(i),i;default:if(typeof s.status=="string")s.then(Gc,Gc);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Zv(i),i}throw Pl=s,Ol}}var Pl=null;function Wv(){if(Pl===null)throw Error(r(459));var i=Pl;return Pl=null,i}function Zv(i){if(i===Ol||i===qc)throw Error(r(483))}var Or=!1;function Ld(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Pr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function kr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Lc(i),Uv(i,null,o),s}return kc(i,u,s,o),Lc(i)}function kl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,cl(i,o)}}function Bd(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var jd=!1;function Ll(){if(jd){var i=Wa;if(i!==null)throw i}}function Ul(i,s,o,u){jd=!1;var f=i.updateQueue;Or=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var I=A,G=I.next;I.next=null,E===null?g=G:E.next=G,E=I;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==E&&(A===null?Z.firstBaseUpdate=G:A.next=G,Z.lastBaseUpdate=I))}if(g!==null){var nt=f.baseState;E=0,Z=G=I=null,A=g;do{var Y=A.lane&-536870913,Q=Y!==A.lane;if(Q?(zt&Y)===Y:(u&Y)===Y){Y!==0&&Y===Xa&&(jd=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var wt=i,Tt=A;Y=s;var Jt=o;switch(Tt.tag){case 1:if(wt=Tt.payload,typeof wt=="function"){nt=wt.call(Jt,nt,Y);break t}nt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Tt.payload,Y=typeof wt=="function"?wt.call(Jt,nt,Y):wt,Y==null)break t;nt=y({},nt,Y);break t;case 2:Or=!0}}Y=A.callback,Y!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(G=Z=Q,I=nt):Z=Z.next=Q,E|=Y;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(I=nt),f.baseState=I,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),qr|=E,i.lanes=E,i.memoizedState=nt}}function Jv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function t0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Jv(o[i],s)}var Za=rt(null),Kc=rt(0);function e0(i,s){i=lr,ot(Kc,i),ot(Za,s),lr=i|s.baseLanes}function zd(){ot(Kc,lr),ot(Za,Za.current)}function Fd(){lr=Kc.current,ct(Za),ct(Kc)}var Lr=0,Mt=null,Wt=null,be=null,Yc=!1,Ja=!1,ea=!1,$c=0,Bl=0,to=null,Mx=0;function ge(){throw Error(r(321))}function Hd(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Tn(i[o],s[o]))return!1;return!0}function qd(i,s,o,u,f,g){return Lr=g,Mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?U0:B0,ea=!1,g=o(u,f),ea=!1,Ja&&(g=i0(s,o,u,f)),n0(i),g}function n0(i){X.H=th;var s=Wt!==null&&Wt.next!==null;if(Lr=0,be=Wt=Mt=null,Yc=!1,Bl=0,to=null,s)throw Error(r(300));i===null||Ue||(i=i.dependencies,i!==null&&zc(i)&&(Ue=!0))}function i0(i,s,o,u){Mt=i;var f=0;do{if(Ja&&(to=null),Bl=0,Ja=!1,25<=f)throw Error(r(301));if(f+=1,be=Wt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=Ux,g=s(o,u)}while(Ja);return g}function Vx(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?jl(s):s,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Mt.flags|=1024),s}function Gd(){var i=$c!==0;return $c=0,i}function Kd(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Yd(i){if(Yc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Yc=!1}Lr=0,be=Wt=Mt=null,Ja=!1,Bl=$c=0,to=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Mt.memoizedState=be=i:be=be.next=i,be}function Ae(){if(Wt===null){var i=Mt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var s=be===null?Mt.memoizedState:be.next;if(s!==null)be=s,Wt=i;else{if(i===null)throw Mt.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},be===null?Mt.memoizedState=be=i:be=be.next=i}return be}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(i){var s=Bl;return Bl+=1,to===null&&(to=[]),i=Xv(to,i,s),s=Mt,(be===null?s.memoizedState:be.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?U0:B0),i}function Qc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return jl(i);if(i.$$typeof===$)return Je(i)}throw Error(r(438,String(i)))}function Qd(i){var s=null,o=Mt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Mt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=$d(),Mt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=O;return s.index++,o}function nr(i,s){return typeof s=="function"?s(i):s}function Xc(i){var s=Ae();return Xd(s,Wt,i)}function Xd(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{s=f.next;var A=E=null,I=null,G=s,Z=!1;do{var nt=G.lane&-536870913;if(nt!==G.lane?(zt&nt)===nt:(Lr&nt)===nt){var Y=G.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),nt===Xa&&(Z=!0);else if((Lr&Y)===Y){G=G.next,Y===Xa&&(Z=!0);continue}else nt={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(A=I=nt,E=g):I=I.next=nt,Mt.lanes|=Y,qr|=Y;nt=G.action,ea&&o(g,nt),g=G.hasEagerState?G.eagerState:o(g,nt)}else Y={lane:nt,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(A=I=Y,E=g):I=I.next=Y,Mt.lanes|=nt,qr|=nt;G=G.next}while(G!==null&&G!==s);if(I===null?E=g:I.next=A,!Tn(g,i.memoizedState)&&(Ue=!0,Z&&(o=Wa,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=I,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Wd(i){var s=Ae(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);Tn(g,s.memoizedState)||(Ue=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function r0(i,s,o){var u=Mt,f=Ae(),g=qt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Tn((Wt||f).memoizedState,o);E&&(f.memoizedState=o,Ue=!0),f=f.queue;var A=o0.bind(null,u,f,i);if(zl(2048,8,A,[i]),f.getSnapshot!==s||E||be!==null&&be.memoizedState.tag&1){if(u.flags|=2048,eo(9,Wc(),a0.bind(null,u,f,o,s),null),ne===null)throw Error(r(349));g||(Lr&124)!==0||s0(u,s,o)}return o}function s0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Mt.updateQueue,s===null?(s=$d(),Mt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function a0(i,s,o,u){s.value=o,s.getSnapshot=u,l0(s)&&u0(i)}function o0(i,s,o){return o(function(){l0(s)&&u0(i)})}function l0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Tn(i,o)}catch{return!0}}function u0(i){var s=Ka(i,2);s!==null&&Rn(s,i,2)}function Zd(i){var s=dn();if(typeof i=="function"){var o=i;if(i=o(),ea){vn(!0);try{o()}finally{vn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:i},s}function c0(i,s,o,u){return i.baseState=o,Xd(i,Wt,typeof u=="function"?u:nr)}function Nx(i,s,o,u,f){if(Jc(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,h0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function h0(i,s){var o=s.action,u=s.payload,f=i.state;if(s.isTransition){var g=X.T,E={};X.T=E;try{var A=o(f,u),I=X.S;I!==null&&I(E,A),f0(i,s,A)}catch(G){Jd(i,s,G)}finally{X.T=g}}else try{g=o(f,u),f0(i,s,g)}catch(G){Jd(i,s,G)}}function f0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){d0(i,s,u)},function(u){return Jd(i,s,u)}):d0(i,s,o)}function d0(i,s,o){s.status="fulfilled",s.value=o,m0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,h0(i,o)))}function Jd(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,m0(s),s=s.next;while(s!==u)}i.action=null}function m0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function p0(i,s){return s}function g0(i,s){if(qt){var o=ne.formState;if(o!==null){t:{var u=Mt;if(qt){if(fe){e:{for(var f=fe,g=yi;f.nodeType!==8;){if(!g){f=null;break e}if(f=Zn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){fe=Zn(f.nextSibling),u=f.data==="F!";break t}}Ws(u)}u=!1}u&&(s=o[0])}}return o=dn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p0,lastRenderedState:s},o.queue=u,o=P0.bind(null,Mt,u),u.dispatch=o,u=Zd(!1),g=rm.bind(null,Mt,!1,u.queue),u=dn(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,o=Nx.bind(null,Mt,f,g,o),f.dispatch=o,u.memoizedState=i,[s,o,!1]}function y0(i){var s=Ae();return v0(s,Wt,i)}function v0(i,s,o){if(s=Xd(i,s,p0)[0],i=Xc(nr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=jl(s)}catch(E){throw E===Ol?qc:E}else u=s;s=Ae();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Mt.flags|=2048,eo(9,Wc(),Ox.bind(null,f,o),null)),[u,g,i]}function Ox(i,s){i.action=s}function _0(i){var s=Ae(),o=Wt;if(o!==null)return v0(s,o,i);Ae(),s=s.memoizedState,o=Ae();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function eo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Mt.updateQueue,s===null&&(s=$d(),Mt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Wc(){return{destroy:void 0,resource:void 0}}function T0(){return Ae().memoizedState}function Zc(i,s,o,u){var f=dn();u=u===void 0?null:u,Mt.flags|=i,f.memoizedState=eo(1|s,Wc(),o,u)}function zl(i,s,o,u){var f=Ae();u=u===void 0?null:u;var g=f.memoizedState.inst;Wt!==null&&u!==null&&Hd(u,Wt.memoizedState.deps)?f.memoizedState=eo(s,g,o,u):(Mt.flags|=i,f.memoizedState=eo(1|s,g,o,u))}function E0(i,s){Zc(8390656,8,i,s)}function b0(i,s){zl(2048,8,i,s)}function A0(i,s){return zl(4,2,i,s)}function w0(i,s){return zl(4,4,i,s)}function S0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function R0(i,s,o){o=o!=null?o.concat([i]):null,zl(4,4,S0.bind(null,s,i),o)}function tm(){}function x0(i,s){var o=Ae();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Hd(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function C0(i,s){var o=Ae();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Hd(s,u[1]))return u[0];if(u=i(),ea){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,s],u}function em(i,s,o){return o===void 0||(Lr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=M_(),Mt.lanes|=i,qr|=i,o)}function I0(i,s,o,u){return Tn(o,s)?o:Za.current!==null?(i=em(i,o,u),Tn(i,s)||(Ue=!0),i):(Lr&42)===0?(Ue=!0,i.memoizedState=o):(i=M_(),Mt.lanes|=i,qr|=i,s)}function D0(i,s,o,u,f){var g=tt.p;tt.p=g!==0&&8>g?g:8;var E=X.T,A={};X.T=A,rm(i,!1,s,o);try{var I=f(),G=X.S;if(G!==null&&G(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=Dx(I,u);Fl(i,s,Z,Sn(i))}else Fl(i,s,u,Sn(i))}catch(nt){Fl(i,s,{then:function(){},status:"rejected",reason:nt},Sn())}finally{tt.p=g,X.T=E}}function Px(){}function nm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var f=M0(i).queue;D0(i,f,s,lt,o===null?Px:function(){return V0(i),o(u)})}function M0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:lt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function V0(i){var s=M0(i).next.queue;Fl(i,s,{},Sn())}function im(){return Je(au)}function N0(){return Ae().memoizedState}function O0(){return Ae().memoizedState}function kx(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Sn();i=Pr(o);var u=kr(s,i,o);u!==null&&(Rn(u,s,o),kl(u,s,o)),s={cache:Nd()},i.payload=s;return}s=s.return}}function Lx(i,s,o){var u=Sn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Jc(i)?k0(s,o):(o=Ad(i,s,o,u),o!==null&&(Rn(o,i,u),L0(o,s,u)))}function P0(i,s,o){var u=Sn();Fl(i,s,o,u)}function Fl(i,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jc(i))k0(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,o);if(f.hasEagerState=!0,f.eagerState=A,Tn(A,E))return kc(i,s,f,0),ne===null&&Pc(),!1}catch{}finally{}if(o=Ad(i,s,f,u),o!==null)return Rn(o,i,u),L0(o,s,u),!0}return!1}function rm(i,s,o,u){if(u={lane:2,revertLane:km(),action:u,hasEagerState:!1,eagerState:null,next:null},Jc(i)){if(s)throw Error(r(479))}else s=Ad(i,o,u,2),s!==null&&Rn(s,i,2)}function Jc(i){var s=i.alternate;return i===Mt||s!==null&&s===Mt}function k0(i,s){Ja=Yc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function L0(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,cl(i,o)}}var th={readContext:Je,use:Qc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},U0={readContext:Je,use:Qc,useCallback:function(i,s){return dn().memoizedState=[i,s===void 0?null:s],i},useContext:Je,useEffect:E0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Zc(4194308,4,S0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Zc(4194308,4,i,s)},useInsertionEffect:function(i,s){Zc(4,2,i,s)},useMemo:function(i,s){var o=dn();s=s===void 0?null:s;var u=i();if(ea){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=dn();if(o!==void 0){var f=o(s);if(ea){vn(!0);try{o(s)}finally{vn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=Lx.bind(null,Mt,i),[u.memoizedState,i]},useRef:function(i){var s=dn();return i={current:i},s.memoizedState=i},useState:function(i){i=Zd(i);var s=i.queue,o=P0.bind(null,Mt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:tm,useDeferredValue:function(i,s){var o=dn();return em(o,i,s)},useTransition:function(){var i=Zd(!1);return i=D0.bind(null,Mt,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Mt,f=dn();if(qt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ne===null)throw Error(r(349));(zt&124)!==0||s0(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,E0(o0.bind(null,u,g,i),[i]),u.flags|=2048,eo(9,Wc(),a0.bind(null,u,g,o,s),null),o},useId:function(){var i=dn(),s=ne.identifierPrefix;if(qt){var o=Ji,u=Zi;o=(u&~(1<<32-Ze(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=$c++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Mx++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:im,useFormState:g0,useActionState:g0,useOptimistic:function(i){var s=dn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=rm.bind(null,Mt,!0,o),o.dispatch=s,[i,s]},useMemoCache:Qd,useCacheRefresh:function(){return dn().memoizedState=kx.bind(null,Mt)}},B0={readContext:Je,use:Qc,useCallback:x0,useContext:Je,useEffect:b0,useImperativeHandle:R0,useInsertionEffect:A0,useLayoutEffect:w0,useMemo:C0,useReducer:Xc,useRef:T0,useState:function(){return Xc(nr)},useDebugValue:tm,useDeferredValue:function(i,s){var o=Ae();return I0(o,Wt.memoizedState,i,s)},useTransition:function(){var i=Xc(nr)[0],s=Ae().memoizedState;return[typeof i=="boolean"?i:jl(i),s]},useSyncExternalStore:r0,useId:N0,useHostTransitionStatus:im,useFormState:y0,useActionState:y0,useOptimistic:function(i,s){var o=Ae();return c0(o,Wt,i,s)},useMemoCache:Qd,useCacheRefresh:O0},Ux={readContext:Je,use:Qc,useCallback:x0,useContext:Je,useEffect:b0,useImperativeHandle:R0,useInsertionEffect:A0,useLayoutEffect:w0,useMemo:C0,useReducer:Wd,useRef:T0,useState:function(){return Wd(nr)},useDebugValue:tm,useDeferredValue:function(i,s){var o=Ae();return Wt===null?em(o,i,s):I0(o,Wt.memoizedState,i,s)},useTransition:function(){var i=Wd(nr)[0],s=Ae().memoizedState;return[typeof i=="boolean"?i:jl(i),s]},useSyncExternalStore:r0,useId:N0,useHostTransitionStatus:im,useFormState:_0,useActionState:_0,useOptimistic:function(i,s){var o=Ae();return Wt!==null?c0(o,Wt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:O0},no=null,Hl=0;function eh(i){var s=Hl;return Hl+=1,no===null&&(no=[]),Xv(no,i,s)}function ql(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function nh(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function j0(i){var s=i._init;return s(i._payload)}function z0(i){function s(z,P){if(i){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function o(z,P){if(!i)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function u(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Wi(z,P),z.index=0,z.sibling=null,z}function g(z,P,q){return z.index=q,i?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=67108866,P):q):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function E(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function A(z,P,q,et){return P===null||P.tag!==6?(P=Sd(q,z.mode,et),P.return=z,P):(P=f(P,q),P.return=z,P)}function I(z,P,q,et){var gt=q.type;return gt===V?Z(z,P,q.props.children,et,q.key):P!==null&&(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&j0(gt)===P.type)?(P=f(P,q.props),ql(P,q),P.return=z,P):(P=Uc(q.type,q.key,q.props,null,z.mode,et),ql(P,q),P.return=z,P)}function G(z,P,q,et){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Rd(q,z.mode,et),P.return=z,P):(P=f(P,q.children||[]),P.return=z,P)}function Z(z,P,q,et,gt){return P===null||P.tag!==7?(P=Ys(q,z.mode,et,gt),P.return=z,P):(P=f(P,q),P.return=z,P)}function nt(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Sd(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return q=Uc(P.type,P.key,P.props,null,z.mode,q),ql(q,P),q.return=z,q;case x:return P=Rd(P,z.mode,q),P.return=z,P;case S:var et=P._init;return P=et(P._payload),nt(z,P,q)}if(ht(P)||j(P))return P=Ys(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return nt(z,eh(P),q);if(P.$$typeof===$)return nt(z,Fc(z,P),q);nh(z,P)}return null}function Y(z,P,q,et){var gt=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return gt!==null?null:A(z,P,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===gt?I(z,P,q,et):null;case x:return q.key===gt?G(z,P,q,et):null;case S:return gt=q._init,q=gt(q._payload),Y(z,P,q,et)}if(ht(q)||j(q))return gt!==null?null:Z(z,P,q,et,null);if(typeof q.then=="function")return Y(z,P,eh(q),et);if(q.$$typeof===$)return Y(z,P,Fc(z,q),et);nh(z,q)}return null}function Q(z,P,q,et,gt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return z=z.get(q)||null,A(P,z,""+et,gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return z=z.get(et.key===null?q:et.key)||null,I(P,z,et,gt);case x:return z=z.get(et.key===null?q:et.key)||null,G(P,z,et,gt);case S:var Ot=et._init;return et=Ot(et._payload),Q(z,P,q,et,gt)}if(ht(et)||j(et))return z=z.get(q)||null,Z(P,z,et,gt,null);if(typeof et.then=="function")return Q(z,P,q,eh(et),gt);if(et.$$typeof===$)return Q(z,P,q,Fc(P,et),gt);nh(P,et)}return null}function wt(z,P,q,et){for(var gt=null,Ot=null,yt=P,Et=P=0,je=null;yt!==null&&Et<q.length;Et++){yt.index>Et?(je=yt,yt=null):je=yt.sibling;var Ht=Y(z,yt,q[Et],et);if(Ht===null){yt===null&&(yt=je);break}i&&yt&&Ht.alternate===null&&s(z,yt),P=g(Ht,P,Et),Ot===null?gt=Ht:Ot.sibling=Ht,Ot=Ht,yt=je}if(Et===q.length)return o(z,yt),qt&&Qs(z,Et),gt;if(yt===null){for(;Et<q.length;Et++)yt=nt(z,q[Et],et),yt!==null&&(P=g(yt,P,Et),Ot===null?gt=yt:Ot.sibling=yt,Ot=yt);return qt&&Qs(z,Et),gt}for(yt=u(yt);Et<q.length;Et++)je=Q(yt,z,Et,q[Et],et),je!==null&&(i&&je.alternate!==null&&yt.delete(je.key===null?Et:je.key),P=g(je,P,Et),Ot===null?gt=je:Ot.sibling=je,Ot=je);return i&&yt.forEach(function(Jr){return s(z,Jr)}),qt&&Qs(z,Et),gt}function Tt(z,P,q,et){if(q==null)throw Error(r(151));for(var gt=null,Ot=null,yt=P,Et=P=0,je=null,Ht=q.next();yt!==null&&!Ht.done;Et++,Ht=q.next()){yt.index>Et?(je=yt,yt=null):je=yt.sibling;var Jr=Y(z,yt,Ht.value,et);if(Jr===null){yt===null&&(yt=je);break}i&&yt&&Jr.alternate===null&&s(z,yt),P=g(Jr,P,Et),Ot===null?gt=Jr:Ot.sibling=Jr,Ot=Jr,yt=je}if(Ht.done)return o(z,yt),qt&&Qs(z,Et),gt;if(yt===null){for(;!Ht.done;Et++,Ht=q.next())Ht=nt(z,Ht.value,et),Ht!==null&&(P=g(Ht,P,Et),Ot===null?gt=Ht:Ot.sibling=Ht,Ot=Ht);return qt&&Qs(z,Et),gt}for(yt=u(yt);!Ht.done;Et++,Ht=q.next())Ht=Q(yt,z,Et,Ht.value,et),Ht!==null&&(i&&Ht.alternate!==null&&yt.delete(Ht.key===null?Et:Ht.key),P=g(Ht,P,Et),Ot===null?gt=Ht:Ot.sibling=Ht,Ot=Ht);return i&&yt.forEach(function(BC){return s(z,BC)}),qt&&Qs(z,Et),gt}function Jt(z,P,q,et){if(typeof q=="object"&&q!==null&&q.type===V&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:t:{for(var gt=q.key;P!==null;){if(P.key===gt){if(gt=q.type,gt===V){if(P.tag===7){o(z,P.sibling),et=f(P,q.props.children),et.return=z,z=et;break t}}else if(P.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&j0(gt)===P.type){o(z,P.sibling),et=f(P,q.props),ql(et,q),et.return=z,z=et;break t}o(z,P);break}else s(z,P);P=P.sibling}q.type===V?(et=Ys(q.props.children,z.mode,et,q.key),et.return=z,z=et):(et=Uc(q.type,q.key,q.props,null,z.mode,et),ql(et,q),et.return=z,z=et)}return E(z);case x:t:{for(gt=q.key;P!==null;){if(P.key===gt)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){o(z,P.sibling),et=f(P,q.children||[]),et.return=z,z=et;break t}else{o(z,P);break}else s(z,P);P=P.sibling}et=Rd(q,z.mode,et),et.return=z,z=et}return E(z);case S:return gt=q._init,q=gt(q._payload),Jt(z,P,q,et)}if(ht(q))return wt(z,P,q,et);if(j(q)){if(gt=j(q),typeof gt!="function")throw Error(r(150));return q=gt.call(q),Tt(z,P,q,et)}if(typeof q.then=="function")return Jt(z,P,eh(q),et);if(q.$$typeof===$)return Jt(z,P,Fc(z,q),et);nh(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(o(z,P.sibling),et=f(P,q),et.return=z,z=et):(o(z,P),et=Sd(q,z.mode,et),et.return=z,z=et),E(z)):o(z,P)}return function(z,P,q,et){try{Hl=0;var gt=Jt(z,P,q,et);return no=null,gt}catch(yt){if(yt===Ol||yt===qc)throw yt;var Ot=En(29,yt,null,z.mode);return Ot.lanes=et,Ot.return=z,Ot}finally{}}}var io=z0(!0),F0=z0(!1),Bn=rt(null),vi=null;function Ur(i){var s=i.alternate;ot(Ve,Ve.current&1),ot(Bn,i),vi===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(vi=i)}function H0(i){if(i.tag===22){if(ot(Ve,Ve.current),ot(Bn,i),vi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(vi=i)}}else Br()}function Br(){ot(Ve,Ve.current),ot(Bn,Bn.current)}function ir(i){ct(Bn),vi===i&&(vi=null),ct(Ve)}var Ve=rt(0);function ih(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||$m(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function sm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var am={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Sn(),f=Pr(u);f.payload=s,o!=null&&(f.callback=o),s=kr(i,f,u),s!==null&&(Rn(s,i,u),kl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Sn(),f=Pr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=kr(i,f,u),s!==null&&(Rn(s,i,u),kl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Sn(),u=Pr(o);u.tag=2,s!=null&&(u.callback=s),s=kr(i,u,o),s!==null&&(Rn(s,i,o),kl(s,i,o))}};function q0(i,s,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Rl(o,u)||!Rl(f,g):!0}function G0(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&am.enqueueReplaceState(s,s.state,null)}function na(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var rh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function K0(i){rh(i)}function Y0(i){console.error(i)}function $0(i){rh(i)}function sh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Q0(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function om(i,s,o){return o=Pr(o),o.tag=3,o.payload={element:null},o.callback=function(){sh(i,s)},o}function X0(i){return i=Pr(i),i.tag=3,i}function W0(i,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){Q0(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Q0(s,o,u),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function Bx(i,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ml(s,o,f,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return vi===null?Mm():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===kd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Nm(i,u,f)),!1;case 22:return o.flags|=65536,u===kd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Nm(i,u,f)),!1}throw Error(r(435,o.tag))}return Nm(i,u,f),Mm(),!1}if(qt)return s=Bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Id&&(i=Error(r(422),{cause:u}),Dl(Pn(i,o)))):(u!==Id&&(s=Error(r(423),{cause:u}),Dl(Pn(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Pn(u,o),f=om(i.stateNode,u,f),Bd(i,f),de!==4&&(de=2)),!1;var g=Error(r(520),{cause:u});if(g=Pn(g,o),Wl===null?Wl=[g]:Wl.push(g),de!==4&&(de=2),s===null)return!0;u=Pn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=om(o.stateNode,u,i),Bd(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gr===null||!Gr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=X0(f),W0(f,i,o,u),Bd(o,f),!1}o=o.return}while(o!==null);return!1}var Z0=Error(r(461)),Ue=!1;function qe(i,s,o,u){s.child=i===null?F0(s,null,o,u):io(s,i.child,o,u)}function J0(i,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return Js(s),u=qd(i,s,o,E,g,f),A=Gd(),i!==null&&!Ue?(Kd(i,s,f),rr(i,s,f)):(qt&&A&&xd(s),s.flags|=1,qe(i,s,u,f),s.child)}function t_(i,s,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!wd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,e_(i,s,g,u,f)):(i=Uc(o.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!pm(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Rl,o(E,u)&&i.ref===s.ref)return rr(i,s,f)}return s.flags|=1,i=Wi(g,u),i.ref=s.ref,i.return=s,s.child=i}function e_(i,s,o,u,f){if(i!==null){var g=i.memoizedProps;if(Rl(g,u)&&i.ref===s.ref)if(Ue=!1,s.pendingProps=u=g,pm(i,f))(i.flags&131072)!==0&&(Ue=!0);else return s.lanes=i.lanes,rr(i,s,f)}return lm(i,s,o,u,f)}function n_(i,s,o){var u=s.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=s.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return i_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hc(s,g!==null?g.cachePool:null),g!==null?e0(s,g):zd(),H0(s);else return s.lanes=s.childLanes=536870912,i_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Hc(s,g.cachePool),e0(s,g),Br(),s.memoizedState=null):(i!==null&&Hc(s,null),zd(),Br());return qe(i,s,f,o),s.child}function i_(i,s,o,u){var f=Pd();return f=f===null?null:{parent:Me._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},i!==null&&Hc(s,null),zd(),H0(s),i!==null&&Ml(i,s,u,!0),null}function ah(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function lm(i,s,o,u,f){return Js(s),o=qd(i,s,o,u,void 0,f),u=Gd(),i!==null&&!Ue?(Kd(i,s,f),rr(i,s,f)):(qt&&u&&xd(s),s.flags|=1,qe(i,s,o,f),s.child)}function r_(i,s,o,u,f,g){return Js(s),s.updateQueue=null,o=i0(s,u,o,f),n0(i),u=Gd(),i!==null&&!Ue?(Kd(i,s,g),rr(i,s,g)):(qt&&u&&xd(s),s.flags|=1,qe(i,s,o,g),s.child)}function s_(i,s,o,u,f){if(Js(s),s.stateNode===null){var g=Ya,E=o.contextType;typeof E=="object"&&E!==null&&(g=Je(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=am,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Ld(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?Je(E):Ya,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(sm(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&am.enqueueReplaceState(g,g.state,null),Ul(s,u,g,f),Ll(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,I=na(o,A);g.props=I;var G=g.context,Z=o.contextType;E=Ya,typeof Z=="object"&&Z!==null&&(E=Je(Z));var nt=o.getDerivedStateFromProps;Z=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||G!==E)&&G0(s,g,u,E),Or=!1;var Y=s.memoizedState;g.state=Y,Ul(s,u,g,f),Ll(),G=s.memoizedState,A||Y!==G||Or?(typeof nt=="function"&&(sm(s,o,nt,u),G=s.memoizedState),(I=Or||q0(s,o,I,u,Y,G,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=E,u=I):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Ud(i,s),E=s.memoizedProps,Z=na(o,E),g.props=Z,nt=s.pendingProps,Y=g.context,G=o.contextType,I=Ya,typeof G=="object"&&G!==null&&(I=Je(G)),A=o.getDerivedStateFromProps,(G=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==nt||Y!==I)&&G0(s,g,u,I),Or=!1,Y=s.memoizedState,g.state=Y,Ul(s,u,g,f),Ll();var Q=s.memoizedState;E!==nt||Y!==Q||Or||i!==null&&i.dependencies!==null&&zc(i.dependencies)?(typeof A=="function"&&(sm(s,o,A,u),Q=s.memoizedState),(Z=Or||q0(s,o,Z,u,Y,Q,I)||i!==null&&i.dependencies!==null&&zc(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,I)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=I,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,ah(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=io(s,i.child,null,f),s.child=io(s,null,o,f)):qe(i,s,o,f),s.memoizedState=g.state,i=s.child):i=rr(i,s,f),i}function a_(i,s,o,u){return Il(),s.flags|=256,qe(i,s,o,u),s.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(i){return{baseLanes:i,cachePool:Yv()}}function hm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=jn),i}function o_(i,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ve.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(qt){if(f?Ur(s):Br(),qt){var A=fe,I;if(I=A){t:{for(I=A,A=yi;I.nodeType!==8;){if(!A){A=null;break t}if(I=Zn(I.nextSibling),I===null){A=null;break t}}A=I}A!==null?(s.memoizedState={dehydrated:A,treeContext:$s!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},I=En(18,null,null,0),I.stateNode=A,I.return=s,s.child=I,cn=s,fe=null,I=!0):I=!1}I||Ws(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return $m(A)?s.lanes=32:s.lanes=536870912,null;ir(s)}return A=u.children,u=u.fallback,f?(Br(),f=s.mode,A=oh({mode:"hidden",children:A},f),u=Ys(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,f=s.child,f.memoizedState=cm(o),f.childLanes=hm(i,E,o),s.memoizedState=um,u):(Ur(s),fm(s,A))}if(I=i.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(g)s.flags&256?(Ur(s),s.flags&=-257,s=dm(i,s,o)):s.memoizedState!==null?(Br(),s.child=i.child,s.flags|=128,s=null):(Br(),f=u.fallback,A=s.mode,u=oh({mode:"visible",children:u.children},A),f=Ys(f,A,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,io(s,i.child,null,o),u=s.child,u.memoizedState=cm(o),u.childLanes=hm(i,E,o),s.memoizedState=um,s=f);else if(Ur(s),$m(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var G=E.dgst;E=G,u=Error(r(419)),u.stack="",u.digest=E,Dl({value:u,source:null,stack:null}),s=dm(i,s,o)}else if(Ue||Ml(i,s,o,!1),E=(o&i.childLanes)!==0,Ue||E){if(E=ne,E!==null&&(u=o&-o,u=(u&42)!==0?1:Rr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,Ka(i,u),Rn(E,i,u),Z0;A.data==="$?"||Mm(),s=dm(i,s,o)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=I.treeContext,fe=Zn(A.nextSibling),cn=s,qt=!0,Xs=null,yi=!1,i!==null&&(Ln[Un++]=Zi,Ln[Un++]=Ji,Ln[Un++]=$s,Zi=i.id,Ji=i.overflow,$s=s),s=fm(s,u.children),s.flags|=4096);return s}return f?(Br(),f=u.fallback,A=s.mode,I=i.child,G=I.sibling,u=Wi(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,G!==null?f=Wi(G,f):(f=Ys(f,A,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,A=i.child.memoizedState,A===null?A=cm(o):(I=A.cachePool,I!==null?(G=Me._currentValue,I=I.parent!==G?{parent:G,pool:G}:I):I=Yv(),A={baseLanes:A.baseLanes|o,cachePool:I}),f.memoizedState=A,f.childLanes=hm(i,E,o),s.memoizedState=um,u):(Ur(s),o=i.child,i=o.sibling,o=Wi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function fm(i,s){return s=oh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function oh(i,s){return i=En(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function dm(i,s,o){return io(s,i.child,null,o),i=fm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function l_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Md(i.return,s,o)}function mm(i,s,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function u_(i,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(qe(i,s,u.children,o),u=Ve.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&l_(i,o,s);else if(i.tag===19)l_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ot(Ve,u),f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&ih(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),mm(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&ih(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}mm(s,!0,o,null,g);break;case"together":mm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function rr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),qr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Ml(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Wi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Wi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function pm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&zc(i)))}function jx(i,s,o){switch(s.tag){case 3:ee(s,s.stateNode.containerInfo),Nr(s,Me,i.memoizedState.cache),Il();break;case 27:case 5:Sr(s);break;case 4:ee(s,s.stateNode.containerInfo);break;case 10:Nr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ur(s),s.flags|=128,null):(o&s.child.childLanes)!==0?o_(i,s,o):(Ur(s),i=rr(i,s,o),i!==null?i.sibling:null);Ur(s);break;case 19:var f=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ml(i,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return u_(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(Ve,Ve.current),u)break;return null;case 22:case 23:return s.lanes=0,n_(i,s,o);case 24:Nr(s,Me,i.memoizedState.cache)}return rr(i,s,o)}function c_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ue=!0;else{if(!pm(i,o)&&(s.flags&128)===0)return Ue=!1,jx(i,s,o);Ue=(i.flags&131072)!==0}else Ue=!1,qt&&(s.flags&1048576)!==0&&jv(s,jc,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")wd(u)?(i=na(u,i),s.tag=1,s=s_(null,s,u,i,o)):(s.tag=0,s=lm(null,s,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===at){s.tag=11,s=J0(null,s,u,i,o);break t}else if(f===D){s.tag=14,s=t_(null,s,u,i,o);break t}}throw s=pt(u)||u,Error(r(306,s,""))}}return s;case 0:return lm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=na(u,s.pendingProps),s_(i,s,u,f,o);case 3:t:{if(ee(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,Ud(i,s),Ul(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Nr(s,Me,u),u!==g.cache&&Vd(s,[Me],o,!0),Ll(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=a_(i,s,u,o);break t}else if(u!==f){f=Pn(Error(r(424)),s),Dl(f),s=a_(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Zn(i.firstChild),cn=s,qt=!0,Xs=null,yi=!0,o=F0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Il(),u===f){s=rr(i,s,o);break t}qe(i,s,u,o)}s=s.child}return s;case 26:return ah(i,s),i===null?(o=mT(s.type,null,s.pendingProps,null))?s.memoizedState=o:qt||(o=s.type,i=s.pendingProps,u=Eh(Rt.current).createElement(o),u[Ce]=s,u[Te]=i,Ke(u,o,i),pe(u),s.stateNode=u):s.memoizedState=mT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Sr(s),i===null&&qt&&(u=s.stateNode=hT(s.type,s.pendingProps,Rt.current),cn=s,yi=!0,f=fe,$r(s.type)?(Qm=f,fe=Zn(u.firstChild)):fe=f),qe(i,s,s.pendingProps.children,o),ah(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&qt&&((f=u=fe)&&(u=mC(u,s.type,s.pendingProps,yi),u!==null?(s.stateNode=u,cn=s,fe=Zn(u.firstChild),yi=!1,f=!0):f=!1),f||Ws(s)),Sr(s),f=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Gm(f,g)?u=null:E!==null&&Gm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=qd(i,s,Vx,null,null,o),au._currentValue=f),ah(i,s),qe(i,s,u,o),s.child;case 6:return i===null&&qt&&((i=o=fe)&&(o=pC(o,s.pendingProps,yi),o!==null?(s.stateNode=o,cn=s,fe=null,i=!0):i=!1),i||Ws(s)),null;case 13:return o_(i,s,o);case 4:return ee(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=io(s,null,u,o):qe(i,s,u,o),s.child;case 11:return J0(i,s,s.type,s.pendingProps,o);case 7:return qe(i,s,s.pendingProps,o),s.child;case 8:return qe(i,s,s.pendingProps.children,o),s.child;case 12:return qe(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Nr(s,s.type,u.value),qe(i,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Js(s),f=Je(f),u=u(f),s.flags|=1,qe(i,s,u,o),s.child;case 14:return t_(i,s,s.type,s.pendingProps,o);case 15:return e_(i,s,s.type,s.pendingProps,o);case 19:return u_(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=oh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Wi(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return n_(i,s,o);case 24:return Js(s),u=Je(Me),i===null?(f=Pd(),f===null&&(f=ne,g=Nd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},Ld(s),Nr(s,Me,f)):((i.lanes&o)!==0&&(Ud(i,s),Ul(s,null,null,o),Ll()),f=i.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Nr(s,Me,u)):(u=g.cache,Nr(s,Me,u),u!==f.cache&&Vd(s,[Me],o,!0))),qe(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function sr(i){i.flags|=4}function h_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_T(s)){if(s=Bn.current,s!==null&&((zt&4194048)===zt?vi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||s!==vi))throw Pl=kd,$v;i.flags|=8192}}function lh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ll():536870912,i.lanes|=s,oo|=s)}function Gl(i,s){if(!qt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function zx(i,s,o){var u=s.pendingProps;switch(Cd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(s),null;case 1:return oe(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),er(Me),si(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Cl(s)?sr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hv())),oe(s),null;case 26:return o=s.memoizedState,i===null?(sr(s),o!==null?(oe(s),h_(s,o)):(oe(s),s.flags&=-16777217)):o?o!==i.memoizedState?(sr(s),oe(s),h_(s,o)):(oe(s),s.flags&=-16777217):(i.memoizedProps!==u&&sr(s),oe(s),s.flags&=-16777217),null;case 27:Ui(s),o=Rt.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&sr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return oe(s),null}i=_t.current,Cl(s)?zv(s):(i=hT(f,u,o),s.stateNode=i,sr(s))}return oe(s),null;case 5:if(Ui(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&sr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return oe(s),null}if(i=_t.current,Cl(s))zv(s);else{switch(f=Eh(Rt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Ce]=s,i[Te]=u;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;t:switch(Ke(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&sr(s)}}return oe(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&sr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Rt.current,Cl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ce]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||rT(i.nodeValue,o)),i||Ws(s)}else i=Eh(i).createTextNode(u),i[Ce]=s,s.stateNode=i}return oe(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Cl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ce]=s}else Il(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;oe(s),f=!1}else f=Hv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ir(s),s):(ir(s),null)}if(ir(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),lh(s,s.updateQueue),oe(s),null;case 4:return si(),i===null&&jm(s.stateNode.containerInfo),oe(s),null;case 10:return er(s.type),oe(s),null;case 19:if(ct(Ve),f=s.memoizedState,f===null)return oe(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)Gl(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=ih(i),g!==null){for(s.flags|=128,Gl(f,!1),i=g.updateQueue,s.updateQueue=i,lh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Bv(o,i),o=o.sibling;return ot(Ve,Ve.current&1|2),s.child}i=i.sibling}f.tail!==null&&In()>hh&&(s.flags|=128,u=!0,Gl(f,!1),s.lanes=4194304)}else{if(!u)if(i=ih(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,lh(s,i),Gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!qt)return oe(s),null}else 2*In()-f.renderingStartTime>hh&&o!==536870912&&(s.flags|=128,u=!0,Gl(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(i=f.last,i!==null?i.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=In(),s.sibling=null,i=Ve.current,ot(Ve,u?i&1|2:i&1),s):(oe(s),null);case 22:case 23:return ir(s),Fd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(oe(s),s.subtreeFlags&6&&(s.flags|=8192)):oe(s),o=s.updateQueue,o!==null&&lh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ct(ta),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),er(Me),oe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Fx(i,s){switch(Cd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return er(Me),si(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ui(s),null;case 13:if(ir(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Il()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ct(Ve),null;case 4:return si(),null;case 10:return er(s.type),null;case 22:case 23:return ir(s),Fd(),i!==null&&ct(ta),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return er(Me),null;case 25:return null;default:return null}}function f_(i,s){switch(Cd(s),s.tag){case 3:er(Me),si();break;case 26:case 27:case 5:Ui(s);break;case 4:si();break;case 13:ir(s);break;case 19:ct(Ve);break;case 10:er(s.type);break;case 22:case 23:ir(s),Fd(),i!==null&&ct(ta);break;case 24:er(Me)}}function Kl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(A){te(s,s.return,A)}}function jr(i,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=s;var I=o,G=A;try{G()}catch(Z){te(f,I,Z)}}}u=u.next}while(u!==g)}}catch(Z){te(s,s.return,Z)}}function d_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{t0(s,o)}catch(u){te(i,i.return,u)}}}function m_(i,s,o){o.props=na(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){te(i,s,u)}}function Yl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){te(i,s,f)}}function _i(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){te(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){te(i,s,f)}else o.current=null}function p_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){te(i,i.return,f)}}function gm(i,s,o){try{var u=i.stateNode;uC(u,i.type,o,s),u[Te]=s}catch(f){te(i,i.return,f)}}function g_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$r(i.type)||i.tag===4}function ym(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||g_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$r(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Th));else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(vm(i,s,o),i=i.sibling;i!==null;)vm(i,s,o),i=i.sibling}function uh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(uh(i,s,o),i=i.sibling;i!==null;)uh(i,s,o),i=i.sibling}function y_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ke(s,u,o),s[Ce]=i,s[Te]=o}catch(g){te(i,i.return,g)}}var ar=!1,ye=!1,_m=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Hx(i,s){if(i=i.containerInfo,Hm=xh,i=Iv(i),yd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,A=-1,I=-1,G=0,Z=0,nt=i,Y=null;e:for(;;){for(var Q;nt!==o||f!==0&&nt.nodeType!==3||(A=E+f),nt!==g||u!==0&&nt.nodeType!==3||(I=E+u),nt.nodeType===3&&(E+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)Y=nt,nt=Q;for(;;){if(nt===i)break e;if(Y===o&&++G===f&&(A=E),Y===g&&++Z===u&&(I=E),(Q=nt.nextSibling)!==null)break;nt=Y,Y=nt.parentNode}nt=Q}o=A===-1||I===-1?null:{start:A,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(qm={focusedElem:i,selectionRange:o},xh=!1,Be=s;Be!==null;)if(s=Be,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Be=i;else for(;Be!==null;){switch(s=Be,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var wt=na(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(wt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){te(o,o.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Ym(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ym(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Be=i;break}Be=s.return}}function __(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:zr(i,o),u&4&&Kl(5,o);break;case 1:if(zr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){te(o,o.return,E)}else{var f=na(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){te(o,o.return,E)}}u&64&&d_(o),u&512&&Yl(o,o.return);break;case 3:if(zr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{t0(i,s)}catch(E){te(o,o.return,E)}}break;case 27:s===null&&u&4&&y_(o);case 26:case 5:zr(i,o),s===null&&u&4&&p_(o),u&512&&Yl(o,o.return);break;case 12:zr(i,o);break;case 13:zr(i,o),u&4&&b_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Zx.bind(null,o),gC(i,o))));break;case 22:if(u=o.memoizedState!==null||ar,!u){s=s!==null&&s.memoizedState!==null||ye,f=ar;var g=ye;ar=u,(ye=s)&&!g?Fr(i,o,(o.subtreeFlags&8772)!==0):zr(i,o),ar=f,ye=g}break;case 30:break;default:zr(i,o)}}function T_(i){var s=i.alternate;s!==null&&(i.alternate=null,T_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ir(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var se=null,mn=!1;function or(i,s,o){for(o=o.child;o!==null;)E_(i,s,o),o=o.sibling}function E_(i,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:ye||_i(o,s),or(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||_i(o,s);var u=se,f=mn;$r(o.type)&&(se=o.stateNode,mn=!1),or(i,s,o),nu(o.stateNode),se=u,mn=f;break;case 5:ye||_i(o,s);case 6:if(u=se,f=mn,se=null,or(i,s,o),se=u,mn=f,se!==null)if(mn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(o.stateNode)}catch(g){te(o,s,g)}else try{se.removeChild(o.stateNode)}catch(g){te(o,s,g)}break;case 18:se!==null&&(mn?(i=se,uT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),cu(i)):uT(se,o.stateNode));break;case 4:u=se,f=mn,se=o.stateNode.containerInfo,mn=!0,or(i,s,o),se=u,mn=f;break;case 0:case 11:case 14:case 15:ye||jr(2,o,s),ye||jr(4,o,s),or(i,s,o);break;case 1:ye||(_i(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&m_(o,s,u)),or(i,s,o);break;case 21:or(i,s,o);break;case 22:ye=(u=ye)||o.memoizedState!==null,or(i,s,o),ye=u;break;default:or(i,s,o)}}function b_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{cu(i)}catch(o){te(s,s.return,o)}}function qx(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new v_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new v_),s;default:throw Error(r(435,i.tag))}}function Tm(i,s){var o=qx(i);s.forEach(function(u){var f=Jx.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function bn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=s,A=E;t:for(;A!==null;){switch(A.tag){case 27:if($r(A.type)){se=A.stateNode,mn=!1;break t}break;case 5:se=A.stateNode,mn=!1;break t;case 3:case 4:se=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(se===null)throw Error(r(160));E_(g,E,f),se=null,mn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)A_(s,i),s=s.sibling}var Wn=null;function A_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(s,i),An(i),u&4&&(jr(3,i,i.return),Kl(3,i),jr(5,i,i.return));break;case 1:bn(s,i),An(i),u&512&&(ye||o===null||_i(o,o.return)),u&64&&ar&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Wn;if(bn(s,i),An(i),u&512&&(ye||o===null||_i(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ms]||g[Ce]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ke(g,u,o),g[Ce]=i,pe(g),u=g;break t;case"link":var E=yT("link","href",f).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break e}}g=f.createElement(u),Ke(g,u,o),f.head.appendChild(g);break;case"meta":if(E=yT("meta","content",f).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break e}}g=f.createElement(u),Ke(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ce]=i,pe(g),u=g}i.stateNode=u}else vT(f,i.type,i.stateNode);else i.stateNode=gT(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?vT(f,i.type,i.stateNode):gT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&gm(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(s,i),An(i),u&512&&(ye||o===null||_i(o,o.return)),o!==null&&u&4&&gm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(s,i),An(i),u&512&&(ye||o===null||_i(o,o.return)),i.flags&32){f=i.stateNode;try{Mn(f,"")}catch(Q){te(i,i.return,Q)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,gm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(_m=!0);break;case 6:if(bn(s,i),An(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){te(i,i.return,Q)}}break;case 3:if(wh=null,f=Wn,Wn=bh(s.containerInfo),bn(s,i),Wn=f,An(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{cu(s.containerInfo)}catch(Q){te(i,i.return,Q)}_m&&(_m=!1,w_(i));break;case 4:u=Wn,Wn=bh(i.stateNode.containerInfo),bn(s,i),An(i),Wn=u;break;case 12:bn(s,i),An(i);break;case 13:bn(s,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rm=In()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tm(i,u)));break;case 22:f=i.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,G=ar,Z=ye;if(ar=G||f,ye=Z||I,bn(s,i),ye=Z,ar=G,An(i),u&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||I||ar||ye||ia(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){I=o=s;try{if(g=I.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=I.stateNode;var nt=I.memoizedProps.style,Y=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){te(I,I.return,Q)}}}else if(s.tag===6){if(o===null){I=s;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(Q){te(I,I.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Tm(i,o))));break;case 19:bn(s,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tm(i,u)));break;case 30:break;case 21:break;default:bn(s,i),An(i)}}function An(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(g_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=ym(i);uh(i,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Mn(E,""),o.flags&=-33);var A=ym(i);uh(i,A,E);break;case 3:case 4:var I=o.stateNode.containerInfo,G=ym(i);vm(i,G,I);break;default:throw Error(r(161))}}catch(Z){te(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function w_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;w_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function zr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)__(i,s.alternate,s),s=s.sibling}function ia(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:jr(4,s,s.return),ia(s);break;case 1:_i(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&m_(s,s.return,o),ia(s);break;case 27:nu(s.stateNode);case 26:case 5:_i(s,s.return),ia(s);break;case 22:s.memoizedState===null&&ia(s);break;case 30:ia(s);break;default:ia(s)}i=i.sibling}}function Fr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Fr(f,g,o),Kl(4,g);break;case 1:if(Fr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){te(u,u.return,G)}if(u=g,f=u.updateQueue,f!==null){var A=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Jv(I[f],A)}catch(G){te(u,u.return,G)}}o&&E&64&&d_(g),Yl(g,g.return);break;case 27:y_(g);case 26:case 5:Fr(f,g,o),o&&u===null&&E&4&&p_(g),Yl(g,g.return);break;case 12:Fr(f,g,o);break;case 13:Fr(f,g,o),o&&E&4&&b_(f,g);break;case 22:g.memoizedState===null&&Fr(f,g,o),Yl(g,g.return);break;case 30:break;default:Fr(f,g,o)}s=s.sibling}}function Em(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Vl(o))}function bm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i))}function Ti(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)S_(i,s,o,u),s=s.sibling}function S_(i,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(i,s,o,u),f&2048&&Kl(9,s);break;case 1:Ti(i,s,o,u);break;case 3:Ti(i,s,o,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vl(i)));break;case 12:if(f&2048){Ti(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){te(s,s.return,I)}}else Ti(i,s,o,u);break;case 13:Ti(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Ti(i,s,o,u):$l(i,s):g._visibility&2?Ti(i,s,o,u):(g._visibility|=2,ro(i,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Em(E,s);break;case 24:Ti(i,s,o,u),f&2048&&bm(s.alternate,s);break;default:Ti(i,s,o,u)}}function ro(i,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,A=o,I=u,G=E.flags;switch(E.tag){case 0:case 11:case 15:ro(g,E,A,I,f),Kl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?ro(g,E,A,I,f):$l(g,E):(Z._visibility|=2,ro(g,E,A,I,f)),f&&G&2048&&Em(E.alternate,E);break;case 24:ro(g,E,A,I,f),f&&G&2048&&bm(E.alternate,E);break;default:ro(g,E,A,I,f)}s=s.sibling}}function $l(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,f=u.flags;switch(u.tag){case 22:$l(o,u),f&2048&&Em(u.alternate,u);break;case 24:$l(o,u),f&2048&&bm(u.alternate,u);break;default:$l(o,u)}s=s.sibling}}var Ql=8192;function so(i){if(i.subtreeFlags&Ql)for(i=i.child;i!==null;)R_(i),i=i.sibling}function R_(i){switch(i.tag){case 26:so(i),i.flags&Ql&&i.memoizedState!==null&&IC(Wn,i.memoizedState,i.memoizedProps);break;case 5:so(i);break;case 3:case 4:var s=Wn;Wn=bh(i.stateNode.containerInfo),so(i),Wn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Ql,Ql=16777216,so(i),Ql=s):so(i));break;default:so(i)}}function x_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Xl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Be=u,I_(u,i)}x_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)C_(i),i=i.sibling}function C_(i){switch(i.tag){case 0:case 11:case 15:Xl(i),i.flags&2048&&jr(9,i,i.return);break;case 3:Xl(i);break;case 12:Xl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ch(i)):Xl(i);break;default:Xl(i)}}function ch(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Be=u,I_(u,i)}x_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:jr(8,s,s.return),ch(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ch(s));break;default:ch(s)}i=i.sibling}}function I_(i,s){for(;Be!==null;){var o=Be;switch(o.tag){case 0:case 11:case 15:jr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Be=u;else t:for(o=i;Be!==null;){u=Be;var f=u.sibling,g=u.return;if(T_(u),u===o){Be=null;break t}if(f!==null){f.return=g,Be=f;break t}Be=g}}}var Gx={getCacheForType:function(i){var s=Je(Me),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},Kx=typeof WeakMap=="function"?WeakMap:Map,$t=0,ne=null,Pt=null,zt=0,Qt=0,wn=null,Hr=!1,ao=!1,Am=!1,lr=0,de=0,qr=0,ra=0,wm=0,jn=0,oo=0,Wl=null,pn=null,Sm=!1,Rm=0,hh=1/0,fh=null,Gr=null,Ge=0,Kr=null,lo=null,uo=0,xm=0,Cm=null,D_=null,Zl=0,Im=null;function Sn(){if(($t&2)!==0&&zt!==0)return zt&-zt;if(X.T!==null){var i=Xa;return i!==0?i:km()}return xr()}function M_(){jn===0&&(jn=(zt&536870912)===0||qt?ol():536870912);var i=Bn.current;return i!==null&&(i.flags|=32),jn}function Rn(i,s,o){(i===ne&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(co(i,0),Yr(i,zt,jn,!1)),ji(i,o),(($t&2)===0||i!==ne)&&(i===ne&&(($t&2)===0&&(ra|=o),de===4&&Yr(i,zt,jn,!1)),Ei(i))}function V_(i,s,o){if(($t&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Ds(i,s),f=u?Qx(i,s):Vm(i,s,!0),g=u;do{if(f===0){ao&&!u&&Yr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!Yx(o)){f=Vm(i,s,!1),g=!1;continue}if(f===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var A=i;f=Wl;var I=A.current.memoizedState.isDehydrated;if(I&&(co(A,E).flags|=256),E=Vm(A,E,!1),E!==2){if(Am&&!I){A.errorRecoveryDisabledLanes|=g,ra|=g,f=4;break t}g=pn,pn=f,g!==null&&(pn===null?pn=g:pn.push.apply(pn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){co(i,0),Yr(i,s,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yr(u,s,jn,!Hr);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Rm+300-In(),10<f)){if(Yr(u,s,jn,!Hr),xa(u,0,!0)!==0)break t;u.timeoutHandle=oT(N_.bind(null,u,o,pn,fh,Sm,s,jn,ra,oo,Hr,g,2,-0,0),f);break t}N_(u,o,pn,fh,Sm,s,jn,ra,oo,Hr,g,0,-0,0)}}break}while(!0);Ei(i)}function N_(i,s,o,u,f,g,E,A,I,G,Z,nt,Y,Q){if(i.timeoutHandle=-1,nt=s.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(su={stylesheets:null,count:0,unsuspend:CC},R_(s),nt=DC(),nt!==null)){i.cancelPendingCommit=nt(j_.bind(null,i,s,g,o,u,f,E,A,I,Z,1,Y,Q)),Yr(i,g,E,!G);return}j_(i,s,g,o,u,f,E,A,I)}function Yx(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Tn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yr(i,s,o,u){s&=~wm,s&=~ra,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var g=31-Ze(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&ai(i,o,s)}function dh(){return($t&6)===0?(Jl(0),!1):!0}function Dm(){if(Pt!==null){if(Qt===0)var i=Pt.return;else i=Pt,tr=Zs=null,Yd(i),no=null,Hl=0,i=Pt;for(;i!==null;)f_(i.alternate,i),i=i.return;Pt=null}}function co(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,hC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Dm(),ne=i,Pt=o=Wi(i.current,null),zt=s,Qt=0,wn=null,Hr=!1,ao=Ds(i,s),Am=!1,oo=jn=wm=ra=qr=de=0,pn=Wl=null,Sm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-Ze(u),g=1<<f;s|=i[f],u&=~g}return lr=s,Pc(),o}function O_(i,s){Mt=null,X.H=th,s===Ol||s===qc?(s=Wv(),Qt=3):s===$v?(s=Wv(),Qt=4):Qt=s===Z0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,Pt===null&&(de=1,sh(i,Pn(s,i.current)))}function P_(){var i=X.H;return X.H=th,i===null?th:i}function k_(){var i=X.A;return X.A=Gx,i}function Mm(){de=4,Hr||(zt&4194048)!==zt&&Bn.current!==null||(ao=!0),(qr&134217727)===0&&(ra&134217727)===0||ne===null||Yr(ne,zt,jn,!1)}function Vm(i,s,o){var u=$t;$t|=2;var f=P_(),g=k_();(ne!==i||zt!==s)&&(fh=null,co(i,s)),s=!1;var E=de;t:do try{if(Qt!==0&&Pt!==null){var A=Pt,I=wn;switch(Qt){case 8:Dm(),E=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(s=!0);var G=Qt;if(Qt=0,wn=null,ho(i,A,I,G),o&&ao){E=0;break t}break;default:G=Qt,Qt=0,wn=null,ho(i,A,I,G)}}$x(),E=de;break}catch(Z){O_(i,Z)}while(!0);return s&&i.shellSuspendCounter++,tr=Zs=null,$t=u,X.H=f,X.A=g,Pt===null&&(ne=null,zt=0,Pc()),E}function $x(){for(;Pt!==null;)L_(Pt)}function Qx(i,s){var o=$t;$t|=2;var u=P_(),f=k_();ne!==i||zt!==s?(fh=null,hh=In()+500,co(i,s)):ao=Ds(i,s);t:do try{if(Qt!==0&&Pt!==null){s=Pt;var g=wn;e:switch(Qt){case 1:Qt=0,wn=null,ho(i,s,g,1);break;case 2:case 9:if(Qv(g)){Qt=0,wn=null,U_(s);break}s=function(){Qt!==2&&Qt!==9||ne!==i||(Qt=7),Ei(i)},g.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Qv(g)?(Qt=0,wn=null,U_(s)):(Qt=0,wn=null,ho(i,s,g,7));break;case 5:var E=null;switch(Pt.tag){case 26:E=Pt.memoizedState;case 5:case 27:var A=Pt;if(!E||_T(E)){Qt=0,wn=null;var I=A.sibling;if(I!==null)Pt=I;else{var G=A.return;G!==null?(Pt=G,mh(G)):Pt=null}break e}}Qt=0,wn=null,ho(i,s,g,5);break;case 6:Qt=0,wn=null,ho(i,s,g,6);break;case 8:Dm(),de=6;break t;default:throw Error(r(462))}}Xx();break}catch(Z){O_(i,Z)}while(!0);return tr=Zs=null,X.H=u,X.A=f,$t=o,Pt!==null?0:(ne=null,zt=0,Pc(),de)}function Xx(){for(;Pt!==null&&!il();)L_(Pt)}function L_(i){var s=c_(i.alternate,i,lr);i.memoizedProps=i.pendingProps,s===null?mh(i):Pt=s}function U_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=r_(o,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=r_(o,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:Yd(s);default:f_(o,s),s=Pt=Bv(s,lr),s=c_(o,s,lr)}i.memoizedProps=i.pendingProps,s===null?mh(i):Pt=s}function ho(i,s,o,u){tr=Zs=null,Yd(s),no=null,Hl=0;var f=s.return;try{if(Bx(i,f,s,o,zt)){de=1,sh(i,Pn(o,i.current)),Pt=null;return}}catch(g){if(f!==null)throw Pt=f,g;de=1,sh(i,Pn(o,i.current)),Pt=null;return}s.flags&32768?(qt||u===1?i=!0:ao||(zt&536870912)!==0?i=!1:(Hr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),B_(s,i)):mh(s)}function mh(i){var s=i;do{if((s.flags&32768)!==0){B_(s,Hr);return}i=s.return;var o=zx(s.alternate,s,lr);if(o!==null){Pt=o;return}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=i}while(s!==null);de===0&&(de=5)}function B_(i,s){do{var o=Fx(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);de=6,Pt=null}function j_(i,s,o,u,f,g,E,A,I){i.cancelPendingCommit=null;do ph();while(Ge!==0);if(($t&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=bd,ul(i,o,g,E,A,I),i===ne&&(Pt=ne=null,zt=0),lo=s,Kr=i,uo=o,xm=g,Cm=f,D_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,tC(Rs,function(){return G_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=tt.p,tt.p=2,E=$t,$t|=4;try{Hx(i,s,o)}finally{$t=E,tt.p=f,X.T=u}}Ge=1,z_(),F_(),H_()}}function z_(){if(Ge===1){Ge=0;var i=Kr,s=lo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=tt.p;tt.p=2;var f=$t;$t|=4;try{A_(s,i);var g=qm,E=Iv(i.containerInfo),A=g.focusedElem,I=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&Cv(A.ownerDocument.documentElement,A)){if(I!==null&&yd(A)){var G=I.start,Z=I.end;if(Z===void 0&&(Z=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(Z,A.value.length);else{var nt=A.ownerDocument||document,Y=nt&&nt.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),wt=A.textContent.length,Tt=Math.min(I.start,wt),Jt=I.end===void 0?Tt:Math.min(I.end,wt);!Q.extend&&Tt>Jt&&(E=Jt,Jt=Tt,Tt=E);var z=xv(A,Tt),P=xv(A,Jt);if(z&&P&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var q=nt.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),Tt>Jt?(Q.addRange(q),Q.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),Q.addRange(q))}}}}for(nt=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var et=nt[A];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}xh=!!Hm,qm=Hm=null}finally{$t=f,tt.p=u,X.T=o}}i.current=s,Ge=2}}function F_(){if(Ge===2){Ge=0;var i=Kr,s=lo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=tt.p;tt.p=2;var f=$t;$t|=4;try{__(i,s.alternate,s)}finally{$t=f,tt.p=u,X.T=o}}Ge=3}}function H_(){if(Ge===4||Ge===3){Ge=0,cc();var i=Kr,s=lo,o=uo,u=D_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ge=5:(Ge=0,lo=Kr=null,q_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Gr=null),Ca(o),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(he,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,f=tt.p,tt.p=2,X.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var A=u[E];g(A.value,{componentStack:A.stack})}}finally{X.T=s,tt.p=f}}(uo&3)!==0&&ph(),Ei(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Im?Zl++:(Zl=0,Im=i):Zl=0,Jl(0)}}function q_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Vl(s)))}function ph(i){return z_(),F_(),H_(),G_()}function G_(){if(Ge!==5)return!1;var i=Kr,s=xm;xm=0;var o=Ca(uo),u=X.T,f=tt.p;try{tt.p=32>o?32:o,X.T=null,o=Cm,Cm=null;var g=Kr,E=uo;if(Ge=0,lo=Kr=null,uo=0,($t&6)!==0)throw Error(r(331));var A=$t;if($t|=4,C_(g.current),S_(g,g.current,E,o),$t=A,Jl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(he,g)}catch{}return!0}finally{tt.p=f,X.T=u,q_(i,s)}}function K_(i,s,o){s=Pn(o,s),s=om(i.stateNode,s,2),i=kr(i,s,2),i!==null&&(ji(i,2),Ei(i))}function te(i,s,o){if(i.tag===3)K_(i,i,o);else for(;s!==null;){if(s.tag===3){K_(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gr===null||!Gr.has(u))){i=Pn(o,i),o=X0(2),u=kr(s,o,2),u!==null&&(W0(o,u,s,i),ji(u,2),Ei(u));break}}s=s.return}}function Nm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Kx;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Am=!0,f.add(o),i=Wx.bind(null,i,s,o),s.then(i,i))}function Wx(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(zt&o)===o&&(de===4||de===3&&(zt&62914560)===zt&&300>In()-Rm?($t&2)===0&&co(i,0):wm|=o,oo===zt&&(oo=0)),Ei(i)}function Y_(i,s){s===0&&(s=ll()),i=Ka(i,s),i!==null&&(ji(i,s),Ei(i))}function Zx(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Y_(i,o)}function Jx(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Y_(i,o)}function tC(i,s){return ws(i,s)}var gh=null,fo=null,Om=!1,yh=!1,Pm=!1,sa=0;function Ei(i){i!==fo&&i.next===null&&(fo===null?gh=fo=i:fo=fo.next=i),yh=!0,Om||(Om=!0,nC())}function Jl(i,s){if(!Pm&&yh){Pm=!0;do for(var o=!1,u=gh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Ze(42|i)+1)-1,g&=f&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,W_(u,g))}else g=zt,g=xa(u,u===ne?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ds(u,g)||(o=!0,W_(u,g));u=u.next}while(o);Pm=!1}}function eC(){$_()}function $_(){yh=Om=!1;var i=0;sa!==0&&(cC()&&(i=sa),sa=0);for(var s=In(),o=null,u=gh;u!==null;){var f=u.next,g=Q_(u,s);g===0?(u.next=null,o===null?gh=f:o.next=f,f===null&&(fo=o)):(o=u,(i!==0||(g&3)!==0)&&(yh=!0)),u=f}Jl(i)}function Q_(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Ze(g),A=1<<E,I=f[E];I===-1?((A&o)===0||(A&u)!==0)&&(f[E]=al(A,s)):I<=s&&(i.expiredLanes|=A),g&=~A}if(s=ne,o=zt,o=xa(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ss(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ds(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Ss(u),Ca(o)){case 2:case 8:o=Sa;break;case 32:o=Rs;break;case 268435456:o=Ra;break;default:o=Rs}return u=X_.bind(null,i),o=ws(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Ss(u),i.callbackPriority=2,i.callbackNode=null,2}function X_(i,s){if(Ge!==0&&Ge!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ph()&&i.callbackNode!==o)return null;var u=zt;return u=xa(i,i===ne?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(V_(i,u,s),Q_(i,In()),i.callbackNode!=null&&i.callbackNode===o?X_.bind(null,i):null)}function W_(i,s){if(ph())return null;V_(i,s,!0)}function nC(){fC(function(){($t&6)!==0?ws(rl,eC):$_()})}function km(){return sa===0&&(sa=ol()),sa}function Z_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oa(""+i)}function J_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function iC(i,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=Z_((f[Te]||null).action),E=u.submitter;E&&(s=(s=E[Te]||null)?Z_(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var A=new Pa("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sa!==0){var I=E?J_(f,E):new FormData(f);nm(o,{pending:!0,data:I,method:f.method,action:g},null,I)}}else typeof g=="function"&&(A.preventDefault(),I=E?J_(f,E):new FormData(f),nm(o,{pending:!0,data:I,method:f.method,action:g},g,I))},currentTarget:f}]})}}for(var Lm=0;Lm<Ed.length;Lm++){var Um=Ed[Lm],rC=Um.toLowerCase(),sC=Um[0].toUpperCase()+Um.slice(1);Xn(rC,"on"+sC)}Xn(Vv,"onAnimationEnd"),Xn(Nv,"onAnimationIteration"),Xn(Ov,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(bx,"onTransitionRun"),Xn(Ax,"onTransitionStart"),Xn(wx,"onTransitionCancel"),Xn(Pv,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function tT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],I=A.instance,G=A.currentTarget;if(A=A.listener,I!==g&&f.isPropagationStopped())break t;g=A,f.currentTarget=G;try{g(f)}catch(Z){rh(Z)}f.currentTarget=null,g=I}else for(E=0;E<u.length;E++){if(A=u[E],I=A.instance,G=A.currentTarget,A=A.listener,I!==g&&f.isPropagationStopped())break t;g=A,f.currentTarget=G;try{g(f)}catch(Z){rh(Z)}f.currentTarget=null,g=I}}}}function kt(i,s){var o=s[hl];o===void 0&&(o=s[hl]=new Set);var u=i+"__bubble";o.has(u)||(eT(s,i,2,!1),o.add(u))}function Bm(i,s,o){var u=0;s&&(u|=4),eT(o,i,u,s)}var vh="_reactListening"+Math.random().toString(36).slice(2);function jm(i){if(!i[vh]){i[vh]=!0,fl.forEach(function(o){o!=="selectionchange"&&(aC.has(o)||Bm(o,!1,i),Bm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[vh]||(s[vh]=!0,Bm("selectionchange",!1,s))}}function eT(i,s,o,u){switch(ST(s)){case 2:var f=NC;break;case 8:f=OC;break;default:f=tp}o=f.bind(null,s,o,i),f=void 0,!Nn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function zm(i,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=zi(A),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=g=E;continue t}A=A.parentNode}}u=u.return}Tc(function(){var G=g,Z=Vn(o),nt=[];t:{var Y=kv.get(i);if(Y!==void 0){var Q=Pa,wt=i;switch(i){case"keypress":if(fi(o)===0)break t;case"keydown":case"keyup":Q=za;break;case"focusin":wt="focus",Q=Ua;break;case"focusout":wt="blur",Q=Ua;break;case"beforeblur":case"afterblur":Q=Ua;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Cc;break;case Vv:case Nv:case Ov:Q=Ba;break;case Pv:Q=Dc;break;case"scroll":case"scrollend":Q=Ec;break;case"wheel":Q=Fa;break;case"copy":case"cut":case"paste":Q=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=wl;break;case"toggle":case"beforetoggle":Q=Vc}var Tt=(s&4)!==0,Jt=!Tt&&(i==="scroll"||i==="scrollend"),z=Tt?Y!==null?Y+"Capture":null:Y;Tt=[];for(var P=G,q;P!==null;){var et=P;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||z===null||(et=Us(P,z),et!=null&&Tt.push(eu(P,et,q))),Jt)break;P=P.return}0<Tt.length&&(Y=new Q(Y,wt,null,o,Z),nt.push({event:Y,listeners:Tt}))}}if((s&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",Y&&o!==Gi&&(wt=o.relatedTarget||o.fromElement)&&(zi(wt)||wt[Dn]))break t;if((Q||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(wt=o.relatedTarget||o.toElement,Q=G,wt=wt?zi(wt):null,wt!==null&&(Jt=l(wt),Tt=wt.tag,wt!==Jt||Tt!==5&&Tt!==27&&Tt!==6)&&(wt=null)):(Q=null,wt=G),Q!==wt)){if(Tt=On,et="onMouseLeave",z="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=wl,et="onPointerLeave",z="onPointerEnter",P="pointer"),Jt=Q==null?Y:li(Q),q=wt==null?Y:li(wt),Y=new Tt(et,P+"leave",Q,o,Z),Y.target=Jt,Y.relatedTarget=q,et=null,zi(Z)===G&&(Tt=new Tt(z,P+"enter",wt,o,Z),Tt.target=q,Tt.relatedTarget=Jt,et=Tt),Jt=et,Q&&wt)e:{for(Tt=Q,z=wt,P=0,q=Tt;q;q=mo(q))P++;for(q=0,et=z;et;et=mo(et))q++;for(;0<P-q;)Tt=mo(Tt),P--;for(;0<q-P;)z=mo(z),q--;for(;P--;){if(Tt===z||z!==null&&Tt===z.alternate)break e;Tt=mo(Tt),z=mo(z)}Tt=null}else Tt=null;Q!==null&&nT(nt,Y,Q,Tt,!1),wt!==null&&Jt!==null&&nT(nt,Jt,wt,Tt,!0)}}t:{if(Y=G?li(G):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var gt=Ev;else if(De(Y))if(bv)gt=_x;else{gt=yx;var Ot=gx}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&yl(G.elementType)&&(gt=Ev):gt=vx;if(gt&&(gt=gt(i,G))){Xi(nt,gt,o,Z);break t}Ot&&Ot(i,Y,G),i==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Mr(Y,"number",Y.value)}switch(Ot=G?li(G):window,i){case"focusin":(De(Ot)||Ot.contentEditable==="true")&&(Ha=Ot,vd=G,xl=null);break;case"focusout":xl=vd=Ha=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,Dv(nt,o,Z);break;case"selectionchange":if(Ex)break;case"keydown":case"keyup":Dv(nt,o,Z)}var yt;if(pi)t:{switch(i){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Bt?W(i,o)&&(Et="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Et="onCompositionStart");Et&&(_&&o.locale!=="ko"&&(Bt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Bt&&(yt=_l()):(hi=Z,Vr="value"in hi?hi.value:hi.textContent,Bt=!0)),Ot=_h(G,Et),0<Ot.length&&(Et=new bl(Et,i,null,o,Z),nt.push({event:Et,listeners:Ot}),yt?Et.data=yt:(yt=ut(o),yt!==null&&(Et.data=yt)))),(yt=v?Ie(i,o):jt(i,o))&&(Et=_h(G,"onBeforeInput"),0<Et.length&&(Ot=new bl("onBeforeInput","beforeinput",null,o,Z),nt.push({event:Ot,listeners:Et}),Ot.data=yt)),iC(nt,i,G,o,Z)}tT(nt,s)})}function eu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function _h(i,s){for(var o=s+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Us(i,o),f!=null&&u.unshift(eu(i,f,g)),f=Us(i,s),f!=null&&u.push(eu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function mo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nT(i,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var A=o,I=A.alternate,G=A.stateNode;if(A=A.tag,I!==null&&I===u)break;A!==5&&A!==26&&A!==27||G===null||(I=G,f?(G=Us(o,g),G!=null&&E.unshift(eu(o,G,I))):f||(G=Us(o,g),G!=null&&E.push(eu(o,G,I)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var oC=/\r\n?/g,lC=/\u0000|\uFFFD/g;function iT(i){return(typeof i=="string"?i:""+i).replace(oC,`
`).replace(lC,"")}function rT(i,s){return s=iT(s),iT(i)===s}function Th(){}function Zt(i,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Mn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Mn(i,""+u);break;case"className":ui(i,"class",u);break;case"tabIndex":ui(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(i,o,u);break;case"style":gl(i,u,g);break;case"data":if(s!=="object"){ui(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Zt(i,s,"name",f.name,f,null),Zt(i,s,"formEncType",f.formEncType,f,null),Zt(i,s,"formMethod",f.formMethod,f,null),Zt(i,s,"formTarget",f.formTarget,f,null)):(Zt(i,s,"encType",f.encType,f,null),Zt(i,s,"method",f.method,f,null),Zt(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Th);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Oa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":kt("beforetoggle",i),kt("toggle",i),Dr(i,"popover",u);break;case"xlinkActuate":Fe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Fe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Fe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Fe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Fe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Fe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Dr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=hd.get(o)||o,Dr(i,o,u))}}function Fm(i,s,o,u,f,g){switch(o){case"style":gl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Mn(i,u):(typeof u=="number"||typeof u=="bigint")&&Mn(i,""+u);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Th);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=i[Te]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Dr(i,o,u)}}}function Ke(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,g,E,o,null)}}f&&Zt(i,s,"srcSet",o.srcSet,o,null),u&&Zt(i,s,"src",o.src,o,null);return;case"input":kt("invalid",i);var A=g=E=f=null,I=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":I=Z;break;case"defaultChecked":G=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Zt(i,s,u,Z,o,null)}}Ps(i,g,A,I,G,E,f,!1),Na(i);return;case"select":kt("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Zt(i,s,f,A,o,null)}s=g,o=E,i.multiple=!!u,s!=null?qi(i,!!u,s,!1):o!=null&&qi(i,!!u,o,!0);return;case"textarea":kt("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Zt(i,s,E,A,o,null)}ks(i,u,f,g),Na(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Zt(i,s,I,u,o,null)}return;case"dialog":kt("beforetoggle",i),kt("toggle",i),kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(u=0;u<tu.length;u++)kt(tu[u],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,G,u,o,null)}return;default:if(yl(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Fm(i,s,Z,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Zt(i,s,A,u,o,null))}function uC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,A=null,I=null,G=null,Z=null;for(Q in o){var nt=o[Q];if(o.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=nt;default:u.hasOwnProperty(Q)||Zt(i,s,Q,null,u,nt)}}for(var Y in u){var Q=u[Y];if(nt=o[Y],u.hasOwnProperty(Y)&&(Q!=null||nt!=null))switch(Y){case"type":g=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==nt&&Zt(i,s,Y,Q,u,nt)}}_n(i,E,A,I,G,Z,g,f);return;case"select":Q=E=A=Y=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":Q=I;default:u.hasOwnProperty(g)||Zt(i,s,g,null,u,I)}for(f in u)if(g=u[f],I=o[f],u.hasOwnProperty(f)&&(g!=null||I!=null))switch(f){case"value":Y=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==I&&Zt(i,s,f,g,u,I)}s=A,o=E,u=Q,Y!=null?qi(i,!!o,Y,!1):!!u!=!!o&&(s!=null?qi(i,!!o,s,!0):qi(i,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Zt(i,s,A,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&Zt(i,s,E,f,u,g)}Xt(i,Y,Q);return;case"option":for(var wt in o)if(Y=o[wt],o.hasOwnProperty(wt)&&Y!=null&&!u.hasOwnProperty(wt))switch(wt){case"selected":i.selected=!1;break;default:Zt(i,s,wt,null,u,Y)}for(I in u)if(Y=u[I],Q=o[I],u.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Zt(i,s,I,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)Y=o[Tt],o.hasOwnProperty(Tt)&&Y!=null&&!u.hasOwnProperty(Tt)&&Zt(i,s,Tt,null,u,Y);for(G in u)if(Y=u[G],Q=o[G],u.hasOwnProperty(G)&&Y!==Q&&(Y!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Zt(i,s,G,Y,u,Q)}return;default:if(yl(s)){for(var Jt in o)Y=o[Jt],o.hasOwnProperty(Jt)&&Y!==void 0&&!u.hasOwnProperty(Jt)&&Fm(i,s,Jt,void 0,u,Y);for(Z in u)Y=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||Y===Q||Y===void 0&&Q===void 0||Fm(i,s,Z,Y,u,Q);return}}for(var z in o)Y=o[z],o.hasOwnProperty(z)&&Y!=null&&!u.hasOwnProperty(z)&&Zt(i,s,z,null,u,Y);for(nt in u)Y=u[nt],Q=o[nt],!u.hasOwnProperty(nt)||Y===Q||Y==null&&Q==null||Zt(i,s,nt,Y,u,Q)}var Hm=null,qm=null;function Eh(i){return i.nodeType===9?i:i.ownerDocument}function sT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Gm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Km=null;function cC(){var i=window.event;return i&&i.type==="popstate"?i===Km?!1:(Km=i,!0):(Km=null,!1)}var oT=typeof setTimeout=="function"?setTimeout:void 0,hC=typeof clearTimeout=="function"?clearTimeout:void 0,lT=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof lT<"u"?function(i){return lT.resolve(null).then(i).catch(dC)}:oT;function dC(i){setTimeout(function(){throw i})}function $r(i){return i==="head"}function uT(i,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&nu(E.documentElement),o&2&&nu(E.body),o&4)for(o=E.head,nu(o),E=o.firstChild;E;){var A=E.nextSibling,I=E.nodeName;E[Ms]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(f===0){i.removeChild(g),cu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);cu(s)}function Ym(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ym(o),Ir(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function mC(i,s,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ms])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function pC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Zn(i.nextSibling),i===null))return null;return i}function $m(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function gC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Zn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Qm=null;function cT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function hT(i,s,o){switch(s=Eh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function nu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ir(i)}var zn=new Map,fT=new Set;function bh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ur=tt.d;tt.d={f:yC,r:vC,D:_C,C:TC,L:EC,m:bC,X:wC,S:AC,M:SC};function yC(){var i=ur.f(),s=dh();return i||s}function vC(i){var s=oi(i);s!==null&&s.tag===5&&s.type==="form"?V0(s):ur.r(i)}var po=typeof document>"u"?null:document;function dT(i,s,o){var u=po;if(u&&typeof s=="string"&&s){var f=Ee(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),fT.has(f)||(fT.add(f),i={rel:i,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Ke(s,"link",i),pe(s),u.head.appendChild(s)))}}function _C(i){ur.D(i),dT("dns-prefetch",i,null)}function TC(i,s){ur.C(i,s),dT("preconnect",i,s)}function EC(i,s,o){ur.L(i,s,o);var u=po;if(u&&i&&s){var f='link[rel="preload"][as="'+Ee(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ee(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ee(o.imageSizes)+'"]')):f+='[href="'+Ee(i)+'"]';var g=f;switch(s){case"style":g=go(i);break;case"script":g=yo(i)}zn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),zn.set(g,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(iu(g))||s==="script"&&u.querySelector(ru(g))||(s=u.createElement("link"),Ke(s,"link",i),pe(s),u.head.appendChild(s)))}}function bC(i,s){ur.m(i,s);var o=po;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Ee(u)+'"][href="'+Ee(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=yo(i)}if(!zn.has(g)&&(i=y({rel:"modulepreload",href:i},s),zn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ru(g)))return}u=o.createElement("link"),Ke(u,"link",i),pe(u),o.head.appendChild(u)}}}function AC(i,s,o){ur.S(i,s,o);var u=po;if(u&&i){var f=on(u).hoistableStyles,g=go(i);s=s||"default";var E=f.get(g);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(iu(g)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=zn.get(g))&&Xm(i,o);var I=E=u.createElement("link");pe(I),Ke(I,"link",i),I._p=new Promise(function(G,Z){I.onload=G,I.onerror=Z}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ah(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(g,E)}}}function wC(i,s){ur.X(i,s);var o=po;if(o&&i){var u=on(o).hoistableScripts,f=yo(i),g=u.get(f);g||(g=o.querySelector(ru(f)),g||(i=y({src:i,async:!0},s),(s=zn.get(f))&&Wm(i,s),g=o.createElement("script"),pe(g),Ke(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function SC(i,s){ur.M(i,s);var o=po;if(o&&i){var u=on(o).hoistableScripts,f=yo(i),g=u.get(f);g||(g=o.querySelector(ru(f)),g||(i=y({src:i,async:!0,type:"module"},s),(s=zn.get(f))&&Wm(i,s),g=o.createElement("script"),pe(g),Ke(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function mT(i,s,o,u){var f=(f=Rt.current)?bh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=go(o.href),o=on(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=go(o.href);var g=on(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(iu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zn.set(i,o),g||RC(f,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=yo(o),o=on(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function go(i){return'href="'+Ee(i)+'"'}function iu(i){return'link[rel="stylesheet"]['+i+"]"}function pT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function RC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ke(s,"link",o),pe(s),i.head.appendChild(s))}function yo(i){return'[src="'+Ee(i)+'"]'}function ru(i){return"script[async]"+i}function gT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Ee(o.href)+'"]');if(u)return s.instance=u,pe(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pe(u),Ke(u,"style",f),Ah(u,o.precedence,i),s.instance=u;case"stylesheet":f=go(o.href);var g=i.querySelector(iu(f));if(g)return s.state.loading|=4,s.instance=g,pe(g),g;u=pT(o),(f=zn.get(f))&&Xm(u,f),g=(i.ownerDocument||i).createElement("link"),pe(g);var E=g;return E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),Ke(g,"link",u),s.state.loading|=4,Ah(g,o.precedence,i),s.instance=g;case"script":return g=yo(o.src),(f=i.querySelector(ru(g)))?(s.instance=f,pe(f),f):(u=o,(f=zn.get(g))&&(u=y({},o),Wm(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ke(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ah(u,o.precedence,i));return s.instance}function Ah(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Xm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Wm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var wh=null;function yT(i,s,o){if(wh===null){var u=new Map,f=wh=new Map;f.set(o,u)}else f=wh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ms]||g[Ce]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var A=u.get(E);A?A.push(g):u.set(E,[g])}}return u}function vT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function xC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _T(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var su=null;function CC(){}function IC(i,s,o){if(su===null)throw Error(r(475));var u=su;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=go(o.href),g=i.querySelector(iu(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Sh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,pe(g);return}g=i.ownerDocument||i,o=pT(o),(f=zn.get(f))&&Xm(o,f),g=g.createElement("link"),pe(g);var E=g;E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),Ke(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Sh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function DC(){if(su===null)throw Error(r(475));var i=su;return i.stylesheets&&i.count===0&&Zm(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Zm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Sh(){if(this.count--,this.count===0){if(this.stylesheets)Zm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rh=null;function Zm(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rh=new Map,s.forEach(MC,i),Rh=null,Sh.call(i))}function MC(i,s){if(!(s.state.loading&4)){var o=Rh.get(i);if(o)var u=o.get(null);else{o=new Map,Rh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Sh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var au={$$typeof:$,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function VC(i,s,o,u,f,g,E,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function TT(i,s,o,u,f,g,E,A,I,G,Z,nt){return i=new VC(i,s,o,E,A,I,G,nt),s=1,g===!0&&(s|=24),g=En(3,null,null,s),i.current=g,g.stateNode=i,s=Nd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Ld(g),i}function ET(i){return i?(i=Ya,i):Ya}function bT(i,s,o,u,f,g){f=ET(f),u.context===null?u.context=f:u.pendingContext=f,u=Pr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=kr(i,u,s),o!==null&&(Rn(o,i,s),kl(o,i,s))}function AT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Jm(i,s){AT(i,s),(i=i.alternate)&&AT(i,s)}function wT(i){if(i.tag===13){var s=Ka(i,67108864);s!==null&&Rn(s,i,67108864),Jm(i,67108864)}}var xh=!0;function NC(i,s,o,u){var f=X.T;X.T=null;var g=tt.p;try{tt.p=2,tp(i,s,o,u)}finally{tt.p=g,X.T=f}}function OC(i,s,o,u){var f=X.T;X.T=null;var g=tt.p;try{tt.p=8,tp(i,s,o,u)}finally{tt.p=g,X.T=f}}function tp(i,s,o,u){if(xh){var f=ep(u);if(f===null)zm(i,s,u,Ch,o),RT(i,u);else if(kC(f,i,s,o,u))u.stopPropagation();else if(RT(i,u),s&4&&-1<PC.indexOf(i)){for(;f!==null;){var g=oi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Yn(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var I=1<<31-Ze(E);A.entanglements[1]|=I,E&=~I}Ei(g),($t&6)===0&&(hh=In()+500,Jl(0))}}break;case 13:A=Ka(g,2),A!==null&&Rn(A,g,2),dh(),Jm(g,2)}if(g=ep(u),g===null&&zm(i,s,u,Ch,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else zm(i,s,u,null,o)}}function ep(i){return i=Vn(i),np(i)}var Ch=null;function np(i){if(Ch=null,i=zi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ch=i,null}function ST(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sd()){case rl:return 2;case Sa:return 8;case Rs:case ad:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var ip=!1,Qr=null,Xr=null,Wr=null,ou=new Map,lu=new Map,Zr=[],PC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RT(i,s){switch(i){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":ou.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(s.pointerId)}}function uu(i,s,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=oi(s),s!==null&&wT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function kC(i,s,o,u,f){switch(s){case"focusin":return Qr=uu(Qr,i,s,o,u,f),!0;case"dragenter":return Xr=uu(Xr,i,s,o,u,f),!0;case"mouseover":return Wr=uu(Wr,i,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return ou.set(g,uu(ou.get(g)||null,i,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,lu.set(g,uu(lu.get(g)||null,i,s,o,u,f)),!0}return!1}function xT(i){var s=zi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,dc(i.priority,function(){if(o.tag===13){var u=Sn();u=Rr(u);var f=Ka(o,u);f!==null&&Rn(f,o,u),Jm(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ih(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=ep(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Gi=u,o.target.dispatchEvent(u),Gi=null}else return s=oi(o),s!==null&&wT(s),i.blockedOn=o,!1;s.shift()}return!0}function CT(i,s,o){Ih(i)&&o.delete(s)}function LC(){ip=!1,Qr!==null&&Ih(Qr)&&(Qr=null),Xr!==null&&Ih(Xr)&&(Xr=null),Wr!==null&&Ih(Wr)&&(Wr=null),ou.forEach(CT),lu.forEach(CT)}function Dh(i,s){i.blockedOn===s&&(i.blockedOn=null,ip||(ip=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LC)))}var Mh=null;function IT(i){Mh!==i&&(Mh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mh===i&&(Mh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(np(u||o)===null)continue;break}var g=oi(o);g!==null&&(i.splice(s,3),s-=3,nm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function cu(i){function s(I){return Dh(I,i)}Qr!==null&&Dh(Qr,i),Xr!==null&&Dh(Xr,i),Wr!==null&&Dh(Wr,i),ou.forEach(s),lu.forEach(s);for(var o=0;o<Zr.length;o++){var u=Zr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Zr.length&&(o=Zr[0],o.blockedOn===null);)xT(o),o.blockedOn===null&&Zr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[Te]||null;if(typeof g=="function")E||IT(o);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Te]||null)A=E.formAction;else if(np(f)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),IT(o)}}}function rp(i){this._internalRoot=i}Vh.prototype.render=rp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Sn();bT(o,u,i,s,null,null)},Vh.prototype.unmount=rp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;bT(i.current,2,null,i,null,null),dh(),s[Dn]=null}};function Vh(i){this._internalRoot=i}Vh.prototype.unstable_scheduleHydration=function(i){if(i){var s=xr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Zr.length&&s!==0&&s<Zr[o].priority;o++);Zr.splice(o,0,i),o===0&&xT(i)}};var DT=t.version;if(DT!=="19.1.0")throw Error(r(527,DT,"19.1.0"));tt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var UC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{he=Nh.inject(UC),Yt=Nh}catch{}}return fu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",f=K0,g=Y0,E=$0,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=TT(i,1,!1,null,null,o,u,f,g,E,A,null),i[Dn]=s.current,jm(i),new rp(s)},fu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,f="",g=K0,E=Y0,A=$0,I=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),s=TT(i,1,!0,s,o??null,u,f,g,E,A,I,G),s.context=ET(null),o=s.current,u=Sn(),u=Rr(u),f=Pr(u),f.callback=null,kr(o,f,u),o=u,s.current.lanes=o,ji(s,o),Ei(s),i[Dn]=s.current,jm(i),new Vh(s)},fu.version="19.1.0",fu}var jT;function $C(){if(jT)return op.exports;jT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),op.exports=YC(),op.exports}var QC=$C();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zT="popstate";function XC(e={}){function t(r,a){let{pathname:l,search:c,hash:d}=r.location;return Fp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Vu(a)}return ZC(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WC(){return Math.random().toString(36).substring(2,10)}function FT(e,t){return{usr:e.state,key:e.key,idx:t}}function Fp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qo(t):t,state:n,key:t&&t.key||r||WC()}}function Vu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ZC(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){d="POP";let N=y(),F=N==null?null:N-p;p=N,m&&m({action:d,location:U.location,delta:F})}function b(N,F){d="PUSH";let K=Fp(U.location,N,F);p=y()+1;let $=FT(K,p),at=U.createHref(K);try{c.pushState($,"",at)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(at)}l&&m&&m({action:d,location:U.location,delta:1})}function x(N,F){d="REPLACE";let K=Fp(U.location,N,F);p=y();let $=FT(K,p),at=U.createHref(K);c.replaceState($,"",at),l&&m&&m({action:d,location:U.location,delta:0})}function V(N){return JC(N)}let U={get action(){return d},get location(){return e(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(zT,T),m=N,()=>{a.removeEventListener(zT,T),m=null}},createHref(N){return t(a,N)},createURL:V,encodeLocation(N){let F=V(N);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:x,go(N){return c.go(N)}};return U}function JC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Vu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function HA(e,t,n="/"){return tI(e,t,n,!1)}function tI(e,t,n,r){let a=typeof t=="string"?qo(t):t,l=pr(a.pathname||"/",n);if(l==null)return null;let c=qA(e);eI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=fI(l);d=cI(c[m],p,r)}return d}function qA(e,t=[],n=[],r=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ue(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=mr([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(ue(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),qA(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:lI(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of GA(l.path))a(l,c,m)}),t}function GA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=GA(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function eI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nI=/^:[\w-]+$/,iI=3,rI=2,sI=1,aI=10,oI=-2,HT=e=>e==="*";function lI(e,t){let n=e.split("/"),r=n.length;return n.some(HT)&&(r+=oI),t&&(r+=rI),n.filter(a=>!HT(a)).reduce((a,l)=>a+(nI.test(l)?iI:l===""?sI:aI),r)}function uI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function cI(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",T=uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!T&&p&&n&&!r[r.length-1].route.index&&(T=uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:mr([l,T.pathname]),pathnameBase:gI(mr([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=mr([l,T.pathnameBase]))}return c}function uf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:T},b)=>{if(y==="*"){let V=d[b]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const x=d[b];return T&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function hI(e,t=!1,n=!0){Vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function fI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function pr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dI(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?qo(e):e;return{pathname:n?n.startsWith("/")?n:mI(n,t):t,search:yI(r),hash:vI(a)}}function mI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function KA(e){let t=pI(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function YA(e,t,n,r=!1){let a;typeof e=="string"?a=qo(e):(a={...e},ue(!a.pathname||!a.pathname.includes("?"),hp("?","pathname","search",a)),ue(!a.pathname||!a.pathname.includes("#"),hp("#","pathname","hash",a)),ue(!a.search||!a.search.includes("#"),hp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let T=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}d=T>=0?t[T]:"/"}let m=dI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var mr=e=>e.join("/").replace(/\/\/+/g,"/"),gI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _I(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $A=["POST","PUT","PATCH","DELETE"];new Set($A);var TI=["GET",...$A];new Set(TI);var Go=B.createContext(null);Go.displayName="DataRouter";var Pf=B.createContext(null);Pf.displayName="DataRouterState";B.createContext(!1);var QA=B.createContext({isTransitioning:!1});QA.displayName="ViewTransition";var EI=B.createContext(new Map);EI.displayName="Fetchers";var bI=B.createContext(null);bI.displayName="Await";var Pi=B.createContext(null);Pi.displayName="Navigation";var Qu=B.createContext(null);Qu.displayName="Location";var wr=B.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var Ug=B.createContext(null);Ug.displayName="RouteError";function AI(e,{relative:t}={}){ue(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(Pi),{hash:a,pathname:l,search:c}=Wu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:mr([n,l])),r.createHref({pathname:d,search:c,hash:a})}function Xu(){return B.useContext(Qu)!=null}function _a(){return ue(Xu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Qu).location}var XA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WA(e){B.useContext(Pi).static||B.useLayoutEffect(e)}function Bg(){let{isDataRoute:e}=B.useContext(wr);return e?kI():wI()}function wI(){ue(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let e=B.useContext(Go),{basename:t,navigator:n}=B.useContext(Pi),{matches:r}=B.useContext(wr),{pathname:a}=_a(),l=JSON.stringify(KA(r)),c=B.useRef(!1);return WA(()=>{c.current=!0}),B.useCallback((m,p={})=>{if(Vi(c.current,XA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=YA(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:mr([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}B.createContext(null);function Wu(e,{relative:t}={}){let{matches:n}=B.useContext(wr),{pathname:r}=_a(),a=JSON.stringify(KA(n));return B.useMemo(()=>YA(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function SI(e,t){return ZA(e,t)}function ZA(e,t,n,r){var F;ue(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=B.useContext(Pi),{matches:l}=B.useContext(wr),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let K=y&&y.path||"";JA(m,!y||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let T=_a(),b;if(t){let K=typeof t=="string"?qo(t):t;ue(p==="/"||((F=K.pathname)==null?void 0:F.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${K.pathname}" was given in the \`location\` prop.`),b=K}else b=T;let x=b.pathname||"/",V=x;if(p!=="/"){let K=p.replace(/^\//,"").split("/");V="/"+x.replace(/^\//,"").split("/").slice(K.length).join("/")}let U=HA(e,{pathname:V});Vi(y||U!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Vi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=DI(U&&U.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:mr([p,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?p:mr([p,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),l,n,r);return t&&N?B.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function RI(){let e=PI(),t=_I(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:a},n):null,c)}var xI=B.createElement(RI,null),CI=class extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?B.createElement(wr.Provider,{value:this.props.routeContext},B.createElement(Ug.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function II({routeContext:e,match:t,children:n}){let r=B.useContext(Go);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(wr.Provider,{value:e},n)}function DI(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:T}=n,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let T,b=!1,x=null,V=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||xI,c&&(d<0&&y===0?(JA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,V=null):d===y&&(b=!0,V=p.route.hydrateFallbackElement||null)));let U=t.concat(a.slice(0,y+1)),N=()=>{let F;return T?F=x:b?F=V:p.route.Component?F=B.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=m,B.createElement(II,{match:p,routeContext:{outlet:m,matches:U,isDataRoute:n!=null},children:F})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?B.createElement(CI,{location:n.location,revalidation:n.revalidation,component:x,error:T,children:N(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):N()},null)}function jg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MI(e){let t=B.useContext(Go);return ue(t,jg(e)),t}function VI(e){let t=B.useContext(Pf);return ue(t,jg(e)),t}function NI(e){let t=B.useContext(wr);return ue(t,jg(e)),t}function zg(e){let t=NI(e),n=t.matches[t.matches.length-1];return ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function OI(){return zg("useRouteId")}function PI(){var r;let e=B.useContext(Ug),t=VI("useRouteError"),n=zg("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function kI(){let{router:e}=MI("useNavigate"),t=zg("useNavigate"),n=B.useRef(!1);return WA(()=>{n.current=!0}),B.useCallback(async(a,l={})=>{Vi(n.current,XA),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var qT={};function JA(e,t,n){!t&&!qT[e]&&(qT[e]=!0,Vi(!1,n))}B.memo(LI);function LI({routes:e,future:t,state:n}){return ZA(e,void 0,n,t)}function Gh(e){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UI({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){ue(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=qo(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:b="default"}=n,x=B.useMemo(()=>{let V=pr(m,c);return V==null?null:{location:{pathname:V,search:p,hash:y,state:T,key:b},navigationType:r}},[c,m,p,y,T,b,r]);return Vi(x!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:B.createElement(Pi.Provider,{value:d},B.createElement(Qu.Provider,{children:t,value:x}))}function BI({children:e,location:t}){return SI(Hp(e),t)}function Hp(e,t=[]){let n=[];return B.Children.forEach(e,(r,a)=>{if(!B.isValidElement(r))return;let l=[...t,a];if(r.type===B.Fragment){n.push.apply(n,Hp(r.props.children,l));return}ue(r.type===Gh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Hp(r.props.children,l)),n.push(c)}),n}var Kh="get",Yh="application/x-www-form-urlencoded";function kf(e){return e!=null&&typeof e.tagName=="string"}function jI(e){return kf(e)&&e.tagName.toLowerCase()==="button"}function zI(e){return kf(e)&&e.tagName.toLowerCase()==="form"}function FI(e){return kf(e)&&e.tagName.toLowerCase()==="input"}function HI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qI(e,t){return e.button===0&&(!t||t==="_self")&&!HI(e)}var Oh=null;function GI(){if(Oh===null)try{new FormData(document.createElement("form"),0),Oh=!1}catch{Oh=!0}return Oh}var KI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(e){return e!=null&&!KI.has(e)?(Vi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):e}function YI(e,t){let n,r,a,l,c;if(zI(e)){let d=e.getAttribute("action");r=d?pr(d,t):null,n=e.getAttribute("method")||Kh,a=fp(e.getAttribute("enctype"))||Yh,l=new FormData(e)}else if(jI(e)||FI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(r=m?pr(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Kh,a=fp(e.getAttribute("formenctype"))||fp(d.getAttribute("enctype"))||Yh,l=new FormData(d,e),!GI()){let{name:p,type:y,value:T}=e;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,T)}}else{if(kf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,r=null,a=Yh,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $I(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&pr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function QI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function WI(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await QI(l,n);return c.links?c.links():[]}return[]}));return e2(r.flat(1).filter(XI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function GT(e,t,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{var T;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ZI(e,t,{includeHydrateFallback:n}={}){return JI(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function JI(e){return[...new Set(e)]}function t2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function e2(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(t2(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function tw(){let e=B.useContext(Go);return Fg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function n2(){let e=B.useContext(Pf);return Fg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hg=B.createContext(void 0);Hg.displayName="FrameworkContext";function ew(){let e=B.useContext(Hg);return Fg(e,"You must render this element inside a <HydratedRouter> element"),e}function i2(e,t){let n=B.useContext(Hg),[r,a]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=t,b=B.useRef(null);B.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let U=F=>{F.forEach(K=>{c(K.isIntersecting)})},N=new IntersectionObserver(U,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),B.useEffect(()=>{if(r){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[r]);let x=()=>{a(!0)},V=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:du(d,x),onBlur:du(m,V),onMouseEnter:du(p,x),onMouseLeave:du(y,V),onTouchStart:du(T,x)}]:[!1,b,{}]}function du(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function r2({page:e,...t}){let{router:n}=tw(),r=B.useMemo(()=>HA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?B.createElement(a2,{page:e,matches:r,...t}):null}function s2(e){let{manifest:t,routeModules:n}=ew(),[r,a]=B.useState([]);return B.useEffect(()=>{let l=!1;return WI(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function a2({page:e,matches:t,...n}){let r=_a(),{manifest:a,routeModules:l}=ew(),{basename:c}=tw(),{loaderData:d,matches:m}=n2(),p=B.useMemo(()=>GT(e,t,m,a,r,"data"),[e,t,m,a,r]),y=B.useMemo(()=>GT(e,t,m,a,r,"assets"),[e,t,m,a,r]),T=B.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let V=new Set,U=!1;if(t.forEach(F=>{var $;let K=a.routes[F.route.id];!K||!K.hasLoader||(!p.some(at=>at.route.id===F.route.id)&&F.route.id in d&&(($=l[F.route.id])!=null&&$.shouldRevalidate)||K.hasClientLoader?U=!0:V.add(F.route.id))}),V.size===0)return[];let N=$I(e,c,"data");return U&&V.size>0&&N.searchParams.set("_routes",t.filter(F=>V.has(F.route.id)).map(F=>F.route.id).join(",")),[N.pathname+N.search]},[c,d,r,a,p,t,e,l]),b=B.useMemo(()=>ZI(y,a),[y,a]),x=s2(y);return B.createElement(B.Fragment,null,T.map(V=>B.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),b.map(V=>B.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),x.map(({key:V,link:U})=>B.createElement("link",{key:V,...U})))}function o2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nw&&(window.__reactRouterVersion="7.7.1")}catch{}function l2({basename:e,children:t,window:n}){let r=B.useRef();r.current==null&&(r.current=XC({window:n,v5Compat:!0}));let a=r.current,[l,c]=B.useState({action:a.action,location:a.location}),d=B.useCallback(m=>{B.startTransition(()=>c(m))},[c]);return B.useLayoutEffect(()=>a.listen(d),[a,d]),B.createElement(UI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rw=B.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:T,...b},x){let{basename:V}=B.useContext(Pi),U=typeof p=="string"&&iw.test(p),N,F=!1;if(typeof p=="string"&&U&&(N=p,nw))try{let C=new URL(window.location.href),O=p.startsWith("//")?new URL(C.protocol+p):new URL(p),L=pr(O.pathname,V);O.origin===C.origin&&L!=null?p=L+O.search+O.hash:F=!0}catch{Vi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=AI(p,{relative:a}),[$,at,J]=i2(r,b),ft=f2(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:T});function D(C){t&&t(C),C.defaultPrevented||ft(C)}let S=B.createElement("a",{...b,...J,href:N||K,onClick:F||l?t:D,ref:o2(x,at),target:m,"data-discover":!U&&n==="render"?"true":void 0});return $&&!U?B.createElement(B.Fragment,null,S,B.createElement(r2,{page:K})):S});rw.displayName="Link";var u2=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let T=Wu(c,{relative:p.relative}),b=_a(),x=B.useContext(Pf),{navigator:V,basename:U}=B.useContext(Pi),N=x!=null&&y2(T)&&d===!0,F=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,K=b.pathname,$=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(K=K.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&U&&($=pr($,U)||$);const at=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let J=K===F||!a&&K.startsWith(F)&&K.charAt(at)==="/",ft=$!=null&&($===F||!a&&$.startsWith(F)&&$.charAt(F.length)==="/"),D={isActive:J,isPending:ft,isTransitioning:N},S=J?t:void 0,C;typeof r=="function"?C=r(D):C=[r,J?"active":null,ft?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(D):l;return B.createElement(rw,{...p,"aria-current":S,className:C,ref:y,style:O,to:c,viewTransition:d},typeof m=="function"?m(D):m)});u2.displayName="NavLink";var c2=B.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Kh,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...b},x)=>{let V=p2(),U=g2(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&iw.test(d),K=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let at=$.nativeEvent.submitter,J=(at==null?void 0:at.getAttribute("formmethod"))||c;V(at||$.currentTarget,{fetcherKey:t,method:J,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return B.createElement("form",{ref:x,method:N,action:U,onSubmit:r?m:K,...b,"data-discover":!F&&e==="render"?"true":void 0})});c2.displayName="Form";function h2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sw(e){let t=B.useContext(Go);return ue(t,h2(e)),t}function f2(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Bg(),m=_a(),p=Wu(e,{relative:l});return B.useCallback(y=>{if(qI(y,t)){y.preventDefault();let T=n!==void 0?n:Vu(m)===Vu(p);d(e,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,r,t,e,a,l,c])}var d2=0,m2=()=>`__${String(++d2)}__`;function p2(){let{router:e}=sw("useSubmit"),{basename:t}=B.useContext(Pi),n=OI();return B.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=YI(r,t);if(a.navigate===!1){let y=a.fetcherKey||m2();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function g2(e,{relative:t}={}){let{basename:n}=B.useContext(Pi),r=B.useContext(wr);ue(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Wu(e||".",{relative:t})},c=_a();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:mr([n,l.pathname])),Vu(l)}function y2(e,{relative:t}={}){let n=B.useContext(QA);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sw("useViewTransitionState"),a=Wu(e,{relative:t});if(!n.isTransitioning)return!1;let l=pr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=pr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uf(a.pathname,c)!=null||uf(a.pathname,l)!=null}const v2=()=>{};var KT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},_2=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,x=p&63;m||(x=64,c||(b=64)),r.push(n[y],n[T],n[b],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(aw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):_2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const T=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new T2;const b=l<<2|d>>4;if(r.push(b),p!==64){const x=d<<4&240|p>>2;if(r.push(x),T!==64){const V=p<<6&192|T;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class T2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E2=function(e){const t=aw(e);return ow.encodeByteArray(t,!0)},cf=function(e){return E2(e).replace(/\./g,"")},lw=function(e){try{return ow.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=()=>b2().__FIREBASE_DEFAULTS__,w2=()=>{if(typeof process>"u"||typeof KT>"u")return;const e=KT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},S2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&lw(e[1]);return t&&JSON.parse(t)},Lf=()=>{try{return v2()||A2()||w2()||S2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},uw=e=>{var t,n;return(n=(t=Lf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},cw=e=>{const t=uw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},hw=()=>{var e;return(e=Lf())===null||e===void 0?void 0:e.config},fw=e=>{var t;return(t=Lf())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(e){return e.endsWith(".cloudworkstations.dev")}async function qg(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[cf(JSON.stringify(n)),cf(JSON.stringify(c)),""].join(".")}const Tu={};function x2(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tu))Tu[t]?e.emulator.push(t):e.prod.push(t);return e}function C2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let YT=!1;function Gg(e,t){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||Tu[e]===t||Tu[e]||YT)return;Tu[e]=t;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=x2().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{YT=!0,c()},b}function y(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=C2(r),x=n("text"),V=document.getElementById(x)||document.createElement("span"),U=n("learnmore"),N=document.getElementById(U)||document.createElement("a"),F=n("preprendIcon"),K=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const $=b.element;d($),y(N,U);const at=p();m(K,F),$.append(K,V,N,at),document.body.appendChild($)}l?(V.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function D2(){var e;const t=(e=Lf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function N2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O2(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function P2(){return!D2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k2(){try{return typeof indexedDB=="object"}catch{return!1}}function L2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="FirebaseError";class ki extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=U2,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?B2(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ki(a,d,r)}}function B2(e,t){return e.replace(j2,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const j2=/\{\$([^}]+)}/g;function z2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if($T(l)&&$T(c)){if(!pa(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function $T(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function F2(e,t){const n=new H2(e,t);return n.subscribe.bind(n)}class H2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q2(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=dp),a.error===void 0&&(a.error=dp),a.complete===void 0&&(a.complete=dp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e){return e&&e._delegate?e._delegate:e}class fs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new R2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Y2(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K2(e){return e===oa?void 0:e}function Y2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new G2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const Q2={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},X2=Lt.INFO,W2={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Z2=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=W2[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Kg{constructor(t){this.name=t,this._logLevel=X2,this._logHandler=Z2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Q2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const J2=(e,t)=>t.some(n=>e instanceof n);let QT,XT;function tD(){return QT||(QT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eD(){return XT||(XT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mw=new WeakMap,qp=new WeakMap,pw=new WeakMap,mp=new WeakMap,Yg=new WeakMap;function nD(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(as(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&mw.set(n,e)}).catch(()=>{}),Yg.set(t,e),t}function iD(e){if(qp.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});qp.set(e,t)}let Gp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||pw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function rD(e){Gp=e(Gp)}function sD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(pp(this),t,...n);return pw.set(r,t.sort?t.sort():[t]),as(r)}:eD().includes(e)?function(...t){return e.apply(pp(this),t),as(mw.get(this))}:function(...t){return as(e.apply(pp(this),t))}}function aD(e){return typeof e=="function"?sD(e):(e instanceof IDBTransaction&&iD(e),J2(e,tD())?new Proxy(e,Gp):e)}function as(e){if(e instanceof IDBRequest)return nD(e);if(mp.has(e))return mp.get(e);const t=aD(e);return t!==e&&(mp.set(e,t),Yg.set(t,e)),t}const pp=e=>Yg.get(e);function oD(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=as(c);return r&&c.addEventListener("upgradeneeded",m=>{r(as(c.result),m.oldVersion,m.newVersion,as(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const lD=["get","getKey","getAll","getAllKeys","count"],uD=["put","add","delete","clear"],gp=new Map;function WT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gp.get(t))return gp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=uD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||lD.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return gp.set(t,l),l}rD(e=>({...e,get:(t,n,r)=>WT(t,n)||e.get(t,n,r),has:(t,n)=>!!WT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hD(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Kp="@firebase/app",ZT="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Kg("@firebase/app"),fD="@firebase/app-compat",dD="@firebase/analytics-compat",mD="@firebase/analytics",pD="@firebase/app-check-compat",gD="@firebase/app-check",yD="@firebase/auth",vD="@firebase/auth-compat",_D="@firebase/database",TD="@firebase/data-connect",ED="@firebase/database-compat",bD="@firebase/functions",AD="@firebase/functions-compat",wD="@firebase/installations",SD="@firebase/installations-compat",RD="@firebase/messaging",xD="@firebase/messaging-compat",CD="@firebase/performance",ID="@firebase/performance-compat",DD="@firebase/remote-config",MD="@firebase/remote-config-compat",VD="@firebase/storage",ND="@firebase/storage-compat",OD="@firebase/firestore",PD="@firebase/ai",kD="@firebase/firestore-compat",LD="firebase",UD="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="[DEFAULT]",BD={[Kp]:"fire-core",[fD]:"fire-core-compat",[mD]:"fire-analytics",[dD]:"fire-analytics-compat",[gD]:"fire-app-check",[pD]:"fire-app-check-compat",[yD]:"fire-auth",[vD]:"fire-auth-compat",[_D]:"fire-rtdb",[TD]:"fire-data-connect",[ED]:"fire-rtdb-compat",[bD]:"fire-fn",[AD]:"fire-fn-compat",[wD]:"fire-iid",[SD]:"fire-iid-compat",[RD]:"fire-fcm",[xD]:"fire-fcm-compat",[CD]:"fire-perf",[ID]:"fire-perf-compat",[DD]:"fire-rc",[MD]:"fire-rc-compat",[VD]:"fire-gcs",[ND]:"fire-gcs-compat",[OD]:"fire-fst",[kD]:"fire-fst-compat",[PD]:"fire-vertex","fire-js":"fire-js",[LD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,jD=new Map,$p=new Map;function JT(e,t){try{e.container.addComponent(t)}catch(n){gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ga(e){const t=e.name;if($p.has(t))return gr.debug(`There were multiple attempts to register component ${t}.`),!1;$p.set(t,e);for(const n of hf.values())JT(n,e);for(const n of jD.values())JT(n,e);return!0}function Uf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ti(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new Zu("app","Firebase",zD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=UD;function gw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Yp,automaticDataCollectionEnabled:!0},t),a=r.name;if(typeof a!="string"||!a)throw os.create("bad-app-name",{appName:String(a)});if(n||(n=hw()),!n)throw os.create("no-options");const l=hf.get(a);if(l){if(pa(n,l.options)&&pa(r,l.config))return l;throw os.create("duplicate-app",{appName:a})}const c=new $2(a);for(const m of $p.values())c.addComponent(m);const d=new FD(n,r,c);return hf.set(a,d),d}function $g(e=Yp){const t=hf.get(e);if(!t&&e===Yp&&hw())return gw();if(!t)throw os.create("no-app",{appName:e});return t}function Ai(e,t,n){var r;let a=(r=BD[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gr.warn(d.join(" "));return}ga(new fs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebase-heartbeat-database",qD=1,Nu="firebase-heartbeat-store";let yp=null;function yw(){return yp||(yp=oD(HD,qD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(e=>{throw os.create("idb-open",{originalErrorMessage:e.message})})),yp}async function GD(e){try{const n=(await yw()).transaction(Nu),r=await n.objectStore(Nu).get(vw(e));return await n.done,r}catch(t){if(t instanceof ki)gr.warn(t.message);else{const n=os.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gr.warn(n.message)}}}async function tE(e,t){try{const r=(await yw()).transaction(Nu,"readwrite");await r.objectStore(Nu).put(t,vw(e)),await r.done}catch(n){if(n instanceof ki)gr.warn(n.message);else{const r=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(r.message)}}}function vw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=1024,YD=30;class $D{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=eE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>YD){const c=WD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eE(),{heartbeatsToSend:r,unsentEntries:a}=QD(this._heartbeatsCache.heartbeats),l=cf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return gr.warn(n),""}}}function eE(){return new Date().toISOString().substring(0,10)}function QD(e,t=KD){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),nE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),nE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k2()?L2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function nE(e){return cf(JSON.stringify({version:2,heartbeats:e})).length}function WD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(e){ga(new fs("platform-logger",t=>new cD(t),"PRIVATE")),ga(new fs("heartbeat",t=>new $D(t),"PRIVATE")),Ai(Kp,ZT,e),Ai(Kp,ZT,"esm2017"),Ai("fire-js","")}ZD("");function Qg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function _w(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JD=_w,Tw=new Zu("auth","Firebase",_w());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Kg("@firebase/auth");function tM(e,...t){ff.logLevel<=Lt.WARN&&ff.warn(`Auth (${Ta}): ${e}`,...t)}function $h(e,...t){ff.logLevel<=Lt.ERROR&&ff.error(`Auth (${Ta}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(e,...t){throw Xg(e,...t)}function wi(e,...t){return Xg(e,...t)}function Ew(e,t,n){const r=Object.assign(Object.assign({},JD()),{[t]:n});return new Zu("auth","Firebase",r).create(t,{appName:e.name})}function fa(e){return Ew(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xg(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Tw.create(e,...t)}function bt(e,t,...n){if(!e)throw Xg(t,...n)}function fr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw $h(t),new Error(t)}function vr(e,t){e||fr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function eM(){return iE()==="http:"||iE()==="https:"}function iE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eM()||V2()||"connection"in navigator)?navigator.onLine:!0}function iM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,n){this.shortDelay=t,this.longDelay=n,vr(n>t,"Short delay should be less than long delay!"),this.isMobile=I2()||N2()}get(){return nM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(e,t){vr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aM=new tc(3e4,6e4);function Zg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Yo(e,t,n,r,a={}){return Aw(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const d=Ju(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return M2()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Ko(e.emulatorConfig.host)&&(p.credentials="include"),bw.fetch()(await ww(e,e.config.apiHost,n,d),p)})}async function Aw(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},rM),t);try{const a=new lM(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ph(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Ph(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Ph(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ew(e,y,p);yr(e,y)}}catch(a){if(a instanceof ki)throw a;yr(e,"network-request-failed",{message:String(a)})}}async function oM(e,t,n,r,a={}){const l=await Yo(e,t,n,r,a);return"mfaPendingCredential"in l&&yr(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function ww(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?Wg(e.config,a):`${e.config.apiScheme}://${a}`;return sM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class lM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),aM.get())})}}function Ph(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=wi(e,t,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(e,t){return Yo(e,"POST","/v1/accounts:delete",t)}async function df(e,t){return Yo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cM(e,t=!1){const n=fn(e),r=await n.getIdToken(t),a=Jg(r);bt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Eu(vp(a.auth_time)),issuedAtTime:Eu(vp(a.iat)),expirationTime:Eu(vp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function vp(e){return Number(e)*1e3}function Jg(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const a=lw(n);return a?JSON.parse(a):($h("Failed to decode base64 JWT payload"),null)}catch(a){return $h("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function rE(e){const t=Jg(e);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ki&&hM(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function hM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Ou(e,df(n,{idToken:r}));bt(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Sw(l.providerUserInfo):[],d=mM(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,T)}async function dM(e){const t=fn(e);await mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mM(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function Sw(e){return e.map(t=>{var{providerId:n}=t,r=Qg(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(e,t){const n=await Aw(e,{},async()=>{const r=Ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await ww(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",bw.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gM(e,t){return Yo(e,"POST","/v2/accounts:revokeToken",Zg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=rE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await pM(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Co;return r&&(bt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(bt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(bt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e,t){bt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ei{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=Qg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ou(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return cM(this,t)}reload(){return dM(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(fa(this.auth));const t=await this.getIdToken();return await Ou(this,uM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,d,m,p,y;const T=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=n.photoURL)!==null&&c!==void 0?c:void 0,U=(d=n.tenantId)!==null&&d!==void 0?d:void 0,N=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,F=(p=n.createdAt)!==null&&p!==void 0?p:void 0,K=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:$,emailVerified:at,isAnonymous:J,providerData:ft,stsTokenManager:D}=n;bt($&&D,t,"internal-error");const S=Co.fromJSON(this.name,D);bt(typeof $=="string",t,"internal-error"),ts(T,t.name),ts(b,t.name),bt(typeof at=="boolean",t,"internal-error"),bt(typeof J=="boolean",t,"internal-error"),ts(x,t.name),ts(V,t.name),ts(U,t.name),ts(N,t.name),ts(F,t.name),ts(K,t.name);const C=new ei({uid:$,auth:t,email:b,emailVerified:at,displayName:T,isAnonymous:J,photoURL:V,phoneNumber:x,tenantId:U,stsTokenManager:S,createdAt:F,lastLoginAt:K});return ft&&Array.isArray(ft)&&(C.providerData=ft.map(O=>Object.assign({},O))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(t,n,r=!1){const a=new Co;a.updateFromServerResponse(n);const l=new ei({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await mf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];bt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Sw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Co;d.updateFromIdToken(r);const m=new ei({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Xp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function dr(e){vr(e instanceof Function,"Expected a class definition");let t=sE.get(e);return t?(vr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,sE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Rw.type="NONE";const aE=Rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(e,t,n){return`firebase:${e}:${t}:${n}`}class Io{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Qh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Qh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await df(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Io(dr(aE),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||dr(aE);const c=Qh(r,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const b=await df(t,{idToken:y}).catch(()=>{});if(!b)break;T=await ei._fromGetAccountInfoResponse(t,b,y)}else T=ei._fromJSON(t,y);p!==l&&(d=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Io(l,t,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Io(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Dw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vw(t))return"Blackberry";if(Nw(t))return"Webos";if(Cw(t))return"Safari";if((t.includes("chrome/")||Iw(t))&&!t.includes("edge/"))return"Chrome";if(Mw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xw(e=an()){return/firefox\//i.test(e)}function Cw(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Iw(e=an()){return/crios\//i.test(e)}function Dw(e=an()){return/iemobile/i.test(e)}function Mw(e=an()){return/android/i.test(e)}function Vw(e=an()){return/blackberry/i.test(e)}function Nw(e=an()){return/webos/i.test(e)}function ty(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function yM(e=an()){var t;return ty(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function vM(){return O2()&&document.documentMode===10}function Ow(e=an()){return ty(e)||Mw(e)||Nw(e)||Vw(e)||/windows phone/i.test(e)||Dw(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e,t=[]){let n;switch(e){case"Browser":n=oE(an());break;case"Worker":n=`${oE(an())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(e,t={}){return Yo(e,"GET","/v2/passwordPolicy",Zg(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=6;class bM{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:EM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new _M(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await df(this,{idToken:t}),r=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(fa(this));const n=t?fn(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await TM(this),n=new bM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gM(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&dr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&tM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ey(e){return fn(e)}class lE{constructor(t){this.auth=t,this.observer=null,this.addObserver=F2(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wM(e){ny=e}function SM(e){return ny.loadJS(e)}function RM(){return ny.gapiScript}function xM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(e,t){const n=Uf(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(pa(l,t??{}))return a;yr(a,"already-initialized")}return n.initialize({options:t})}function IM(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function DM(e,t,n){const r=ey(e);bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=kw(t),{host:c,port:d}=MM(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(pa(p,r.config.emulator)&&pa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ko(c)?(qg(`${l}//${c}${m}`),Gg("Auth",!0)):VM()}function kw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MM(e){const t=kw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:uE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:uE(c)}}}function uE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function VM(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(t){return fr("not implemented")}_linkToIdToken(t,n){return fr("not implemented")}_getReauthenticationResolver(t){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(e,t){return oM(e,"POST","/v1/accounts:signInWithIdp",Zg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="http://localhost";class _r extends Lw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new _r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=Qg(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new _r(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Do(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Do(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Do(t,n)}buildRequest(){const t={requestUri:NM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ju(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Uw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class bu extends $o{static credentialFromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;return bt("providerId"in n&&"signInMethod"in n,"argument-error"),_r._fromParams(n)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return bt(t.idToken||t.accessToken,"argument-error"),_r._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return bu.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return bu.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:a,pendingToken:l,nonce:c,providerId:d}=t;if(!r&&!a&&!n&&!l||!d)return null;try{return new bu(d)._credential({idToken:n,accessToken:r,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends $o{constructor(){super("facebook.com")}static credential(t){return _r._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return _r._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends $o{constructor(){super("github.com")}static credential(t){return _r._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends $o{constructor(){super("twitter.com")}static credential(t,n){return _r._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await ei._fromIdTokenResponse(t,r,a),c=cE(r);return new No({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=cE(r);return new No({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function cE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends ki{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,pf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new pf(t,n,r,a)}}function Bw(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?pf._fromErrorAndOperation(e,l,t,r):l})}async function OM(e,t,n=!1){const r=await Ou(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return No._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(e,t,n=!1){const{auth:r}=e;if(ti(r.app))return Promise.reject(fa(r));const a="reauthenticate";try{const l=await Ou(e,Bw(r,a,t,e),n);bt(l.idToken,r,"internal-error");const c=Jg(l.idToken);bt(c,r,"internal-error");const{sub:d}=c;return bt(e.uid===d,r,"user-mismatch"),No._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(e,t,n=!1){if(ti(e.app))return Promise.reject(fa(e));const r="signIn",a=await Bw(e,r,t),l=await No._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}function LM(e,t,n,r){return fn(e).onIdTokenChanged(t,n,r)}function UM(e,t,n){return fn(e).beforeAuthStateChanged(t,n)}function BM(e,t,n,r){return fn(e).onAuthStateChanged(t,n,r)}const gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=1e3,zM=10;class zw extends jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ow(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);vM()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,zM):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},jM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}zw.type="LOCAL";const FM=zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Fw.type="SESSION";const Hw=Fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new Bf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await HM(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=iy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function GM(e){Si().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function KM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YM(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function $M(){return qw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebaseLocalStorageDb",QM=1,yf="firebaseLocalStorage",Kw="fbase_key";class ec{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(e,t){return e.transaction([yf],t?"readwrite":"readonly").objectStore(yf)}function XM(){const e=indexedDB.deleteDatabase(Gw);return new ec(e).toPromise()}function Wp(){const e=indexedDB.open(Gw,QM);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(yf,{keyPath:Kw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(yf)?t(r):(r.close(),await XM(),t(await Wp()))})})}async function hE(e,t,n){const r=jf(e,!0).put({[Kw]:t,value:n});return new ec(r).toPromise()}async function WM(e,t){const n=jf(e,!1).get(t),r=await new ec(n).toPromise();return r===void 0?null:r.value}function fE(e,t){const n=jf(e,!0).delete(t);return new ec(n).toPromise()}const ZM=800,JM=3;class Yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>JM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance($M()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await KM(),!this.activeServiceWorker)return;this.sender=new qM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wp();return await hE(t,gf,"1"),await fE(t,gf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>WM(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=jf(a,!1).getAll();return new ec(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yw.type="LOCAL";const tV=Yw;new tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(e,t){return t?dr(t):(bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends Lw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Do(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Do(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Do(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function nV(e){return kM(e.auth,new ry(e),e.bypassAuthState)}function iV(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),PM(n,new ry(e),e.bypassAuthState)}async function rV(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),OM(n,new ry(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nV;case"linkViaPopup":case"linkViaRedirect":return rV;case"reauthViaPopup":case"reauthViaRedirect":return iV;default:yr(this.auth,"internal-error")}}resolve(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new tc(2e3,1e4);class bo extends $w{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const t=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sV.get())};t()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="pendingRedirect",Xh=new Map;class oV extends $w{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Xh.get(this.auth._key());if(!t){try{const r=await lV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Xh.set(this.auth._key(),t)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lV(e,t){const n=hV(t),r=cV(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function uV(e,t){Xh.set(e._key(),t)}function cV(e){return dr(e._redirectPersistence)}function hV(e){return Qh(aV,e.config.apiKey,e.name)}async function fV(e,t,n=!1){if(ti(e.app))return Promise.reject(fa(e));const r=ey(e),a=eV(r,t),c=await new oV(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=10*60*1e3;class mV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Qw(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dV&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(t))}saveEventToCache(t){this.cachedEventUids.add(dE(t)),this.lastProcessedEventTime=Date.now()}}function dE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Qw({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qw(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(e,t={}){return Yo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vV=/^https?/;async function _V(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gV(e);for(const n of t)try{if(TV(n))return}catch{}yr(e,"unauthorized-domain")}function TV(e){const t=Qp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!vV.test(n))return!1;if(yV.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new tc(3e4,6e4);function mE(){const e=Si().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function bV(e){return new Promise((t,n)=>{var r,a,l;function c(){mE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(wi(e,"network-request-failed"))},timeout:EV.get()})}if(!((a=(r=Si().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Si().gapi)===null||l===void 0)&&l.load)c();else{const d=xM("iframefcb");return Si()[d]=()=>{gapi.load?c():n(wi(e,"network-request-failed"))},SM(`${RM()}?onload=${d}`).catch(m=>n(m))}}).catch(t=>{throw Wh=null,t})}let Wh=null;function AV(e){return Wh=Wh||bV(e),Wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new tc(5e3,15e3),SV="__/auth/iframe",RV="emulator/auth/iframe",xV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IV(e){const t=e.config;bt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Wg(t,RV):`https://${e.config.authDomain}/${SV}`,r={apiKey:t.apiKey,appName:e.name,v:Ta},a=CV.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Ju(r).slice(1)}`}async function DV(e){const t=await AV(e),n=Si().gapi;return bt(n,e,"internal-error"),t.open({where:document.body,url:IV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=wi(e,"network-request-failed"),d=Si().setTimeout(()=>{l(c)},wV.get());function m(){Si().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VV=500,NV=600,OV="_blank",PV="http://localhost";class pE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kV(e,t,n,r=VV,a=NV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},MV),{width:r.toString(),height:a.toString(),top:l,left:c}),p=an().toLowerCase();n&&(d=Iw(p)?OV:n),xw(p)&&(t=t||PV,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[x,V])=>`${b}${x}=${V},`,"");if(yM(p)&&d!=="_self")return LV(t||"",d),new pE(null);const T=window.open(t||"",d,y);bt(T,e,"popup-blocked");try{T.focus()}catch{}return new pE(T)}function LV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="__/auth/handler",BV="emulator/auth/handler",jV=encodeURIComponent("fac");async function gE(e,t,n,r,a,l){bt(e.config.authDomain,e,"auth-domain-config-required"),bt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ta,eventId:a};if(t instanceof Uw){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",z2(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof $o){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${jV}=${encodeURIComponent(m)}`:"";return`${zV(e)}?${Ju(d).slice(1)}${p}`}function zV({config:e}){return e.emulator?Wg(e,BV):`https://${e.authDomain}/${UV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class FV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hw,this._completeRedirectFn=fV,this._overrideRedirectResult=uV}async _openPopup(t,n,r,a){var l;vr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await gE(t,n,r,Qp(),a);return kV(t,c,iy())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await gE(t,n,r,Qp(),a);return GM(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(vr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await DV(t),r=new mV(t);return n.register("authEvent",a=>(bt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_p,{type:_p},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[_p];c!==void 0&&n(!!c),yr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_V(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ow()||Cw()||ty()}}const HV=FV;var yE="@firebase/auth",vE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KV(e){ga(new fs("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pw(e)},p=new AM(r,a,l,m);return IM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ga(new fs("auth-internal",t=>{const n=ey(t.getProvider("auth").getImmediate());return(r=>new qV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(yE,vE,GV(e)),Ai(yE,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=5*60,$V=fw("authIdTokenMaxAge")||YV;let _E=null;const QV=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$V)return;const a=n==null?void 0:n.token;_E!==a&&(_E=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function XV(e=$g()){const t=Uf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=CM(e,{popupRedirectResolver:HV,persistence:[tV,FM,Hw]}),r=fw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=QV(l.toString());UM(n,c,()=>c(n.currentUser)),LM(n,d=>c(d))}}const a=uw("auth");return a&&DM(n,`http://${a}`),n}function WV(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}wM({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=wi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",WV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KV("Browser");var ZV="firebase",JV="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(ZV,JV,"app");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,Xw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,S){function C(){}C.prototype=S.prototype,D.D=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(O,L,j){for(var R=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)R[pt-2]=arguments[pt];return S.prototype[L].apply(O,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,S,C){C||(C=0);var O=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)O[L]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(L=0;16>L;++L)O[L]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],L=D.g[2];var j=D.g[3],R=S+(j^C&(L^j))+O[0]+3614090360&4294967295;S=C+(R<<7&4294967295|R>>>25),R=j+(L^S&(C^L))+O[1]+3905402710&4294967295,j=S+(R<<12&4294967295|R>>>20),R=L+(C^j&(S^C))+O[2]+606105819&4294967295,L=j+(R<<17&4294967295|R>>>15),R=C+(S^L&(j^S))+O[3]+3250441966&4294967295,C=L+(R<<22&4294967295|R>>>10),R=S+(j^C&(L^j))+O[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=j+(L^S&(C^L))+O[5]+1200080426&4294967295,j=S+(R<<12&4294967295|R>>>20),R=L+(C^j&(S^C))+O[6]+2821735955&4294967295,L=j+(R<<17&4294967295|R>>>15),R=C+(S^L&(j^S))+O[7]+4249261313&4294967295,C=L+(R<<22&4294967295|R>>>10),R=S+(j^C&(L^j))+O[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=j+(L^S&(C^L))+O[9]+2336552879&4294967295,j=S+(R<<12&4294967295|R>>>20),R=L+(C^j&(S^C))+O[10]+4294925233&4294967295,L=j+(R<<17&4294967295|R>>>15),R=C+(S^L&(j^S))+O[11]+2304563134&4294967295,C=L+(R<<22&4294967295|R>>>10),R=S+(j^C&(L^j))+O[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=j+(L^S&(C^L))+O[13]+4254626195&4294967295,j=S+(R<<12&4294967295|R>>>20),R=L+(C^j&(S^C))+O[14]+2792965006&4294967295,L=j+(R<<17&4294967295|R>>>15),R=C+(S^L&(j^S))+O[15]+1236535329&4294967295,C=L+(R<<22&4294967295|R>>>10),R=S+(L^j&(C^L))+O[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=j+(C^L&(S^C))+O[6]+3225465664&4294967295,j=S+(R<<9&4294967295|R>>>23),R=L+(S^C&(j^S))+O[11]+643717713&4294967295,L=j+(R<<14&4294967295|R>>>18),R=C+(j^S&(L^j))+O[0]+3921069994&4294967295,C=L+(R<<20&4294967295|R>>>12),R=S+(L^j&(C^L))+O[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=j+(C^L&(S^C))+O[10]+38016083&4294967295,j=S+(R<<9&4294967295|R>>>23),R=L+(S^C&(j^S))+O[15]+3634488961&4294967295,L=j+(R<<14&4294967295|R>>>18),R=C+(j^S&(L^j))+O[4]+3889429448&4294967295,C=L+(R<<20&4294967295|R>>>12),R=S+(L^j&(C^L))+O[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=j+(C^L&(S^C))+O[14]+3275163606&4294967295,j=S+(R<<9&4294967295|R>>>23),R=L+(S^C&(j^S))+O[3]+4107603335&4294967295,L=j+(R<<14&4294967295|R>>>18),R=C+(j^S&(L^j))+O[8]+1163531501&4294967295,C=L+(R<<20&4294967295|R>>>12),R=S+(L^j&(C^L))+O[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=j+(C^L&(S^C))+O[2]+4243563512&4294967295,j=S+(R<<9&4294967295|R>>>23),R=L+(S^C&(j^S))+O[7]+1735328473&4294967295,L=j+(R<<14&4294967295|R>>>18),R=C+(j^S&(L^j))+O[12]+2368359562&4294967295,C=L+(R<<20&4294967295|R>>>12),R=S+(C^L^j)+O[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=j+(S^C^L)+O[8]+2272392833&4294967295,j=S+(R<<11&4294967295|R>>>21),R=L+(j^S^C)+O[11]+1839030562&4294967295,L=j+(R<<16&4294967295|R>>>16),R=C+(L^j^S)+O[14]+4259657740&4294967295,C=L+(R<<23&4294967295|R>>>9),R=S+(C^L^j)+O[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=j+(S^C^L)+O[4]+1272893353&4294967295,j=S+(R<<11&4294967295|R>>>21),R=L+(j^S^C)+O[7]+4139469664&4294967295,L=j+(R<<16&4294967295|R>>>16),R=C+(L^j^S)+O[10]+3200236656&4294967295,C=L+(R<<23&4294967295|R>>>9),R=S+(C^L^j)+O[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=j+(S^C^L)+O[0]+3936430074&4294967295,j=S+(R<<11&4294967295|R>>>21),R=L+(j^S^C)+O[3]+3572445317&4294967295,L=j+(R<<16&4294967295|R>>>16),R=C+(L^j^S)+O[6]+76029189&4294967295,C=L+(R<<23&4294967295|R>>>9),R=S+(C^L^j)+O[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=j+(S^C^L)+O[12]+3873151461&4294967295,j=S+(R<<11&4294967295|R>>>21),R=L+(j^S^C)+O[15]+530742520&4294967295,L=j+(R<<16&4294967295|R>>>16),R=C+(L^j^S)+O[2]+3299628645&4294967295,C=L+(R<<23&4294967295|R>>>9),R=S+(L^(C|~j))+O[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=j+(C^(S|~L))+O[7]+1126891415&4294967295,j=S+(R<<10&4294967295|R>>>22),R=L+(S^(j|~C))+O[14]+2878612391&4294967295,L=j+(R<<15&4294967295|R>>>17),R=C+(j^(L|~S))+O[5]+4237533241&4294967295,C=L+(R<<21&4294967295|R>>>11),R=S+(L^(C|~j))+O[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=j+(C^(S|~L))+O[3]+2399980690&4294967295,j=S+(R<<10&4294967295|R>>>22),R=L+(S^(j|~C))+O[10]+4293915773&4294967295,L=j+(R<<15&4294967295|R>>>17),R=C+(j^(L|~S))+O[1]+2240044497&4294967295,C=L+(R<<21&4294967295|R>>>11),R=S+(L^(C|~j))+O[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=j+(C^(S|~L))+O[15]+4264355552&4294967295,j=S+(R<<10&4294967295|R>>>22),R=L+(S^(j|~C))+O[6]+2734768916&4294967295,L=j+(R<<15&4294967295|R>>>17),R=C+(j^(L|~S))+O[13]+1309151649&4294967295,C=L+(R<<21&4294967295|R>>>11),R=S+(L^(C|~j))+O[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=j+(C^(S|~L))+O[11]+3174756917&4294967295,j=S+(R<<10&4294967295|R>>>22),R=L+(S^(j|~C))+O[2]+718787259&4294967295,L=j+(R<<15&4294967295|R>>>17),R=C+(j^(L|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var C=S-this.blockSize,O=this.B,L=this.h,j=0;j<S;){if(L==0)for(;j<=C;)a(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<S;)if(O[L++]=D.charCodeAt(j++),L==this.blockSize){a(this,O),L=0;break}}else for(;j<S;)if(O[L++]=D[j++],L==this.blockSize){a(this,O),L=0;break}}this.h=L,this.o+=S},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var C=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=C&255,C/=256;for(this.u(D),D=Array(16),S=C=0;4>S;++S)for(var O=0;32>O;O+=8)D[C++]=this.g[S]>>>O&255;return D};function l(D,S){var C=d;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function c(D,S){this.h=S;for(var C=[],O=!0,L=D.length-1;0<=L;L--){var j=D[L]|0;O&&j==S||(C[L]=j,O=!1)}this.g=C}var d={};function m(D){return-128<=D&&128>D?l(D,function(S){return new c([S|0],0>S?-1:0)}):new c([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return N(p(-D));for(var S=[],C=1,O=0;D>=C;O++)S[O]=D/C|0,C*=4294967296;return new c(S,0)}function y(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return N(y(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(S,8)),O=T,L=0;L<D.length;L+=8){var j=Math.min(8,D.length-L),R=parseInt(D.substring(L,L+j),S);8>j?(j=p(Math.pow(S,j)),O=O.j(j).add(p(R))):(O=O.j(C),O=O.add(p(R)))}return O}var T=m(0),b=m(1),x=m(16777216);e=c.prototype,e.m=function(){if(U(this))return-N(this).m();for(var D=0,S=1,C=0;C<this.g.length;C++){var O=this.i(C);D+=(0<=O?O:4294967296+O)*S,S*=4294967296}return D},e.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(U(this))return"-"+N(this).toString(D);for(var S=p(Math.pow(D,6)),C=this,O="";;){var L=at(C,S).g;C=F(C,L.j(S));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=L,V(C))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},e.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function U(D){return D.h==-1}e.l=function(D){return D=F(this,D),U(D)?-1:V(D)?0:1};function N(D){for(var S=D.g.length,C=[],O=0;O<S;O++)C[O]=~D.g[O];return new c(C,~D.h).add(b)}e.abs=function(){return U(this)?N(this):this},e.add=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],O=0,L=0;L<=S;L++){var j=O+(this.i(L)&65535)+(D.i(L)&65535),R=(j>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);O=R>>>16,j&=65535,R&=65535,C[L]=R<<16|j}return new c(C,C[C.length-1]&-2147483648?-1:0)};function F(D,S){return D.add(N(S))}e.j=function(D){if(V(this)||V(D))return T;if(U(this))return U(D)?N(this).j(N(D)):N(N(this).j(D));if(U(D))return N(this.j(N(D)));if(0>this.l(x)&&0>D.l(x))return p(this.m()*D.m());for(var S=this.g.length+D.g.length,C=[],O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<D.g.length;L++){var j=this.i(O)>>>16,R=this.i(O)&65535,pt=D.i(L)>>>16,ht=D.i(L)&65535;C[2*O+2*L]+=R*ht,K(C,2*O+2*L),C[2*O+2*L+1]+=j*ht,K(C,2*O+2*L+1),C[2*O+2*L+1]+=R*pt,K(C,2*O+2*L+1),C[2*O+2*L+2]+=j*pt,K(C,2*O+2*L+2)}for(O=0;O<S;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=S;O<2*S;O++)C[O]=0;return new c(C,0)};function K(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function $(D,S){this.g=D,this.h=S}function at(D,S){if(V(S))throw Error("division by zero");if(V(D))return new $(T,T);if(U(D))return S=at(N(D),S),new $(N(S.g),N(S.h));if(U(S))return S=at(D,N(S)),new $(N(S.g),S.h);if(30<D.g.length){if(U(D)||U(S))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=S;0>=O.l(D);)C=J(C),O=J(O);var L=ft(C,1),j=ft(O,1);for(O=ft(O,2),C=ft(C,2);!V(O);){var R=j.add(O);0>=R.l(D)&&(L=L.add(C),j=R),O=ft(O,1),C=ft(C,1)}return S=F(D,L.j(S)),new $(L,S)}for(L=T;0<=D.l(S);){for(C=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=p(C),R=j.j(S);U(R)||0<R.l(D);)C-=O,j=p(C),R=j.j(S);V(j)&&(j=b),L=L.add(j),D=F(D,R)}return new $(L,D)}e.A=function(D){return at(this,D).h},e.and=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)&D.i(O);return new c(C,this.h&D.h)},e.or=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)|D.i(O);return new c(C,this.h|D.h)},e.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)^D.i(O);return new c(C,this.h^D.h)};function J(D){for(var S=D.g.length+1,C=[],O=0;O<S;O++)C[O]=D.i(O)<<1|D.i(O-1)>>>31;return new c(C,D.h)}function ft(D,S){var C=S>>5;S%=32;for(var O=D.g.length-C,L=[],j=0;j<O;j++)L[j]=0<S?D.i(j+C)>>>S|D.i(j+C+1)<<32-S:D.i(j+C);return new c(L,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ls=c}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ww,pu,Zw,Zh,Zp,Jw,t1,e1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var _=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var H=h[w];if(!(H in _))break t;_=_[H]}h=h[h.length-1],w=_[h],v=v(w),v!=w&&v!=null&&t(_,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var _=0,w=!1,H={next:function(){if(!w&&_<h.length){var W=_++;return{value:v(W,h[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function T(h,v,_){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,w),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function b(h,v,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,b.apply(null,arguments)}function x(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function V(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(w,H,W){for(var ut=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)ut[Bt-2]=arguments[Bt];return v.prototype[H].apply(w,ut)}}function U(h){const v=h.length;if(0<v){const _=Array(v);for(let w=0;w<v;w++)_[w]=h[w];return _}return[]}function N(h,v){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(m(w)){const H=h.length||0,W=w.length||0;h.length=H+W;for(let ut=0;ut<W;ut++)h[H+ut]=w[ut]}else h.push(w)}}class F{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function at(h){return at[" "](h),h}at[" "]=function(){};var J=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ft(h,v,_){for(const w in h)v.call(_,h[w],w,h)}function D(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function S(h){const v={};for(const _ in h)v[_]=h[_];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,v){let _,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(_ in w)h[_]=w[_];for(let W=0;W<C.length;W++)_=C[W],Object.prototype.hasOwnProperty.call(w,_)&&(h[_]=w[_])}}function L(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function j(h){d.setTimeout(()=>{throw h},0)}function R(){var h=Ct;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class pt{constructor(){this.h=this.g=null}add(v,_){const w=ht.get();w.set(v,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ht=new F(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Ct=new pt,M=()=>{const h=d.Promise.resolve(void 0);tt=()=>{h.then(rt)}};var rt=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(_){j(_)}var v=ht;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}lt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h}();function Nt(h,v){if(ot.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(J){t:{try{at(v.nodeName);var H=!0;break t}catch{}H=!1}H||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Rt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Nt.aa.h.call(this)}}V(Nt,ot);var Rt={2:"touch",3:"pen",4:"mouse"};Nt.prototype.h=function(){Nt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),ee=0;function si(h,v,_,w,H){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!w,this.ha=H,this.key=++ee,this.da=this.fa=!1}function Sr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ui(h){this.src=h,this.g={},this.h=0}Ui.prototype.add=function(h,v,_,w,H){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var ut=ws(h,v,w,H);return-1<ut?(v=h[ut],_||(v.fa=!1)):(v=new si(v,this.src,W,!!w,H),v.fa=_,h.push(v)),v};function As(h,v){var _=v.type;if(_ in h.g){var w=h.g[_],H=Array.prototype.indexOf.call(w,v,void 0),W;(W=0<=H)&&Array.prototype.splice.call(w,H,1),W&&(Sr(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function ws(h,v,_,w){for(var H=0;H<h.length;++H){var W=h[H];if(!W.da&&W.listener==v&&W.capture==!!_&&W.ha==w)return H}return-1}var Ss="closure_lm_"+(1e6*Math.random()|0),il={};function cc(h,v,_,w,H){if(Array.isArray(v)){for(var W=0;W<v.length;W++)cc(h,v[W],_,w,H);return null}return _=hc(_),h&&h[Pe]?h.K(v,_,p(w)?!!w.capture:!1,H):In(h,v,_,!1,w,H)}function In(h,v,_,w,H,W){if(!v)throw Error("Invalid event type");var ut=p(H)?!!H.capture:!!H,Bt=Ra(h);if(Bt||(h[Ss]=Bt=new Ui(h)),_=Bt.add(v,_,w,ut,W),_.proxy)return _;if(w=sd(),_.proxy=w,w.src=h,w.listener=_,h.addEventListener)_t||(H=ut),H===void 0&&(H=!1),h.addEventListener(v.toString(),w,H);else if(h.attachEvent)h.attachEvent(Rs(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sd(){function h(_){return v.call(h.src,h.listener,_)}const v=ad;return h}function rl(h,v,_,w,H){if(Array.isArray(v))for(var W=0;W<v.length;W++)rl(h,v[W],_,w,H);else w=p(w)?!!w.capture:!!w,_=hc(_),h&&h[Pe]?(h=h.i,v=String(v).toString(),v in h.g&&(W=h.g[v],_=ws(W,_,w,H),-1<_&&(Sr(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ra(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ws(v,_,w,H)),(_=-1<h?v[h]:null)&&Sa(_))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Pe])As(v.i,h);else{var _=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(_,w,h.capture):v.detachEvent?v.detachEvent(Rs(_),w):v.addListener&&v.removeListener&&v.removeListener(w),(_=Ra(v))?(As(_,h),_.h==0&&(_.src=null,v[Ss]=null)):Sr(h)}}}function Rs(h){return h in il?il[h]:il[h]="on"+h}function ad(h,v){if(h.da)h=!0;else{v=new Nt(v,this);var _=h.listener,w=h.ha||h.src;h.fa&&Sa(h),h=_.call(w,v)}return h}function Ra(h){return h=h[Ss],h instanceof Ui?h:null}var sl="__closure_events_fn_"+(1e9*Math.random()>>>0);function hc(h){return typeof h=="function"?h:(h[sl]||(h[sl]=function(v){return h.handleEvent(v)}),h[sl])}function he(){ct.call(this),this.i=new Ui(this),this.M=this,this.F=null}V(he,ct),he.prototype[Pe]=!0,he.prototype.removeEventListener=function(h,v,_,w){rl(this,h,v,_,w)};function Yt(h,v){var _,w=h.F;if(w)for(_=[];w;w=w.F)_.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new ot(v,h);else if(v instanceof ot)v.target=v.target||h;else{var H=v;v=new ot(w,h),O(v,H)}if(H=!0,_)for(var W=_.length-1;0<=W;W--){var ut=v.g=_[W];H=vn(ut,w,!0,v)&&H}if(ut=v.g=h,H=vn(ut,w,!0,v)&&H,H=vn(ut,w,!1,v)&&H,_)for(W=0;W<_.length;W++)ut=v.g=_[W],H=vn(ut,w,!1,v)&&H}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],w=0;w<_.length;w++)Sr(_[w]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,_,w){return this.i.add(String(h),v,!1,_,w)},he.prototype.L=function(h,v,_,w){return this.i.add(String(h),v,!0,_,w)};function vn(h,v,_,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,W=0;W<v.length;++W){var ut=v[W];if(ut&&!ut.da&&ut.capture==_){var Bt=ut.listener,Ie=ut.ha||ut.src;ut.fa&&As(h.i,ut),H=Bt.call(Ie,w)!==!1&&H}}return H&&!w.defaultPrevented}function Ze(h,v,_){if(typeof h=="function")_&&(h=b(h,_));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function fc(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,fc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class od extends ct{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(h){ct.call(this),this.h=h,this.g={}}V(xs,ct);var Cs=[];function Is(h){ft(h.g,function(v,_){this.g.hasOwnProperty(_)&&Sa(v)},h),h.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Is(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=d.JSON.stringify,xa=d.JSON.parse,Ds=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function al(){}al.prototype.h=null;function ol(h){return h.h||(h.h=h.i())}function ll(){}var Bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){ot.call(this,"d")}V(ji,ot);function ul(){ot.call(this,"c")}V(ul,ot);var ai={},cl=null;function Rr(){return cl=cl||new he}ai.La="serverreachability";function Ca(h){ot.call(this,ai.La,h)}V(Ca,ot);function xr(h){const v=Rr();Yt(v,new Ca(v))}ai.STAT_EVENT="statevent";function dc(h,v){ot.call(this,ai.STAT_EVENT,h),this.stat=v}V(dc,ot);function re(h){const v=Rr();Yt(v,new dc(v,h))}ai.Ma="timingevent";function Ce(h,v){ot.call(this,ai.Ma,h),this.size=v}V(Ce,ot);function Te(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function hl(h,v,_,w,H,W){h.info(function(){if(h.g)if(W)for(var ut="",Bt=W.split("&"),Ie=0;Ie<Bt.length;Ie++){var jt=Bt[Ie].split("=");if(1<jt.length){var Le=jt[0];jt=jt[1];var De=Le.split("_");ut=2<=De.length&&De[1]=="type"?ut+(Le+"="+jt+"&"):ut+(Le+"=redacted&")}}else ut=null;else ut=W;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+v+`
`+_+`
`+ut})}function ld(h,v,_,w,H,W,ut){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+v+`
`+_+`
`+W+" "+ut})}function Cr(h,v,_,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ms(h,_)+(w?" "+w:"")})}function mc(h,v){h.info(function(){return"TIMEOUT: "+v})}Dn.prototype.info=function(){};function Ms(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var w=_[h];if(!(2>w.length)){var H=w[1];if(Array.isArray(H)&&!(1>H.length)){var W=H[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ut=1;ut<H.length;ut++)H[ut]=""}}}}return Yn(_)}catch{return v}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function li(){}V(li,al),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},oi=new li;function on(h,v,_,w){this.j=h,this.i=v,this.l=_,this.R=w||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var fl={},Ia={};function $n(h,v,_){h.L=1,h.v=ks(_n(v)),h.m=_,h.P=!0,Fi(h,null)}function Fi(h,v){h.F=Date.now(),Vs(h),h.A=_n(h.v);var _=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),vl(_.i,"t",w),h.C=0,_=h.j.J,h.h=new pe,h.g=Dc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new od(b(h.Y,h,h.g),h.O)),v=h.U,_=h.g,w=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Cs[0]=H.toString()),H=Cs);for(var W=0;W<H.length;W++){var ut=cc(_,H[W],w||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),xr(),hl(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const v=this.M;v&&On(h)==3?v.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const De=On(this.g);var v=this.g.Ba();const Xi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||bc(this.g)))){this.J||De!=4||v==7||(v==8||0>=Xi?xr(3):xr(2)),Dr(this);var _=this.g.Z();this.X=_;e:if(pc(this)){var w=bc(this.g);h="";var H=w.length,W=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),ui(this);var ut="";break e}this.h.i=new d.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(w[v],{stream:!(W&&v==H-1)});w.length=0,this.h.g+=h,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=_==200,ld(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Bt,Ie=this.g;if((Bt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Bt)){var jt=Bt;break e}}jt=null}if(_=jt)Cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,_);else{this.o=!1,this.s=3,re(12),Fe(this),ui(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<ut.length;)if(He=gc(this,ut),He==Ia){De==4&&(this.s=4,re(14),_=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(He==fl){this.s=4,re(15),Cr(this.i,this.l,ut,"[Invalid Chunk]"),_=!1;break}else Cr(this.i,this.l,He,null),Ns(this,He);if(pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||ut.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)Cr(this.i,this.l,ut,"[Invalid Chunked Response]"),Fe(this),ui(this);else if(0<ut.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),qs(Le),Le.M=!0,re(11))}}else Cr(this.i,this.l,ut,null),Ns(this,ut);De==4&&Fe(this),this.o&&!this.J&&(De==4?xc(this.j,this):(this.o=!1,Vs(this)))}else dd(this.g),_==400&&0<ut.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Fe(this),ui(this)}}}catch{}finally{}};function pc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function gc(h,v){var _=h.C,w=v.indexOf(`
`,_);return w==-1?Ia:(_=Number(v.substring(_,w)),isNaN(_)?fl:(w+=1,w+_>v.length?Ia:(v=v.slice(w,w+_),h.C=w+_,v)))}on.prototype.cancel=function(){this.J=!0,Fe(this)};function Vs(h){h.S=Date.now()+h.I,yc(h,h.I)}function yc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Te(b(h.ba,h),v)}function Dr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(mc(this.i,this.A),this.L!=2&&(xr(),re(17)),Fe(this),this.s=2,ui(this)):yc(this,this.S-h)};function ui(h){h.j.G==0||h.J||xc(h.j,h)}function Fe(h){Dr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Is(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ns(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||dl(_.h,h))){if(!h.K&&dl(_.h,h)&&_.G==3){try{var w=_.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)za(_),Ba(_);else break t;Al(_),re(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Te(b(_.Za,_),6e3));if(1>=Ma(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qi(_,11)}else if((h.K||_.g==h)&&za(_),!K(v))for(H=_.Da.g.parse(v),v=0;v<H.length;v++){let jt=H[v];if(_.T=jt[0],jt=jt[1],_.G==2)if(jt[0]=="c"){_.K=jt[1],_.ia=jt[2];const Le=jt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const De=jt[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const Xi=jt[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(w=1.5*Xi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const He=h.g;if(He){const gi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var W=w.h;W.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Va(W,W.h),W.h=null))}if(w.D){const Sl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(w.ya=Sl,Xt(w.I,w.D,Sl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ut=h;if(w.qa=Ic(w,w.J?w.ia:null,w.W),ut.K){ln(w.h,ut);var Bt=ut,Ie=w.L;Ie&&(Bt.I=Ie),Bt.B&&(Dr(Bt),Vs(Bt)),w.g=ut}else Sc(w);0<_.i.length&&ja(_)}else jt[0]!="stop"&&jt[0]!="close"||Qi(_,7);else _.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Qi(_,7):El(_):jt[0]!="noop"&&_.l&&_.l.ta(jt),_.v=0)}}xr(4)}catch{}}var vc=class{constructor(h,v){this.g=h,this.map=v}};function Hi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Da(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ma(h){return h.h?1:h.g?h.g.size:0}function dl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Va(h,v){h.g?h.g.add(v):h.h=v}function ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Hi.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ml(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return U(h.i)}function ud(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],_=h.length,w=0;w<_;w++)v.push(h[w]);return v}v=[],_=0;for(w in h)v[_++]=h[w];return v}function Na(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const w in h)v[_++]=w;return v}}}function pl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=Na(h),w=ud(h),H=w.length,W=0;W<H;W++)v.call(void 0,w[W],_&&_[W],h)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var w=h[_].indexOf("="),H=null;if(0<=w){var W=h[_].substring(0,w);H=h[_].substring(w+1)}else W=h[_];v(W,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ee(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ee){this.h=h.h,Ps(this,h.j),this.o=h.o,this.g=h.g,Mr(this,h.s),this.l=h.l;var v=h.i,_=new Gi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),qi(this,_),this.m=h.m}else h&&(v=String(h).match(Os))?(this.h=!1,Ps(this,v[1]||"",!0),this.o=Mn(v[2]||""),this.g=Mn(v[3]||"",!0),Mr(this,v[4]),this.l=Mn(v[5]||"",!0),qi(this,v[6]||"",!0),this.m=Mn(v[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}Ee.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ls(v,gl,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ls(v,gl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ls(_,_.charAt(0)=="/"?hd:yl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ls(_,Oa)),h.join("")};function _n(h){return new Ee(h)}function Ps(h,v,_){h.j=_?Mn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Mr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function qi(h,v,_){v instanceof Gi?(h.i=v,Tc(h.i,h.h)):(_||(v=Ls(v,fd)),h.i=new Gi(v,h.h))}function Xt(h,v,_){h.i.set(v,_)}function ks(h){return Xt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Mn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ls(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,_c),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _c(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var gl=/[#\/\?@]/g,yl=/[#\?:]/g,hd=/[#\?]/g,fd=/[#\?@]/g,Oa=/#/g;function Gi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&cd(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}e=Gi.prototype,e.add=function(h,v){Vn(this),this.i=null,h=ci(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Ki(h,v){Vn(h),v=ci(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Yi(h,v){return Vn(h),v=ci(h,v),h.g.has(v)}e.forEach=function(h,v){Vn(this),this.g.forEach(function(_,w){_.forEach(function(H){h.call(v,H,w,this)},this)},this)},e.na=function(){Vn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let w=0;w<v.length;w++){const H=h[w];for(let W=0;W<H.length;W++)_.push(v[w])}return _},e.V=function(h){Vn(this);let v=[];if(typeof h=="string")Yi(this,h)&&(v=v.concat(this.g.get(ci(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},e.set=function(h,v){return Vn(this),this.i=null,h=ci(this,h),Yi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function vl(h,v,_){Ki(h,v),0<_.length&&(h.i=null,h.g.set(ci(h,v),U(_)),h.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var w=v[_];const W=encodeURIComponent(String(w)),ut=this.V(w);for(w=0;w<ut.length;w++){var H=W;ut[w]!==""&&(H+="="+encodeURIComponent(String(ut[w]))),h.push(H)}}return this.i=h.join("&")};function ci(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Tc(h,v){v&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(_,w){var H=w.toLowerCase();w!=H&&(Ki(this,w),vl(this,H,_))},h)),h.j=v}function Us(h,v){const _=new Dn;if(d.Image){const w=new Image;w.onload=x(Nn,_,"TestLoadImage: loaded",!0,v,w),w.onerror=x(Nn,_,"TestLoadImage: error",!1,v,w),w.onabort=x(Nn,_,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(Nn,_,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Qn(h,v){const _=new Dn,w=new AbortController,H=setTimeout(()=>{w.abort(),Nn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(W=>{clearTimeout(H),W.ok?Nn(_,"TestPingServer: ok",!0,v):Nn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Nn(_,"TestPingServer: error",!1,v)})}function Nn(h,v,_,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(_)}catch{}}function Bs(){this.g=new Ds}function hi(h,v,_){const w=_||"";try{pl(h,function(H,W){let ut=H;p(H)&&(ut=Yn(H)),v.push(w+W+"="+encodeURIComponent(ut))})}catch(H){throw v.push(w+"type="+encodeURIComponent("_badmap")),H}}function Vr(h){this.l=h.Ub||null,this.j=h.eb||!1}V(Vr,al),Vr.prototype.g=function(){return new $i(this.l,this.j)},Vr.prototype.i=function(h){return function(){return h}}({});function $i(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V($i,he),e=$i.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,di(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?fi(this):di(this),this.readyState==3&&_l(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,fi(this))},e.Qa=function(h){this.g&&(this.response=h,fi(this))},e.ga=function(){this.g&&fi(this)};function fi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,di(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Tl(h){let v="";return ft(h,function(_,w){v+=w,v+=":",v+=_,v+=`\r
`}),v}function ke(h,v,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=Tl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Xt(h,v,_))}function Gt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Gt,he);var Pa=/^https?$/i,js=["POST","PUT"];e=Gt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?ol(this.o):ol(oi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(W){Ec(this,W);return}if(h=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)_.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())_.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),H=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(js,v,void 0))||w||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ut]of _)this.g.setRequestHeader(W,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){Ec(this,W)}};function Ec(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ka(h),mi(h)}function ka(h){h.A||(h.A=!0,Yt(h,"complete"),Yt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Yt(this,"complete"),Yt(this,"abort"),mi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},e.bb=function(){La(this)};function La(h){if(h.h&&typeof c<"u"&&(!h.v[1]||On(h)!=4||h.Z()!=2)){if(h.u&&On(h)==4)Ze(h.Ea,0,h);else if(Yt(h,"readystatechange"),On(h)==4){h.h=!1;try{const ut=h.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var _;if(!(_=v)){var w;if(w=ut===0){var H=String(h.D).match(Os)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),w=!Pa.test(H?H.toLowerCase():"")}_=w}if(_)Yt(h,"complete"),Yt(h,"success");else{h.m=6;try{var W=2<On(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",ka(h)}}finally{mi(h)}}}}function mi(h,v){if(h.g){zs(h);const _=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Yt(h,"ready");try{_.onreadystatechange=w}catch{}}}function zs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function On(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),xa(v)}};function bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function dd(h){const v={};h=(h.g&&2<=On(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(K(h[w]))continue;var _=L(h[w]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=v[H]||[];v[H]=W,W.push(_)}D(v,function(w){return w.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function Ua(h){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fs("baseRetryDelayMs",5e3,h),this.cb=Fs("retryDelaySeedMs",1e4,h),this.Wa=Fs("forwardChannelMaxRetries",2,h),this.wa=Fs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(h&&h.concurrentRequestLimit),this.Da=new Bs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ua.prototype,e.la=8,e.G=1,e.connect=function(h,v,_,w){re(0),this.W=h,this.H=v||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Ic(this,null,this.W),ja(this)};function El(h){if(Ac(h),h.G==3){var v=h.U++,_=_n(h.I);if(Xt(_,"SID",h.K),Xt(_,"RID",v),Xt(_,"TYPE","terminate"),Hs(h,_),v=new on(h,h.j,v),v.L=2,v.v=ks(_n(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=Dc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Vs(v)}Cc(h)}function Ba(h){h.g&&(qs(h),h.g.cancel(),h.g=null)}function Ac(h){Ba(h),h.u&&(d.clearTimeout(h.u),h.u=null),za(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ja(h){if(!Da(h.h)&&!h.s){h.s=!0;var v=h.Ga;tt||M(),lt||(tt(),lt=!0),Ct.add(v,h),h.B=0}}function md(h,v){return Ma(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Te(b(h.Ga,h,v),wl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new on(this,this.j,h);let W=this.o;if(this.S&&(W?(W=S(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(H.H=W,W=null),this.P)t:{for(var v=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=_;break t}if(v===4096||_===this.i.length-1){v=_+1;break t}}v=1e3}else v=1e3;v=wc(this,H,v),_=_n(this.I),Xt(_,"RID",h),Xt(_,"CVER",22),this.D&&Xt(_,"X-HTTP-Session-Id",this.D),Hs(this,_),W&&(this.O?v="headers="+encodeURIComponent(String(Tl(W)))+"&"+v:this.m&&ke(_,this.m,W)),Va(this.h,H),this.Ua&&Xt(_,"TYPE","init"),this.P?(Xt(_,"$req",v),Xt(_,"SID","null"),H.T=!0,$n(H,_,null)):$n(H,_,v),this.G=2}}else this.G==3&&(h?bl(this,h):this.i.length==0||Da(this.h)||bl(this))};function bl(h,v){var _;v?_=v.l:_=h.U++;const w=_n(h.I);Xt(w,"SID",h.K),Xt(w,"RID",_),Xt(w,"AID",h.T),Hs(h,w),h.m&&h.o&&ke(w,h.m,h.o),_=new on(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=wc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Va(h.h,_),$n(_,w,v)}function Hs(h,v){h.H&&ft(h.H,function(_,w){Xt(v,w,_)}),h.l&&pl({},function(_,w){Xt(v,w,_)})}function wc(h,v,_){_=Math.min(h.i.length,_);var w=h.l?b(h.l.Na,h.l,h):null;t:{var H=h.i;let W=-1;for(;;){const ut=["count="+_];W==-1?0<_?(W=H[0].g,ut.push("ofs="+W)):W=0:ut.push("ofs="+W);let Bt=!0;for(let Ie=0;Ie<_;Ie++){let jt=H[Ie].g;const Le=H[Ie].map;if(jt-=W,0>jt)W=Math.max(0,H[Ie].g-100),Bt=!1;else try{hi(Le,ut,"req"+jt+"_")}catch{w&&w(Le)}}if(Bt){w=ut.join("&");break t}}}return h=h.i.splice(0,_),v.D=h,w}function Sc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;tt||M(),lt||(tt(),lt=!0),Ct.add(v,h),h.v=0}}function Al(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Te(b(h.Fa,h),wl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Te(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Ba(this),Rc(this))};function qs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Rc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=_n(h.qa);Xt(v,"RID","rpc"),Xt(v,"SID",h.K),Xt(v,"AID",h.T),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xt(v,"TO",h.ja),Xt(v,"TYPE","xmlhttp"),Hs(h,v),h.m&&h.o&&ke(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=ks(_n(v)),_.m=null,_.P=!0,Fi(_,h)}e.Za=function(){this.C!=null&&(this.C=null,Ba(this),Al(this),re(19))};function za(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function xc(h,v){var _=null;if(h.g==v){za(h),qs(h),h.g=null;var w=2}else if(dl(h.h,v))_=v.D,ln(h.h,v),w=1;else return;if(h.G!=0){if(v.o)if(w==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;w=Rr(),Yt(w,new Ce(w,_)),ja(h)}else Sc(h);else if(H=v.s,H==3||H==0&&0<v.X||!(w==1&&md(h,v)||w==2&&Al(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),H){case 1:Qi(h,5);break;case 4:Qi(h,10);break;case 3:Qi(h,6);break;default:Qi(h,2)}}}function wl(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function Qi(h,v){if(h.j.info("Error code "+v),v==2){var _=b(h.fb,h),w=h.Xa;const H=!w;w=new Ee(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ps(w,"https"),ks(w),H?Us(w.toString(),_):Qn(w.toString(),_)}else re(2);h.G=0,h.l&&h.l.sa(v),Cc(h),Ac(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Cc(h){if(h.G=0,h.ka=[],h.l){const v=ml(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ka,v),N(h.ka,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.ra()}}function Ic(h,v,_){var w=_ instanceof Ee?_n(_):new Ee(_);if(w.g!="")v&&(w.g=v+"."+w.g),Mr(w,w.s);else{var H=d.location;w=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var W=new Ee(null);w&&Ps(W,w),v&&(W.g=v),H&&Mr(W,H),_&&(W.l=_),w=W}return _=h.D,v=h.ya,_&&v&&Xt(w,_,v),Xt(w,"VER",h.la),Hs(h,w),w}function Dc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Gt(new Vr({eb:_})):new Gt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mc(){}e=Mc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Fa(){}Fa.prototype.g=function(h,v){return new un(h,v)};function un(h,v){he.call(this),this.g=new Ua(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!K(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!K(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new pi(this)}V(un,he),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){El(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Yn(h),h=_);v.i.push(new vc(v.Ya++,h)),v.G==3&&ja(v)},un.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,un.aa.N.call(this)};function Vc(h){ji.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const _ in v){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}V(Vc,ji);function Nc(){ul.call(this),this.status=1}V(Nc,ul);function pi(h){this.g=h}V(pi,Mc),pi.prototype.ua=function(){Yt(this.g,"a")},pi.prototype.ta=function(h){Yt(this.g,new Vc(h))},pi.prototype.sa=function(h){Yt(this.g,new Nc)},pi.prototype.ra=function(){Yt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,e1=function(){return new Fa},t1=function(){return Rr()},Jw=ai,Zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Zh=Ir,zi.COMPLETE="complete",Zw=zi,ll.EventType=Bi,Bi.OPEN="a",Bi.CLOSE="b",Bi.ERROR="c",Bi.MESSAGE="d",he.prototype.listen=he.prototype.K,pu=ll,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,Ww=Gt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const EE="@firebase/firestore",bE="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Kg("@firebase/firestore");function vo(){return ya.logLevel}function dt(e,...t){if(ya.logLevel<=Lt.DEBUG){const n=t.map(sy);ya.debug(`Firestore (${Qo}): ${e}`,...n)}}function Tr(e,...t){if(ya.logLevel<=Lt.ERROR){const n=t.map(sy);ya.error(`Firestore (${Qo}): ${e}`,...n)}}function Oo(e,...t){if(ya.logLevel<=Lt.WARN){const n=t.map(sy);ya.warn(`Firestore (${Qo}): ${e}`,...n)}}function sy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,n1(e,r,n)}function n1(e,t,n){let r=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tr(r),new Error(r)}function Kt(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||n1(t,a,r)}function It(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class eN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nN{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new us;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new us,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new us)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new i1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class iN{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rN{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new iN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const r=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=aN(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Vt(e,t){return e<t?-1:e>t?1:0}function Jp(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return Vt(r,a);{const l=r1(),c=oN(l.encode(wE(e,n)),l.encode(wE(t,n)));return c!==0?c:Vt(r,a)}}n+=r>65535?2:1}return Vt(e.length,t.length)}function wE(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function oN(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Vt(e[n],t[n]);return Vt(e.length,t.length)}function Po(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=-62135596800,RE=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*RE);return new Ne(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<SE)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RE}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-SE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Ne(0,0))}static max(){return new xt(new Ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__name__";class bi{constructor(t,n,r){n===void 0?n=0:n>t.length&&At(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&At(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=bi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Vt(t.length,n.length)}static compareSegments(t,n){const r=bi.isNumericId(t),a=bi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?bi.extractNumericId(t).compare(bi.extractNumericId(n)):Jp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ls.fromString(t.substring(4,t.length-2))}}class ie extends bi{construct(t,n,r){return new ie(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new mt(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new ie(n)}static emptyPath(){return new ie([])}}const lN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends bi{construct(t,n,r){return new Xe(t,n,r)}static isValidIdentifier(t){return lN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new Xe([xE])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new mt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new mt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new mt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ie.fromString(t))}static fromName(t){return new vt(ie.fromString(t).popFirst(5))}static empty(){return new vt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=-1;function uN(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=xt.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new ds(a,vt.empty(),t)}function cN(e){return new ds(e.readTime,e.key,Pu)}class ds{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ds(xt.min(),vt.empty(),Pu)}static max(){return new ds(xt.max(),vt.empty(),Pu)}}function hN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Vt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==fN)throw e;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):it.reject(n)}static resolve(t){return new it((n,r)=>{n(t)})}static reject(t){return new it((n,r)=>{r(t)})}static waitFor(t){return new it((n,r)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=it.resolve(!1);for(const r of t)n=n.next(a=>a?it.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new it((r,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++d,d===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new it((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function mN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}zf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-1;function Ff(e){return e==null}function vf(e){return e===0&&1/e==-1/0}function pN(e){return typeof e=="number"&&Number.isInteger(e)&&!vf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="";function gN(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=CE(t)),t=yN(e.get(n),t);return CE(t)}function yN(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case a1:n+="";break;default:n+=l}}return n}function CE(e){return e+a1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ea(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function o1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lh(this.root,t,this.comparator,!0)}}class Lh{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=a??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new Qe(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Qe.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(t){return new DE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class DE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new ni([])}unionWith(t){let n=new Oe(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ni(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new l1("Invalid base64 string: "+l):l}}(t);return new We(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const vN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=vN.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ps(e){return typeof e=="string"?We.fromBase64String(e):We.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="server_timestamp",c1="__type__",h1="__previous_value__",f1="__local_write_time__";function oy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[c1])===null||n===void 0?void 0:n.stringValue)===u1}function Hf(e){const t=e.mapValue.fields[h1];return oy(t)?Hf(t):t}function ku(e){const t=ms(e.mapValue.fields[f1].timestampValue);return new Ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t,n,r,a,l,c,d,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const _f="(default)";class Lu{constructor(t,n){this.projectId=t,this.database=n||_f}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===_f}isEqual(t){return t instanceof Lu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="__type__",TN="__max__",Uh={mapValue:{}},m1="__vector__",Tf="value";function gs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oy(e)?4:bN(e)?9007199254740991:EN(e)?10:11:At(28295,{value:e})}function Ni(e,t){if(e===t)return!0;const n=gs(e);if(n!==gs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ku(e).isEqual(ku(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ms(a.timestampValue),d=ms(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return ps(a.bytesValue).isEqual(ps(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return _e(a.geoPointValue.latitude)===_e(l.geoPointValue.latitude)&&_e(a.geoPointValue.longitude)===_e(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return _e(a.integerValue)===_e(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_e(a.doubleValue),d=_e(l.doubleValue);return c===d?vf(c)===vf(d):isNaN(c)&&isNaN(d)}return!1}(e,t);case 9:return Po(e.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(IE(c)!==IE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ni(c[m],d[m])))return!1;return!0}(e,t);default:return At(52216,{left:e})}}function Uu(e,t){return(e.values||[]).find(n=>Ni(n,t))!==void 0}function ko(e,t){if(e===t)return 0;const n=gs(e),r=gs(t);if(n!==r)return Vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(e.booleanValue,t.booleanValue);case 2:return function(l,c){const d=_e(l.integerValue||l.doubleValue),m=_e(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(e,t);case 3:return ME(e.timestampValue,t.timestampValue);case 4:return ME(ku(e),ku(t));case 5:return Jp(e.stringValue,t.stringValue);case 6:return function(l,c){const d=ps(l),m=ps(c);return d.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Vt(d[p],m[p]);if(y!==0)return y}return Vt(d.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const d=Vt(_e(l.latitude),_e(c.latitude));return d!==0?d:Vt(_e(l.longitude),_e(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return VE(e.arrayValue,t.arrayValue);case 10:return function(l,c){var d,m,p,y;const T=l.fields||{},b=c.fields||{},x=(d=T[Tf])===null||d===void 0?void 0:d.arrayValue,V=(m=b[Tf])===null||m===void 0?void 0:m.arrayValue,U=Vt(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0);return U!==0?U:VE(x,V)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===Uh.mapValue&&c===Uh.mapValue)return 0;if(l===Uh.mapValue)return 1;if(c===Uh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const b=Jp(m[T],y[T]);if(b!==0)return b;const x=ko(d[m[T]],p[y[T]]);if(x!==0)return x}return Vt(m.length,y.length)}(e.mapValue,t.mapValue);default:throw At(23264,{Pe:n})}}function ME(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Vt(e,t);const n=ms(e),r=ms(t),a=Vt(n.seconds,r.seconds);return a!==0?a:Vt(n.nanos,r.nanos)}function VE(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=ko(n[a],r[a]);if(l)return l}return Vt(n.length,r.length)}function Lo(e){return tg(e)}function tg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ms(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ps(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return vt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=tg(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${tg(n.fields[c])}`;return a+"}"}(e.mapValue):At(61005,{value:e})}function Jh(e){switch(gs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hf(e);return t?16+Jh(t):16;case 5:return 2*e.stringValue.length;case 6:return ps(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Jh(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return Ea(r.fields,(l,c)=>{a+=l.length+Jh(c)}),a}(e.mapValue);default:throw At(13486,{value:e})}}function NE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function eg(e){return!!e&&"integerValue"in e}function ly(e){return!!e&&"arrayValue"in e}function OE(e){return!!e&&"nullValue"in e}function PE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tf(e){return!!e&&"mapValue"in e}function EN(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[d1])===null||n===void 0?void 0:n.stringValue)===m1}function Au(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ea(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Au(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Au(e.arrayValue.values[n]);return t}return Object.assign({},e)}function bN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===TN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.value=t}static empty(){return new Gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!tf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Au(n)}setAll(t){let n=Xe.emptyPath(),r={},a=[];t.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Au(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Ea(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new Gn(Au(this.value))}}function p1(e){const t=[];return Ea(e.fields,(n,r)=>{const a=new Xe([n]);if(tf(r)){const l=p1(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,n,r,a,l,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new rn(t,0,xt.min(),xt.min(),xt.min(),Gn.empty(),0)}static newFoundDocument(t,n,r,a){return new rn(t,1,n,xt.min(),r,a,0)}static newNoDocument(t,n){return new rn(t,2,n,xt.min(),xt.min(),Gn.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,xt.min(),xt.min(),Gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,n){this.position=t,this.inclusive=n}}function kE(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),n.key):r=ko(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function LE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ni(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,n="asc"){this.field=t,this.dir=n}}function AN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{}class xe extends g1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new SN(t,n,r):n==="array-contains"?new CN(t,r):n==="in"?new IN(t,r):n==="not-in"?new DN(t,r):n==="array-contains-any"?new MN(t,r):new xe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new RN(t,r):new xN(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ko(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends g1{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new ri(t,n)}matches(t){return y1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function y1(e){return e.op==="and"}function v1(e){return wN(e)&&y1(e)}function wN(e){for(const t of e.filters)if(t instanceof ri)return!1;return!0}function ng(e){if(e instanceof xe)return e.field.canonicalString()+e.op.toString()+Lo(e.value);if(v1(e))return e.filters.map(t=>ng(t)).join(",");{const t=e.filters.map(n=>ng(n)).join(",");return`${e.op}(${t})`}}function _1(e,t){return e instanceof xe?function(r,a){return a instanceof xe&&r.op===a.op&&r.field.isEqual(a.field)&&Ni(r.value,a.value)}(e,t):e instanceof ri?function(r,a){return a instanceof ri&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&_1(c,a.filters[d]),!0):!1}(e,t):void At(19439)}function T1(e){return e instanceof xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`}(e):e instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(T1).join(" ,")+"}"}(e):"Filter"}class SN extends xe{constructor(t,n,r){super(t,n,r),this.key=vt.fromName(r.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class RN extends xe{constructor(t,n){super(t,"in",n),this.keys=E1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class xN extends xe{constructor(t,n){super(t,"not-in",n),this.keys=E1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function E1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class CN extends xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ly(n)&&Uu(n.arrayValue,this.value)}}class IN extends xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}}class DN extends xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uu(this.value.arrayValue,n)}}class MN extends xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,n=null,r=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function UE(e,t=null,n=[],r=[],a=null,l=null,c=null){return new VN(e,t,n,r,a,l,c)}function uy(e){const t=It(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ng(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Ff(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Lo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Lo(r)).join(",")),t.Ie=n}return t.Ie}function cy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!AN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!LE(e.startAt,t.startAt)&&LE(e.endAt,t.endAt)}function ig(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t,n=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function NN(e,t,n,r,a,l,c,d){return new Zo(e,t,n,r,a,l,c,d)}function hy(e){return new Zo(e)}function BE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function b1(e){return e.collectionGroup!==null}function wu(e){const t=It(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe(Xe.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Bu(l,r))}),n.has(Xe.keyField().canonicalString())||t.Ee.push(new Bu(Xe.keyField(),r))}return t.Ee}function Ri(e){const t=It(e);return t.de||(t.de=ON(t,wu(e))),t.de}function ON(e,t){if(e.limitType==="F")return UE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Bu(a.field,l)});const n=e.endAt?new Ef(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ef(e.startAt.position,e.startAt.inclusive):null;return UE(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function rg(e,t){const n=e.filters.concat([t]);return new Zo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function sg(e,t,n){return new Zo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qf(e,t){return cy(Ri(e),Ri(t))&&e.limitType===t.limitType}function A1(e){return`${uy(Ri(e))}|lt:${e.limitType}`}function _o(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>T1(a)).join(", ")}]`),Ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Lo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Lo(a)).join(",")),`Target(${r})`}(Ri(e))}; limitType=${e.limitType})`}function Gf(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):vt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of wu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,d,m){const p=kE(c,d,m);return c.inclusive?p<=0:p<0}(r.startAt,wu(r),a)||r.endAt&&!function(c,d,m){const p=kE(c,d,m);return c.inclusive?p>=0:p>0}(r.endAt,wu(r),a))}(e,t)}function PN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function w1(e){return(t,n)=>{let r=!1;for(const a of wu(e)){const l=kN(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function kN(e,t,n){const r=e.field.isKeyField()?vt.comparator(t.key,n.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?ko(m,p):At(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return At(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ea(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new ce(vt.comparator);function Er(){return LN}const S1=new ce(vt.comparator);function gu(...e){let t=S1;for(const n of e)t=t.insert(n.key,n);return t}function R1(e){let t=S1;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ua(){return Su()}function x1(){return Su()}function Su(){return new ba(e=>e.toString(),(e,t)=>e.isEqual(t))}const UN=new ce(vt.comparator),BN=new Oe(vt.comparator);function Ut(...e){let t=BN;for(const n of e)t=t.add(n);return t}const jN=new Oe(Vt);function zN(){return jN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(t)?"-0":t}}function C1(e){return{integerValue:""+e}}function FN(e,t){return pN(t)?C1(t):fy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function HN(e,t,n){return e instanceof ju?function(a,l){const c={fields:{[c1]:{stringValue:u1},[f1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&oy(l)&&(l=Hf(l)),l&&(c.fields[h1]=l),{mapValue:c}}(n,t):e instanceof zu?D1(e,t):e instanceof Fu?M1(e,t):function(a,l){const c=I1(a,l),d=jE(c)+jE(a.Re);return eg(c)&&eg(a.Re)?C1(d):fy(a.serializer,d)}(e,t)}function qN(e,t,n){return e instanceof zu?D1(e,t):e instanceof Fu?M1(e,t):n}function I1(e,t){return e instanceof bf?function(r){return eg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class ju extends Kf{}class zu extends Kf{constructor(t){super(),this.elements=t}}function D1(e,t){const n=V1(t);for(const r of e.elements)n.some(a=>Ni(a,r))||n.push(r);return{arrayValue:{values:n}}}class Fu extends Kf{constructor(t){super(),this.elements=t}}function M1(e,t){let n=V1(t);for(const r of e.elements)n=n.filter(a=>!Ni(a,r));return{arrayValue:{values:n}}}class bf extends Kf{constructor(t,n){super(),this.serializer=t,this.Re=n}}function jE(e){return _e(e.integerValue||e.doubleValue)}function V1(e){return ly(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t,n){this.field=t,this.transform=n}}function KN(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof zu&&a instanceof zu||r instanceof Fu&&a instanceof Fu?Po(r.elements,a.elements,Ni):r instanceof bf&&a instanceof bf?Ni(r.Re,a.Re):r instanceof ju&&a instanceof ju}(e.transform,t.transform)}class YN{constructor(t,n){this.version=t,this.transformResults=n}}class xi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ef(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Yf{}function N1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new dy(e.key,xi.none()):new nc(e.key,e.data,xi.none());{const n=e.data,r=Gn.empty();let a=new Oe(Xe.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Aa(e.key,r,new ni(a.toArray()),xi.none())}}function $N(e,t,n){e instanceof nc?function(a,l,c){const d=a.value.clone(),m=FE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,n):e instanceof Aa?function(a,l,c){if(!ef(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=FE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(O1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function Ru(e,t,n,r){return e instanceof nc?function(l,c,d,m){if(!ef(l.precondition,c))return d;const p=l.value.clone(),y=HE(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof Aa?function(l,c,d,m){if(!ef(l.precondition,c))return d;const p=HE(l.fieldTransforms,m,c),y=c.data;return y.setAll(O1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(e,t,n,r):function(l,c,d){return ef(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(e,t,n)}function QN(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=I1(r.transform,a||null);l!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,l))}return n||null}function zE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Po(r,a,(l,c)=>KN(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nc extends Yf{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Aa extends Yf{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function O1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function FE(e,t,n){const r=new Map;Kt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);r.set(l.field,qN(c,d,n[a]))}return r}function HE(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,HN(l,c,t))}return r}class dy extends Yf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XN extends Yf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&$N(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ru(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ru(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=x1();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=N1(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,(n,r)=>zE(n,r))&&Po(this.baseMutations,t.baseMutations,(n,r)=>zE(n,r))}}class my{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Kt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let a=function(){return UN}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new my(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Ft;function tO(e){switch(e){case st.OK:return At(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return At(15467,{code:e})}}function P1(e){if(e===void 0)return Tr("GRPC error has no .code"),st.UNKNOWN;switch(e){case Se.OK:return st.OK;case Se.CANCELLED:return st.CANCELLED;case Se.UNKNOWN:return st.UNKNOWN;case Se.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Se.INTERNAL:return st.INTERNAL;case Se.UNAVAILABLE:return st.UNAVAILABLE;case Se.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Se.NOT_FOUND:return st.NOT_FOUND;case Se.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Se.ABORTED:return st.ABORTED;case Se.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Se.DATA_LOSS:return st.DATA_LOSS;default:return At(39323,{code:e})}}(Ft=Se||(Se={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new ls([4294967295,4294967295],0);function qE(e){const t=r1().encode(e),n=new Xw;return n.update(t),new Uint8Array(n.digest())}function GE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ls([n,r],0),new ls([a,l],0)]}class py{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(r<0)throw new yu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=ls.fromNumber(this.pe)}we(t,n,r){let a=t.add(n.multiply(ls.fromNumber(r)));return a.compare(eO)===1&&(a=new ls([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=qE(t),[r,a]=GE(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.Se(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new py(l,a,n);return r.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const n=qE(t),[r,a]=GE(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,ic.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new $f(xt.min(),a,new ce(Vt),Er(),Ut())}}class ic{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ic(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n,r,a){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=a}}class k1{constructor(t,n){this.targetId=t,this.Ce=n}}class L1{constructor(t,n,r=We.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class KE{constructor(){this.Fe=0,this.Me=YE(),this.xe=We.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ut(),n=Ut(),r=Ut();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:At(38017,{changeType:l})}}),new ic(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=YE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nO{constructor(t){this.ze=t,this.je=new Map,this.He=Er(),this.Je=Bh(),this.Ye=Bh(),this.Ze=new ce(Vt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(t){const n=t.targetId,r=t.Ce.count,a=this._t(n);if(a){const l=a.target;if(ig(l))if(r===0){const c=new vt(l.path);this.tt(n,c,rn.newNoDocument(c,xt.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const d=this.ct(t),m=d?this.lt(d,t,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=ps(r).toUint8Array()}catch(m){if(m instanceof l1)return Oo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new py(c,a,l)}catch(m){return Oo(m instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(n,l,null),a++)}),a}It(t){const n=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&ig(d.target)){const m=new vt(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,rn.newNoDocument(m,t))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let r=Ut();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new $f(t,n,this.Ze,this.He,r);return this.He=Er(),this.Je=Bh(),this.Ye=Bh(),this.Ze=new ce(Vt),a}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const a=this.rt(t);this.dt(t,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new KE,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Oe(Vt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Oe(Vt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new KE),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Bh(){return new ce(vt.comparator)}function YE(){return new ce(vt.comparator)}const iO={asc:"ASCENDING",desc:"DESCENDING"},rO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sO={and:"AND",or:"OR"};class aO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ag(e,t){return e.useProto3Json||Ff(t)?t:{value:t}}function Af(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function U1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function oO(e,t){return Af(e,t.toTimestamp())}function Ci(e){return Kt(!!e,49232),xt.fromTimestamp(function(n){const r=ms(n);return new Ne(r.seconds,r.nanos)}(e))}function gy(e,t){return og(e,t).canonicalString()}function og(e,t){const n=function(a){return new ie(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function B1(e){const t=ie.fromString(e);return Kt(q1(t),10190,{key:t.toString()}),t}function lg(e,t){return gy(e.databaseId,t.path)}function Tp(e,t){const n=B1(t);if(n.get(1)!==e.databaseId.projectId)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(z1(n))}function j1(e,t){return gy(e.databaseId,t)}function lO(e){const t=B1(e);return t.length===4?ie.emptyPath():z1(t)}function ug(e){return new ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function z1(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function $E(e,t,n){return{name:lg(e,t),fields:n.value.mapValue.fields}}function uO(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:At(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),We.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),We.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const y=p.code===void 0?st.UNKNOWN:P1(p.code);return new mt(y,p.message||"")}(c);n=new L1(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Tp(e,r.document.name),l=Ci(r.document.updateTime),c=r.document.createTime?Ci(r.document.createTime):xt.min(),d=new Gn({mapValue:{fields:r.document.fields}}),m=rn.newFoundDocument(a,l,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new nf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Tp(e,r.document),l=r.readTime?Ci(r.readTime):xt.min(),c=rn.newNoDocument(a,l),d=r.removedTargetIds||[];n=new nf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Tp(e,r.document),l=r.removedTargetIds||[];n=new nf([],l,a,null)}else{if(!("filter"in t))return At(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new JN(a,l),d=r.targetId;n=new k1(d,c)}}return n}function cO(e,t){let n;if(t instanceof nc)n={update:$E(e,t.key,t.value)};else if(t instanceof dy)n={delete:lg(e,t.key)};else if(t instanceof Aa)n={update:$E(e,t.key,t.data),updateMask:_O(t.fieldMask)};else{if(!(t instanceof XN))return At(16599,{ft:t.type});n={verify:lg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof ju)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bf)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw At(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:oO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:At(27497)}(e,t.precondition)),n}function hO(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map(n=>function(a,l){let c=a.updateTime?Ci(a.updateTime):Ci(l);return c.isEqual(xt.min())&&(c=Ci(l)),new YN(c,a.transformResults||[])}(n,t))):[]}function fO(e,t){return{documents:[j1(e,t.path)]}}function dO(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=j1(e,a);const l=function(p){if(p.length!==0)return H1(ri.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:To(b.field),direction:gO(b.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ag(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:n,parent:a}}function mO(e){let t=lO(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Kt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(T){const b=F1(T);return b instanceof ri&&v1(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(b=>function(V){return new Bu(Eo(V.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(b))}(n.orderBy));let d=null;n.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,Ff(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(T){const b=!!T.before,x=T.values||[];return new Ef(x,b)}(n.startAt));let p=null;return n.endAt&&(p=function(T){const b=!T.before,x=T.values||[];return new Ef(x,b)}(n.endAt)),NN(t,a,c,l,d,"F",m,p)}function pO(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function F1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eo(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Eo(n.unaryFilter.field);return xe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(n.unaryFilter.field);return xe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eo(n.unaryFilter.field);return xe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(e):e.fieldFilter!==void 0?function(n){return xe.create(Eo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>F1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(n.compositeFilter.op))}(e):At(30097,{filter:e})}function gO(e){return iO[e]}function yO(e){return rO[e]}function vO(e){return sO[e]}function To(e){return{fieldPath:e.canonicalString()}}function Eo(e){return Xe.fromServerFormat(e.fieldPath)}function H1(e){return e instanceof xe?function(n){if(n.op==="=="){if(PE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:yO(n.op),value:n.value}}}(e):e instanceof ri?function(n){const r=n.getFilters().map(a=>H1(a));return r.length===1?r[0]:{compositeFilter:{op:vO(n.op),filters:r}}}(e):At(54877,{filter:e})}function _O(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function q1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,r,a,l=xt.min(),c=xt.min(),d=We.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new ss(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t){this.wt=t}}function EO(e){const t=mO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?sg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.Cn=new AO}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(ds.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(ds.min())}updateCollectionGroup(t,n,r){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class AO{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new Oe(ie.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Oe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G1=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(G1,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Uo(0)}static lr(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="LruGarbageCollector",wO=1048576;function WE([e,t],[n,r]){const a=Vt(e,n);return a===0?Vt(t,r):a}class SO{constructor(t){this.Er=t,this.buffer=new Oe(WE),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RO{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){dt(XE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?dt(XE,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.mr(3e5)})}}class xO{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return it.resolve(zf.le);const r=new SO(n);return this.gr.forEachTarget(t,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.gr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(QE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let r,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a))).next(T=>(r=T,d=Date.now(),this.removeTargets(t,r,n))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(p=Date.now(),vo()<=Lt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function CO(e,t){return new xO(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.changes=new ba(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?it.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&Ru(r.mutation,a,ni.empty(),Ne.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ut()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ut()){const a=ua();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=gu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=ua();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ut()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(t,n,r,a){let l=Er();const c=Su(),d=function(){return Su()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Aa)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ru(y.mutation,p,y.mutation.getFieldMask(),Ne.now())):c.set(p.key,ni.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var T;return d.set(p,new DO(y,(T=c.get(p))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(t,n){const r=Su();let a=new ce((c,d)=>c-d),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||ni.empty();y=d.applyToLocalView(p,y),r.set(m,y);const T=(a.get(d.batchId)||Ut()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,T=x1();y.forEach(b=>{if(!l.has(b)){const x=N1(n.get(b),r.get(b));x!==null&&T.set(b,x),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,T))}return it.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):b1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):it.resolve(ua());let d=Pu,m=l;return c.next(p=>it.forEach(p,(y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Ut())).next(y=>({batchId:d,changes:R1(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(r=>{let a=gu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=gu();return this.indexManager.getCollectionParents(t,l).next(d=>it.forEach(d,m=>{const p=function(T,b){return new Zo(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))});let d=gu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Ru(y.mutation,p,ni.empty(),Ne.now()),Gf(n,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return it.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}}(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(a){return{name:a.name,query:EO(a.bundledQuery),readTime:Ci(a.readTime)}}(n)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.overlays=new ce(vt.comparator),this.Qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ua();return it.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.bt(t,n,l)}),it.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),it.resolve()}getOverlaysForCollection(t,n,r){const a=ua(),l=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return it.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new ce((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ua(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ua(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return it.resolve(d)}bt(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new ZN(n,r));let l=this.Qr.get(n);l===void 0&&(l=Ut(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.$r=new Oe(ze.Ur),this.Kr=new Oe(ze.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const r=new ze(t,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.zr(new ze(t,n))}jr(t,n){t.forEach(r=>this.removeReference(r,n))}Hr(t){const n=new vt(new ie([])),r=new ze(n,t),a=new ze(n,t+1),l=[];return this.Kr.forEachInRange([r,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new vt(new ie([])),r=new ze(n,t),a=new ze(n,t+1);let l=Ut();return this.Kr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new ze(t,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return vt.comparator(t.key,n.key)||Vt(t.Zr,n.Zr)}static Wr(t,n){return Vt(t.Zr,n.Zr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Oe(ze.Ur)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WN(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new ze(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?ay:this.nr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ze(n,0),a=new ze(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],c=>{const d=this.ei(c.Zr);l.push(d)}),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Oe(Vt);return n.forEach(a=>{const l=new ze(a,0),c=new ze(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{r=r.add(d.Zr)})}),it.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;vt.isDocumentKey(l)||(l=l.child(""));const c=new ze(new vt(l),0);let d=new Oe(Vt);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Zr)),!0)},c),it.resolve(this.ni(d))}ni(t){const n=[];return t.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Kt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return it.forEach(n.mutations,a=>{const l=new ze(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,n){const r=new ze(n,0),a=this.Xr.firstAfterOrEqual(r);return it.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.ii=t,this.docs=function(){return new ce(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return it.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let r=Er();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():rn.newInvalidDocument(a))}),it.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Er();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||hN(cN(y),r)<=0||(a.has(y.key)||Gf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,r,a){At(9500)}si(t,n){return it.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new LO(this)}getSize(t){return it.resolve(this.size)}}class LO extends IO{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(t,a)):this.Br.removeEntry(r)}),it.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t){this.persistence=t,this.oi=new ba(n=>uy(n),cy),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this._i=0,this.ai=new yy,this.targetCount=0,this.ui=Uo.cr()}forEachTarget(t,n){return this.oi.forEach((r,a)=>n(a)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),it.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Uo(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Tr(n),it.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),it.waitFor(l).next(()=>a)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const r=this.oi.get(n)||null;return it.resolve(r)}addMatchingKeys(t,n,r){return this.ai.Gr(n,r),it.resolve()}removeMatchingKeys(t,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ai.Yr(n);return it.resolve(r)}containsKey(t,n){return it.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,n){this.ci={},this.overlays={},this.li=new zf(0),this.hi=!1,this.hi=!0,this.Pi=new OO,this.referenceDelegate=t(this),this.Ti=new UO(this),this.indexManager=new bO,this.remoteDocumentCache=function(a){return new kO(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new TO(n),this.Ei=new VO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new NO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ci[t.toKey()];return r||(r=new PO(n,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,r){dt("MemoryPersistence","Starting transaction:",t);const a=new BO(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(t,n){return it.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,n)))}}class BO extends dN{constructor(t){super(),this.currentSequenceNumber=t}}class vy{constructor(t){this.persistence=t,this.Vi=new yy,this.mi=null}static fi(t){return new vy(t)}get gi(){if(this.mi)return this.mi;throw At(60996)}addReference(t,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),it.resolve()}removeReference(t,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.gi,r=>{const a=vt.fromPath(r);return this.pi(t,a).next(l=>{l||n.removeEntry(a,xt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return it.or([()=>it.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class wf{constructor(t,n){this.persistence=t,this.yi=new ba(r=>gN(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=CO(this,n)}static fi(t,n){return new wf(t,n)}di(){}Ai(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}Sr(t){let n=0;return this.yr(t,r=>{n++}).next(()=>n)}yr(t,n){return it.forEach(this.yi,(r,a)=>this.Dr(t,r,a).next(l=>l?it.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,n).next(d=>{d||(r++,l.removeEntry(c,xt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),it.resolve()}removeReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),it.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Jh(t.data.value)),n}Dr(t,n,r){return it.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.yi.get(n);return it.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.ds=r,this.As=a}static Rs(t,n){let r=Ut(),a=Ut();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new _y(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return P2()?8:mN(an())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.ws(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Ss(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new jO;return this.bs(t,n,c).next(d=>{if(l.result=d,this.fs)return this.Ds(t,n,c,d.size)})}).next(()=>l.result)}Ds(t,n,r,a){return r.documentReadCount<this.gs?(vo()<=Lt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),it.resolve()):(vo()<=Lt.DEBUG&&dt("QueryEngine","Query:",_o(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(vo()<=Lt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(n))):it.resolve())}ws(t,n){if(BE(n))return it.resolve(null);let r=Ri(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=sg(n,null,"F"),r=Ri(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Ut(...l);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.vs(n,d);return this.Cs(n,p,c,m.readTime)?this.ws(t,sg(n,null,"F")):this.Fs(t,p,n,m)}))})))}Ss(t,n,r,a){return BE(n)||a.isEqual(xt.min())?it.resolve(null):this.ys.getDocuments(t,r).next(l=>{const c=this.vs(n,l);return this.Cs(n,c,r,a)?it.resolve(null):(vo()<=Lt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_o(n)),this.Fs(t,c,n,uN(a,Pu)).next(d=>d))})}vs(t,n){let r=new Oe(w1(t));return n.forEach((a,l)=>{Gf(t,l)&&(r=r.add(l))}),r}Cs(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(t,n,r){return vo()<=Lt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ys.getDocumentsMatchingQuery(t,n,ds.min(),r)}Fs(t,n,r,a){return this.ys.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LocalStore",FO=3e8;class HO{constructor(t,n,r,a){this.persistence=t,this.Ms=n,this.serializer=a,this.xs=new ce(Vt),this.Os=new ba(l=>uy(l),cy),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function qO(e,t,n,r){return new HO(e,t,n,r)}async function Y1(e,t){const n=It(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=Ut();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function GO(e,t){const n=It(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const T=p.batch,b=T.keys();let x=it.resolve();return b.forEach(V=>{x=x.next(()=>y.getEntry(m,V)).next(U=>{const N=p.docVersions.get(V);Kt(N!==null,48541),U.version.compareTo(N)<0&&(T.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Ut();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function $1(e){const t=It(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function KO(e,t){const n=It(e),r=t.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const d=[];t.targetChanges.forEach((y,T)=>{const b=a.get(T);if(!b)return;d.push(n.Ti.removeMatchingKeys(l,y.removedDocuments,T).next(()=>n.Ti.addMatchingKeys(l,y.addedDocuments,T)));let x=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(We.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),a=a.insert(T,x),function(U,N,F){return U.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=FO?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(b,x,y)&&d.push(n.Ti.updateTargetData(l,x))});let m=Er(),p=Ut();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(YO(l,c,t.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!r.isEqual(xt.min())){const y=n.Ti.getLastRemoteSnapshotVersion(l).next(T=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(y)}return it.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.xs=a,l))}function YO(e,t,n){let r=Ut(),a=Ut();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=Er();return n.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(xt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):dt(Ty,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function $O(e,t){const n=It(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=ay),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function QO(e,t){const n=It(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,t).next(l=>l?(a=l,it.resolve(a)):n.Ti.allocateTargetId(r).next(c=>(a=new ss(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(t,r.targetId)),r})}async function cg(e,t,n){const r=It(e),a=r.xs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Wo(c))throw c;dt(Ty,`Failed to update sequence numbers for target ${t}: ${c}`)}r.xs=r.xs.remove(t),r.Os.delete(a.target)}function ZE(e,t,n){const r=It(e);let a=xt.min(),l=Ut();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const T=It(m),b=T.Os.get(y);return b!==void 0?it.resolve(T.xs.get(b)):T.Ti.getTargetData(p,y)}(r,c,Ri(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,t,n?a:xt.min(),n?l:Ut())).next(d=>(XO(r,PN(t),d),{documents:d,$s:l})))}function XO(e,t,n){let r=e.Ns.get(t)||xt.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.Ns.set(t,r)}class JE{constructor(){this.activeTargetIds=zN()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class WO{constructor(){this.xo=new JE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,r){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new JE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="ConnectivityMonitor";class eb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dt(tb,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){dt(tb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function hg(){return jh===null?jh=function(){return 268435456+Math.round(2147483648*Math.random())}():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="RestConnection",JO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tP{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===_f?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(t,n,r,a,l){const c=hg(),d=this.jo(t,n.toUriEncodedString());dt(Ep,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(d),y=Ko(p);return this.Jo(t,d,m,r,y).then(T=>(dt(Ep,`Received RPC '${t}' ${c}: `,T),T),T=>{throw Oo(Ep,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",r),T})}Yo(t,n,r,a,l,c){return this.zo(t,n,r,a,l)}Ho(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}jo(t,n){const r=JO[t];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class nP extends tP{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,a,l){const c=hg();return new Promise((d,m)=>{const p=new Ww;p.setWithCredentials(!0),p.listenOnce(Zw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zh.NO_ERROR:const T=p.getResponseJson();dt(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case Zh.TIMEOUT:dt(en,`RPC '${t}' ${c} timed out`),m(new mt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const b=p.getStatus();if(dt(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x==null?void 0:x.error;if(V&&V.status&&V.message){const U=function(F){const K=F.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(K)>=0?K:st.UNKNOWN}(V.status);m(new mt(U,V.message))}else m(new mt(st.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new mt(st.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{dt(en,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(a);dt(en,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)})}T_(t,n,r){const a=hg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=e1(),d=t1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");dt(en,`Creating RPC '${t}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);let b=!1,x=!1;const V=new eP({Zo:N=>{x?dt(en,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(b||(dt(en,`Opening RPC '${t}' stream ${a} transport.`),T.open(),b=!0),dt(en,`RPC '${t}' stream ${a} sending:`,N),T.send(N))},Xo:()=>T.close()}),U=(N,F,K)=>{N.listen(F,$=>{try{K($)}catch(at){setTimeout(()=>{throw at},0)}})};return U(T,pu.EventType.OPEN,()=>{x||(dt(en,`RPC '${t}' stream ${a} transport opened.`),V.__())}),U(T,pu.EventType.CLOSE,()=>{x||(x=!0,dt(en,`RPC '${t}' stream ${a} transport closed`),V.u_())}),U(T,pu.EventType.ERROR,N=>{x||(x=!0,Oo(en,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),V.u_(new mt(st.UNAVAILABLE,"The operation could not be completed")))}),U(T,pu.EventType.MESSAGE,N=>{var F;if(!x){const K=N.data[0];Kt(!!K,16349);const $=K,at=($==null?void 0:$.error)||((F=$[0])===null||F===void 0?void 0:F.error);if(at){dt(en,`RPC '${t}' stream ${a} received error:`,at);const J=at.status;let ft=function(C){const O=Se[C];if(O!==void 0)return P1(O)}(J),D=at.message;ft===void 0&&(ft=st.INTERNAL,D="Unknown error status: "+J+" with message "+at.message),x=!0,V.u_(new mt(ft,D)),T.close()}else dt(en,`RPC '${t}' stream ${a} received:`,K),V.c_(K)}}),U(d,Jw.STAT_EVENT,N=>{N.stat===Zp.PROXY?dt(en,`RPC '${t}' stream ${a} detected buffering proxy`):N.stat===Zp.NOPROXY&&dt(en,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(e){return new aO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,n,r=1e3,a=1.5,l=6e4){this.xi=t,this.timerId=n,this.I_=r,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),a=Math.max(0,n-r);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="PersistentStream";class X1{constructor(t,n,r,a,l,c,d,m){this.xi=t,this.y_=r,this.w_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Q1(t,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.S_===n&&this.K_(r,a)},r=>{t(()=>{const a=new mt(st.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(a)})})}K_(t,n){const r=this.U_(this.S_);this.stream=this.G_(t,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.W_(a))}),this.stream.onMessage(a=>{r(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return dt(nb,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return n=>{this.xi.enqueueAndForget(()=>this.S_===t?n():(dt(nb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iP extends X1{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}G_(t,n){return this.connection.T_("Listen",t,n)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const n=uO(this.serializer,t),r=function(l){if(!("targetChange"in l))return xt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?Ci(c.readTime):xt.min()}(t);return this.listener.j_(n,r)}H_(t){const n={};n.database=ug(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=ig(m)?{documents:fO(l,m)}:{query:dO(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=U1(l,c.resumeToken);const p=ag(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(xt.min())>0){d.readTime=Af(l,c.snapshotVersion.toTimestamp());const p=ag(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const r=pO(this.serializer,t);r&&(n.labels=r),this.L_(n)}J_(t){const n={};n.database=ug(this.serializer),n.removeTarget=t,this.L_(n)}}class rP extends X1{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,n){return this.connection.T_("Write",t,n)}z_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const n=hO(t.writeResults,t.commitTime),r=Ci(t.commitTime);return this.listener.ea(r,n)}ta(){const t={};t.database=ug(this.serializer),this.L_(t)}Z_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>cO(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{}class aP extends sP{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.na=!1}ra(){if(this.na)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,r,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(t,og(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(st.UNKNOWN,l.toString())})}Yo(t,n,r,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,og(n,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(st.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class oP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Tr(n),this.oa=!1):dt("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class lP{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(c=>{r.enqueueAndForget(async()=>{wa(this)&&(dt(va,"Restarting streams for network reachability change."),await async function(m){const p=It(m);p.Ta.add(4),await rc(p),p.da.set("Unknown"),p.Ta.delete(4),await Xf(p)}(this))})}),this.da=new oP(r,a)}}async function Xf(e){if(wa(e))for(const t of e.Ia)await t(!0)}async function rc(e){for(const t of e.Ia)await t(!1)}function W1(e,t){const n=It(e);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),wy(n)?Ay(n):Jo(n).M_()&&by(n,t))}function Ey(e,t){const n=It(e),r=Jo(n);n.Pa.delete(t),r.M_()&&Z1(n,t),n.Pa.size===0&&(r.M_()?r.N_():wa(n)&&n.da.set("Unknown"))}function by(e,t){if(e.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Jo(e).H_(t)}function Z1(e,t){e.Aa.Ke(t),Jo(e).J_(t)}function Ay(e){e.Aa=new nO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Pa.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Jo(e).start(),e.da._a()}function wy(e){return wa(e)&&!Jo(e).F_()&&e.Pa.size>0}function wa(e){return It(e).Ta.size===0}function J1(e){e.Aa=void 0}async function uP(e){e.da.set("Online")}async function cP(e){e.Pa.forEach((t,n)=>{by(e,t)})}async function hP(e,t){J1(e),wy(e)?(e.da.ca(t),Ay(e)):e.da.set("Unknown")}async function fP(e,t,n){if(e.da.set("Online"),t instanceof L1&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Pa.delete(d),a.Aa.removeTarget(d))}(e,t)}catch(r){dt(va,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Sf(e,r)}else if(t instanceof nf?e.Aa.Xe(t):t instanceof k1?e.Aa.ot(t):e.Aa.nt(t),!n.isEqual(xt.min()))try{const r=await $1(e.localStore);n.compareTo(r)>=0&&await function(l,c){const d=l.Aa.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Pa.get(p);y&&l.Pa.set(p,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const y=l.Pa.get(m);if(!y)return;l.Pa.set(m,y.withResumeToken(We.EMPTY_BYTE_STRING,y.snapshotVersion)),Z1(l,m);const T=new ss(y.target,m,p,y.sequenceNumber);by(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)}catch(r){dt(va,"Failed to raise snapshot:",r),await Sf(e,r)}}async function Sf(e,t,n){if(!Wo(t))throw t;e.Ta.add(1),await rc(e),e.da.set("Offline"),n||(n=()=>$1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{dt(va,"Retrying IndexedDB access"),await n(),e.Ta.delete(1),await Xf(e)})}function tS(e,t){return t().catch(n=>Sf(e,n,t))}async function Wf(e){const t=It(e),n=ys(t);let r=t.ha.length>0?t.ha[t.ha.length-1].batchId:ay;for(;dP(t);)try{const a=await $O(t.localStore,r);if(a===null){t.ha.length===0&&n.N_();break}r=a.batchId,mP(t,a)}catch(a){await Sf(t,a)}eS(t)&&nS(t)}function dP(e){return wa(e)&&e.ha.length<10}function mP(e,t){e.ha.push(t);const n=ys(e);n.M_()&&n.Y_&&n.Z_(t.mutations)}function eS(e){return wa(e)&&!ys(e).F_()&&e.ha.length>0}function nS(e){ys(e).start()}async function pP(e){ys(e).ta()}async function gP(e){const t=ys(e);for(const n of e.ha)t.Z_(n.mutations)}async function yP(e,t,n){const r=e.ha.shift(),a=my.from(r,t,n);await tS(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Wf(e)}async function vP(e,t){t&&ys(e).Y_&&await async function(r,a){if(function(c){return tO(c)&&c!==st.ABORTED}(a.code)){const l=r.ha.shift();ys(r).O_(),await tS(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Wf(r)}}(e,t),eS(e)&&nS(e)}async function ib(e,t){const n=It(e);n.asyncQueue.verifyOperationInProgress(),dt(va,"RemoteStore received new credentials");const r=wa(n);n.Ta.add(3),await rc(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await Xf(n)}async function _P(e,t){const n=It(e);t?(n.Ta.delete(2),await Xf(n)):t||(n.Ta.add(2),await rc(n),n.da.set("Unknown"))}function Jo(e){return e.Ra||(e.Ra=function(n,r,a){const l=It(n);return l.ra(),new iP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{e_:uP.bind(null,e),n_:cP.bind(null,e),i_:hP.bind(null,e),j_:fP.bind(null,e)}),e.Ia.push(async t=>{t?(e.Ra.O_(),wy(e)?Ay(e):e.da.set("Unknown")):(await e.Ra.stop(),J1(e))})),e.Ra}function ys(e){return e.Va||(e.Va=function(n,r,a){const l=It(n);return l.ra(),new rP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:pP.bind(null,e),i_:vP.bind(null,e),X_:gP.bind(null,e),ea:yP.bind(null,e)}),e.Ia.push(async t=>{t?(e.Va.O_(),await Wf(e)):(await e.Va.stop(),e.ha.length>0&&(dt(va,`Stopping write stream with ${e.ha.length} pending writes`),e.ha=[]))})),e.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,d=new Sy(t,n,c,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(e,t){if(Tr("AsyncQueue",`${t}: ${e}`),Wo(e))return new mt(st.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(t){return new Mo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=gu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.ma=new ce(vt.comparator)}track(t){const n=t.doc.key,r=this.ma.get(n);r?t.type!==0&&r.type===3?this.ma=this.ma.insert(n,t):t.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ma=this.ma.remove(n):t.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):At(63341,{Vt:t,fa:r}):this.ma=this.ma.insert(n,t)}ga(){const t=[];return this.ma.inorderTraversal((n,r)=>{t.push(r)}),t}}class Bo{constructor(t,n,r,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Bo(t,n,Mo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class EP{constructor(){this.queries=sb(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const a=It(n),l=a.queries;a.queries=sb(),l.forEach((c,d)=>{for(const m of d.ya)m.onError(r)})})(this,new mt(st.ABORTED,"Firestore shutting down"))}}function sb(){return new ba(e=>A1(e),qf)}async function iS(e,t){const n=It(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.wa()&&t.Sa()&&(r=2):(l=new TP,r=t.Sa()?0:1);try{switch(r){case 0:l.pa=await n.onListen(a,!0);break;case 1:l.pa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Ry(c,`Initialization of query '${_o(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ya.push(t),t.Da(n.onlineState),l.pa&&t.va(l.pa)&&xy(n)}async function rS(e,t){const n=It(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ya.indexOf(t);c>=0&&(l.ya.splice(c,1),l.ya.length===0?a=t.Sa()?0:1:!l.wa()&&t.Sa()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bP(e,t){const n=It(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ya)d.va(a)&&(r=!0);c.pa=a}}r&&xy(n)}function AP(e,t,n){const r=It(e),a=r.queries.get(t);if(a)for(const l of a.ya)l.onError(n);r.queries.delete(t)}function xy(e){e.ba.forEach(t=>{t.next()})}var fg,ab;(ab=fg||(fg={})).Ca="default",ab.Cache="cache";class sS{constructor(t,n,r){this.query=t,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),n=!0):this.Na(t,this.onlineState)&&(this.Ba(t),n=!0),this.xa=t,n}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),n=!0),n}Na(t,n){if(!t.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(t){t=Bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t){this.key=t}}class oS{constructor(t){this.key=t}}class wP{constructor(t,n){this.query=t,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ut(),this.mutatedKeys=Ut(),this.Ha=w1(t),this.Ja=new Mo(this.Ha)}get Ya(){return this.Ga}Za(t,n){const r=n?n.Xa:new rb,a=n?n.Ja:this.Ja;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,T)=>{const b=a.get(y),x=Gf(this.query,T)?T:null,V=!!b&&this.mutatedKeys.has(b.key),U=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;b&&x?b.data.isEqual(x.data)?V!==U&&(r.track({type:3,doc:x}),N=!0):this.eu(b,x)||(r.track({type:2,doc:x}),N=!0,(m&&this.Ha(x,m)>0||p&&this.Ha(x,p)<0)&&(d=!0)):!b&&x?(r.track({type:0,doc:x}),N=!0):b&&!x&&(r.track({type:1,doc:b}),N=!0,(m||p)&&(d=!0)),N&&(x?(c=c.add(x),l=U?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Ja:c,Xa:r,Cs:d,mutatedKeys:l}}eu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const c=t.Xa.ga();c.sort((y,T)=>function(x,V){const U=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:N})}};return U(x)-U(V)}(y.type,T.type)||this.Ha(y.doc,T.doc)),this.tu(r),a=a!=null&&a;const d=n&&!a?this.nu():[],m=this.ja.size===0&&this.current&&!a?1:0,p=m!==this.za;return this.za=m,c.length!==0||p?{snapshot:new Bo(this.query,t.Ja,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new rb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Ut(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return t.forEach(r=>{this.ja.has(r)||n.push(new oS(r))}),this.ja.forEach(r=>{t.has(r)||n.push(new aS(r))}),n}su(t){this.Ga=t.$s,this.ja=Ut();const n=this.Za(t.documents);return this.applyChanges(n,!0)}ou(){return Bo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Cy="SyncEngine";class SP{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class RP{constructor(t){this.key=t,this._u=!1}}class xP{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new ba(d=>A1(d),qf),this.cu=new Map,this.lu=new Set,this.hu=new ce(vt.comparator),this.Pu=new Map,this.Tu=new yy,this.Iu={},this.Eu=new Map,this.du=Uo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function CP(e,t,n=!0){const r=dS(e);let a;const l=r.uu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await lS(r,t,n,!0),a}async function IP(e,t){const n=dS(e);await lS(n,t,!0,!1)}async function lS(e,t,n,r){const a=await QO(e.localStore,Ri(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await DP(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&W1(e.remoteStore,a),d}async function DP(e,t,n,r,a){e.Ru=(T,b,x)=>async function(U,N,F,K){let $=N.view.Za(F);$.Cs&&($=await ZE(U.localStore,N.query,!1).then(({documents:D})=>N.view.Za(D,$)));const at=K&&K.targetChanges.get(N.targetId),J=K&&K.targetMismatches.get(N.targetId)!=null,ft=N.view.applyChanges($,U.isPrimaryClient,at,J);return lb(U,N.targetId,ft.ru),ft.snapshot}(e,T,b,x);const l=await ZE(e.localStore,t,!0),c=new wP(t,l.$s),d=c.Za(l.documents),m=ic.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);lb(e,n,p.ru);const y=new SP(t,n,c);return e.uu.set(t,y),e.cu.has(n)?e.cu.get(n).push(t):e.cu.set(n,[t]),p.snapshot}async function MP(e,t,n){const r=It(e),a=r.uu.get(t),l=r.cu.get(a.targetId);if(l.length>1)return r.cu.set(a.targetId,l.filter(c=>!qf(c,t))),void r.uu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await cg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Ey(r.remoteStore,a.targetId),dg(r,a.targetId)}).catch(Xo)):(dg(r,a.targetId),await cg(r.localStore,a.targetId,!0))}async function VP(e,t){const n=It(e),r=n.uu.get(t),a=n.cu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ey(n.remoteStore,r.targetId))}async function NP(e,t,n){const r=jP(e);try{const a=await function(c,d){const m=It(c),p=Ne.now(),y=d.reduce((x,V)=>x.add(V.key),Ut());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let V=Er(),U=Ut();return m.Bs.getEntries(x,y).next(N=>{V=N,V.forEach((F,K)=>{K.isValidDocument()||(U=U.add(F))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,V)).next(N=>{T=N;const F=[];for(const K of d){const $=QN(K,T.get(K.key).overlayedDocument);$!=null&&F.push(new Aa(K.key,$,p1($.value.mapValue),xi.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,F,d)}).next(N=>{b=N;const F=N.applyToLocalDocumentSet(T,U);return m.documentOverlayCache.saveOverlays(x,N.batchId,F)})}).then(()=>({batchId:b.batchId,changes:R1(T)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Iu[c.currentUser.toKey()];p||(p=new ce(Vt)),p=p.insert(d,m),c.Iu[c.currentUser.toKey()]=p}(r,a.batchId,n),await sc(r,a.changes),await Wf(r.remoteStore)}catch(a){const l=Ry(a,"Failed to persist write");n.reject(l)}}async function uS(e,t){const n=It(e);try{const r=await KO(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Pu.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?Kt(c._u,14607):a.removedDocuments.size>0&&(Kt(c._u,42227),c._u=!1))}),await sc(n,r,t)}catch(r){await Xo(r)}}function ob(e,t,n){const r=It(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.uu.forEach((l,c)=>{const d=c.view.Da(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=It(c);m.onlineState=d;let p=!1;m.queries.forEach((y,T)=>{for(const b of T.ya)b.Da(d)&&(p=!0)}),p&&xy(m)}(r.eventManager,t),a.length&&r.au.j_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function OP(e,t,n){const r=It(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Pu.get(t),l=a&&a.key;if(l){let c=new ce(vt.comparator);c=c.insert(l,rn.newNoDocument(l,xt.min()));const d=Ut().add(l),m=new $f(xt.min(),new Map,new ce(Vt),c,d);await uS(r,m),r.hu=r.hu.remove(l),r.Pu.delete(t),Iy(r)}else await cg(r.localStore,t,!1).then(()=>dg(r,t,n)).catch(Xo)}async function PP(e,t){const n=It(e),r=t.batch.batchId;try{const a=await GO(n.localStore,t);hS(n,r,null),cS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sc(n,a)}catch(a){await Xo(a)}}async function kP(e,t,n){const r=It(e);try{const a=await function(c,d){const m=It(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(T=>(Kt(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);hS(r,t,n),cS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sc(r,a)}catch(a){await Xo(a)}}function cS(e,t){(e.Eu.get(t)||[]).forEach(n=>{n.resolve()}),e.Eu.delete(t)}function hS(e,t,n){const r=It(e);let a=r.Iu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Iu[r.currentUser.toKey()]=a}}function dg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.cu.get(t))e.uu.delete(r),n&&e.au.Vu(r,n);e.cu.delete(t),e.isPrimaryClient&&e.Tu.Hr(t).forEach(r=>{e.Tu.containsKey(r)||fS(e,r)})}function fS(e,t){e.lu.delete(t.path.canonicalString());const n=e.hu.get(t);n!==null&&(Ey(e.remoteStore,n),e.hu=e.hu.remove(t),e.Pu.delete(n),Iy(e))}function lb(e,t,n){for(const r of n)r instanceof aS?(e.Tu.addReference(r.key,t),LP(e,r)):r instanceof oS?(dt(Cy,"Document no longer in limbo: "+r.key),e.Tu.removeReference(r.key,t),e.Tu.containsKey(r.key)||fS(e,r.key)):At(19791,{mu:r})}function LP(e,t){const n=t.key,r=n.path.canonicalString();e.hu.get(n)||e.lu.has(r)||(dt(Cy,"New document in limbo: "+n),e.lu.add(r),Iy(e))}function Iy(e){for(;e.lu.size>0&&e.hu.size<e.maxConcurrentLimboResolutions;){const t=e.lu.values().next().value;e.lu.delete(t);const n=new vt(ie.fromString(t)),r=e.du.next();e.Pu.set(r,new RP(n)),e.hu=e.hu.insert(n,r),W1(e.remoteStore,new ss(Ri(hy(n.path)),r,"TargetPurposeLimboResolution",zf.le))}}async function sc(e,t,n){const r=It(e),a=[],l=[],c=[];r.uu.isEmpty()||(r.uu.forEach((d,m)=>{c.push(r.Ru(m,t,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const T=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(p){a.push(p);const T=_y.Rs(m.targetId,p);l.push(T)}}))}),await Promise.all(c),r.au.j_(a),await async function(m,p){const y=It(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>it.forEach(p,b=>it.forEach(b.ds,x=>y.persistence.referenceDelegate.addReference(T,b.targetId,x)).next(()=>it.forEach(b.As,x=>y.persistence.referenceDelegate.removeReference(T,b.targetId,x)))))}catch(T){if(!Wo(T))throw T;dt(Ty,"Failed to update sequence numbers: "+T)}for(const T of p){const b=T.targetId;if(!T.fromCache){const x=y.xs.get(b),V=x.snapshotVersion,U=x.withLastLimboFreeSnapshotVersion(V);y.xs=y.xs.insert(b,U)}}}(r.localStore,l))}async function UP(e,t){const n=It(e);if(!n.currentUser.isEqual(t)){dt(Cy,"User change. New user:",t.toKey());const r=await Y1(n.localStore,t);n.currentUser=t,function(l,c){l.Eu.forEach(d=>{d.forEach(m=>{m.reject(new mt(st.CANCELLED,c))})}),l.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await sc(n,r.ks)}}function BP(e,t){const n=It(e),r=n.Pu.get(t);if(r&&r._u)return Ut().add(r.key);{let a=Ut();const l=n.cu.get(t);if(!l)return a;for(const c of l){const d=n.uu.get(c);a=a.unionWith(d.view.Ya)}return a}}function dS(e){const t=It(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OP.bind(null,t),t.au.j_=bP.bind(null,t.eventManager),t.au.Vu=AP.bind(null,t.eventManager),t}function jP(e){const t=It(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kP.bind(null,t),t}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qf(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,n){return null}bu(t,n){return null}wu(t){return qO(this.persistence,new zO,t.initialUser,this.serializer)}yu(t){return new K1(vy.fi,this.serializer)}pu(t){return new WO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class zP extends Rf{constructor(t){super(),this.cacheSizeBytes=t}Su(t,n){Kt(this.persistence.referenceDelegate instanceof wf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RO(r,t.asyncQueue,n)}yu(t){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new K1(r=>wf.fi(r,n),this.serializer)}}class mg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ob(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UP.bind(null,this.syncEngine),await _P(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new EP}()}createDatastore(t){const n=Qf(t.databaseInfo.databaseId),r=function(l){return new nP(l)}(t.databaseInfo);return function(l,c,d,m){return new aP(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,d){return new lP(r,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,n=>ob(this.syncEngine,n,0),function(){return eb.C()?new eb:new ZO}())}createSyncEngine(t,n){return function(a,l,c,d,m,p,y){const T=new xP(a,l,c,d,m,p);return y&&(T.Au=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=It(a);dt(va,"RemoteStore shutting down."),l.Ta.add(5),await rc(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mg.provider={build:()=>new mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):Tr("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class FP{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=s1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{dt(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(dt(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ry(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Ap(e,t){e.asyncQueue.verifyOperationInProgress(),dt(vs,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await Y1(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ub(e,t){e.asyncQueue.verifyOperationInProgress();const n=await HP(e);dt(vs,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>ib(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>ib(t.remoteStore,a)),e._onlineComponents=t}async function HP(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(vs,"Using user provided OfflineComponentProvider");try{await Ap(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await Ap(e,new Rf)}}else dt(vs,"Using default OfflineComponentProvider"),await Ap(e,new zP(void 0));return e._offlineComponents}async function pS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(vs,"Using user provided OnlineComponentProvider"),await ub(e,e._uninitializedComponentsProvider._online)):(dt(vs,"Using default OnlineComponentProvider"),await ub(e,new mg))),e._onlineComponents}function qP(e){return pS(e).then(t=>t.syncEngine)}async function pg(e){const t=await pS(e),n=t.eventManager;return n.onListen=CP.bind(null,t.syncEngine),n.onUnlisten=MP.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=VP.bind(null,t.syncEngine),n}function GP(e,t,n={}){const r=new us;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const y=new mS({next:b=>{y.Cu(),c.enqueueAndForget(()=>rS(l,T)),b.fromCache&&m.source==="server"?p.reject(new mt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new sS(d,y,{includeMetadataChanges:!0,La:!0});return iS(l,T)}(await pg(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(e,t,n){if(!n)throw new mt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function KP(e,t,n,r){if(t===!0&&r===!0)throw new mt(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function hb(e){if(!vt.isDocumentKey(e))throw new mt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function fb(e){if(vt.isDocumentKey(e))throw new mt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Zf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":At(12329,{type:typeof e})}function cs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zf(e);throw new mt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firestore.googleapis.com",db=!0;class mb{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vS,this.ssl=db}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:db;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=G1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wO)throw new mt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jf{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tN;switch(r.type){case"firstParty":return new rN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new mt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cb.get(n);r&&(dt("ComponentProvider","Removing Datastore"),cb.delete(n),r.terminate())}(this),Promise.resolve()}}function YP(e,t,n,r={}){var a;e=cs(e,Jf);const l=Ko(t),c=e._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:e._getEmulatorOptions()}),m=`${t}:${n}`;l&&(qg(`https://${m}`),Gg("Firestore",!0)),c.host!==vS&&c.host!==m&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!pa(p,d)&&(e._setSettings(p),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=nn.MOCK_USER;else{y=dw(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new mt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(b)}e._authCredentials=new eN(new i1(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Es(this.firestore,t,this._query)}}class Cn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cn(this.firestore,t,this._key)}}class hs extends Es{constructor(t,n,r){super(t,n,hy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cn(this.firestore,null,new vt(t))}withConverter(t){return new hs(this.firestore,t,this._path)}}function wp(e,t,...n){if(e=fn(e),yS("collection","path",t),e instanceof Jf){const r=ie.fromString(t,...n);return fb(r),new hs(e,null,r)}{if(!(e instanceof Cn||e instanceof hs))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ie.fromString(t,...n));return fb(r),new hs(e.firestore,null,r)}}function $P(e,t,...n){if(e=fn(e),arguments.length===1&&(t=s1.newId()),yS("doc","path",t),e instanceof Jf){const r=ie.fromString(t,...n);return hb(r),new Cn(e,null,new vt(r))}{if(!(e instanceof Cn||e instanceof hs))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ie.fromString(t,...n));return hb(r),new Cn(e.firestore,e instanceof hs?e.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="AsyncQueue";class gb{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Q1(this,"async_queue_retry"),this.ec=()=>{const r=bp();r&&dt(pb,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=t;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const n=new us;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!Wo(t))throw t;dt(pb,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const n=this.tc.then(()=>(this.Yu=!0,t().catch(r=>{throw this.Ju=r,this.Yu=!1,Tr("INTERNAL UNHANDLED ERROR: ",yb(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(t,n,r){this.nc(),this.Xu.indexOf(t)>-1&&(n=0);const a=Sy.createAndSchedule(this,t,n,r,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&At(47125,{_c:yb(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const n of this.Hu)if(n.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const n=this.Hu.indexOf(t);this.Hu.splice(n,1)}}function yb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(e,["next","error","complete"])}class jo extends Jf{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new gb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gb(t),this._firestoreClient=void 0,await t}}}function QP(e,t){const n=typeof e=="object"?e:$g(),r=typeof e=="string"?e:_f,a=Uf(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=cw("firestore");l&&YP(a,...l)}return a}function Dy(e){if(e._terminated)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||XP(e),e._firestoreClient}function XP(e){var t,n,r;const a=e._freezeSettings(),l=function(d,m,p,y){return new _N(d,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,gS(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new FP(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zo(We.fromBase64String(t))}catch(n){throw new mt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zo(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=/^__.*__$/;class ZP{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Aa(t,this.data,this.fieldMask,n,this.fieldTransforms):new nc(t,this.data,n,this.fieldTransforms)}}function _S(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{hc:e})}}class Py{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new Py(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Tc({path:r,Ec:!1});return a.dc(t),a}Ac(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Tc({path:r,Ec:!1});return a.Pc(),a}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return xf(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(_S(this.hc)&&WP.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class JP{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Qf(t)}gc(t,n,r,a=!1){return new Py({hc:t,methodName:n,fc:r,path:Xe.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TS(e){const t=e._freezeSettings(),n=Qf(e._databaseId);return new JP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tk(e,t,n,r,a,l={}){const c=e.gc(l.merge||l.mergeFields?2:0,t,n,a);AS("Data must be an object, but it was:",c,r);const d=ES(r,c);let m,p;if(l.merge)m=new ni(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const b=nk(t,T,n);if(!c.contains(b))throw new mt(st.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);rk(y,b)||y.push(b)}m=new ni(y),p=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,p=c.fieldTransforms;return new ZP(new Gn(d),m,p)}class ky extends Vy{_toFieldTransform(t){return new GN(t.path,new ju)}isEqual(t){return t instanceof ky}}function ek(e,t,n,r=!1){return Ly(n,e.gc(r?4:3,t))}function Ly(e,t){if(bS(e=fn(e)))return AS("Unsupported field value:",t,e),ES(e,t);if(e instanceof Vy)return function(r,a){if(!_S(a.hc))throw a.Vc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let m=Ly(d,a.Rc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FN(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ne.fromDate(r);return{timestampValue:Af(a.serializer,l)}}if(r instanceof Ne){const l=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Af(a.serializer,l)}}if(r instanceof Ny)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:U1(a.serializer,r._byteString)};if(r instanceof Cn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:gy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Oy)return function(c,d){return{mapValue:{fields:{[d1]:{stringValue:m1},[Tf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Vc("VectorValues must only contain numeric values.");return fy(d.serializer,p)})}}}}}}(r,a);throw a.Vc(`Unsupported field value: ${Zf(r)}`)}(e,t)}function ES(e,t){const n={};return o1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ea(e,(r,a)=>{const l=Ly(a,t.Ic(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function bS(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ne||e instanceof Ny||e instanceof zo||e instanceof Cn||e instanceof Vy||e instanceof Oy)}function AS(e,t,n){if(!bS(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Zf(n);throw r==="an object"?t.Vc(e+" a custom object"):t.Vc(e+" "+r)}}function nk(e,t,n){if((t=fn(t))instanceof My)return t._internalPath;if(typeof t=="string")return wS(e,t);throw xf("Field path arguments must be of type string or ",e,!1,void 0,n)}const ik=new RegExp("[~\\*/\\[\\]]");function wS(e,t,n){if(t.search(ik)>=0)throw xf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new My(...t.split("."))._internalPath}catch{throw xf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new mt(st.INVALID_ARGUMENT,d+e+m)}function rk(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(td("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sk extends SS{data(){return super.data()}}function td(e,t){return typeof t=="string"?wS(e,t):t instanceof My?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new mt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uy{}class xS extends Uy{}function _b(e,t,...n){let r=[];t instanceof Uy&&r.push(t),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof By).length,d=l.filter(m=>m instanceof ed).length;if(c>1||c>0&&d>0)throw new mt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)e=a._apply(e);return e}class ed extends xS{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new ed(t,n,r)}_apply(t){const n=this._parse(t);return CS(t._query,n),new Es(t.firestore,t.converter,rg(t._query,n))}_parse(t){const n=TS(t.firestore);return function(l,c,d,m,p,y,T){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new mt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Eb(T,y);const V=[];for(const U of T)V.push(Tb(m,l,U));b={arrayValue:{values:V}}}else b=Tb(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Eb(T,y),b=ek(d,c,T,y==="in"||y==="not-in");return xe.create(p,y,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Sp(e,t,n){const r=t,a=td("where",e);return ed._create(a,r,n)}class By extends Uy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new By(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)CS(c,m),c=rg(c,m)}(t._query,n),new Es(t.firestore,t.converter,rg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jy extends xS{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new jy(t,n)}_apply(t){const n=function(a,l,c){if(a.startAt!==null)throw new mt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new mt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(l,c)}(t._query,this._field,this._direction);return new Es(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Zo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,n))}}function ak(e,t="asc"){const n=t,r=td("orderBy",e);return jy._create(r,n)}function Tb(e,t,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new mt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b1(t)&&n.indexOf("/")!==-1)throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ie.fromString(n));if(!vt.isDocumentKey(r))throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NE(e,new vt(r))}if(n instanceof Cn)return NE(e,n._key);throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(n)}.`)}function Eb(e,t){if(!Array.isArray(e)||e.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CS(e,t){const n=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ok{convertValue(t,n="none"){switch(gs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ps(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ea(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[Tf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>_e(c.doubleValue));return new Oy(l)}convertGeoPoint(t){return new Ny(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Hf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ku(t));default:return null}}convertTimestamp(t){const n=ms(t);return new Ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ie.fromString(t);Kt(q1(r),9688,{name:t});const a=new Lu(r.get(1),r.get(3)),l=new vt(r.popFirst(5));return a.isEqual(n)||Tr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class IS extends SS{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(td("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rf extends IS{data(t={}){return super.data(t)}}class DS{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new vu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new rf(this._firestore,this._userDataWriter,r.key,r,new vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new rf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new rf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:uk(d.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:e})}}class zy extends ok{constructor(t){super(),this.firestore=t}convertBytes(t){return new zo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function ck(e){e=cs(e,Es);const t=cs(e.firestore,jo),n=Dy(t),r=new zy(t);return RS(e._query),GP(n,e._query).then(a=>new DS(t,r,e,a))}function hk(e){return MS(cs(e.firestore,jo),[new dy(e._key,xi.none())])}function fk(e,t){const n=cs(e.firestore,jo),r=$P(e),a=lk(e.converter,t);return MS(n,[tk(TS(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function dk(e,...t){var n,r,a;e=fn(e);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||vb(t[c])||(l=t[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(vb(t[c])){const T=t[c];t[c]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[c+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),t[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let m,p,y;if(e instanceof Cn)p=cs(e.firestore,jo),y=hy(e._key.path),m={next:T=>{t[c]&&t[c](mk(p,e,T))},error:t[c+1],complete:t[c+2]};else{const T=cs(e,Es);p=cs(T.firestore,jo),y=T._query;const b=new zy(p);m={next:x=>{t[c]&&t[c](new DS(p,b,T,x))},error:t[c+1],complete:t[c+2]},RS(e._query)}return function(b,x,V,U){const N=new mS(U),F=new sS(x,N,V);return b.asyncQueue.enqueueAndForget(async()=>iS(await pg(b),F)),()=>{N.Cu(),b.asyncQueue.enqueueAndForget(async()=>rS(await pg(b),F))}}(Dy(p),y,d,m)}function MS(e,t){return function(r,a){const l=new us;return r.asyncQueue.enqueueAndForget(async()=>NP(await qP(r),a,l)),l.promise}(Dy(e),t)}function mk(e,t,n){const r=n.docs.get(t._key),a=new zy(e);return new IS(e,a,t._key,r,new vu(n.hasPendingWrites,n.fromCache),t.converter)}function pk(){return new ky("serverTimestamp")}(function(t,n=!0){(function(a){Qo=a})(Ta),ga(new fs("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new jo(new nN(r.getProvider("auth-internal")),new sN(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new mt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ai(EE,bE,t),Ai(EE,bE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firebasestorage.googleapis.com",gk="storageBucket",yk=2*60*1e3,vk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ki{constructor(t,n,r=0){super(Rp(t),`Firebase Storage: ${n} (${Rp(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Li.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Rp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oi;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oi||(Oi={}));function Rp(e){return"storage/"+e}function _k(){const e="An unknown error occurred, please check the error payload for server response.";return new Li(Oi.UNKNOWN,e)}function Tk(){return new Li(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ek(){return new Li(Oi.CANCELED,"User canceled the upload/download.")}function bk(e){return new Li(Oi.INVALID_URL,"Invalid URL '"+e+"'.")}function Ak(e){return new Li(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function bb(e){return new Li(Oi.INVALID_ARGUMENT,e)}function NS(){return new Li(Oi.APP_DELETED,"The Firebase app was deleted.")}function wk(e){return new Li(Oi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ii.makeFromUrl(t,n)}catch{return new ii(t,"")}if(r.path==="")return r;throw Ak(t)}static makeFromUrl(t,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(at){at.path.charAt(at.path.length-1)==="/"&&(at.path_=at.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(at){at.path_=decodeURIComponent(at.path)}const y="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${T}/${y}/b/${a}/o${b}`,"i"),V={bucket:1,path:3},U=n===VS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",F=new RegExp(`^https?://${U}/${a}/${N}`,"i"),$=[{regex:d,indices:m,postModify:l},{regex:x,indices:V,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let at=0;at<$.length;at++){const J=$[at],ft=J.regex.exec(t);if(ft){const D=ft[J.indices.bucket];let S=ft[J.indices.path];S||(S=""),r=new ii(D,S),J.postModify(r);break}}if(r==null)throw bk(t);return r}}class Sk{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(e,t,n){let r=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function y(...N){p||(p=!0,t.apply(null,N))}function T(N){a=setTimeout(()=>{a=null,e(x,m())},N)}function b(){l&&clearTimeout(l)}function x(N,...F){if(p){b();return}if(N){b(),y.call(null,N,...F);return}if(m()||c){b(),y.call(null,N,...F);return}r<64&&(r*=2);let $;d===1?(d=2,$=0):$=(r+Math.random())*1e3,T($)}let V=!1;function U(N){V||(V=!0,b(),!p&&(a!==null?(N||(d=2),clearTimeout(a),T(0)):N||(d=1)))}return T(0),l=setTimeout(()=>{c=!0,U(!0)},n),U}function xk(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(e){return e!==void 0}function Ab(e,t,n,r){if(r<t)throw bb(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw bb(`Invalid value for '${e}'. Expected ${n} or less.`)}function Ik(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const a=t(r)+"="+t(e[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Cf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Cf||(Cf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t,n,r,a,l,c,d,m,p,y,T,b=!0,x=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=T,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,U)=>{this.resolve_=V,this.reject_=U,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new zh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Cf.NO_ERROR,m=l.getStatus();if(!d||Dk(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Cf.ABORT;r(!1,new zh(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new zh(p,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());Ck(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=_k();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?NS():Ek();c(m)}else{const m=Tk();c(m)}};this.canceled_?n(!1,new zh(!1,null,!0)):this.backoffId_=Rk(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&xk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Vk(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Nk(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Ok(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Pk(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function kk(e,t,n,r,a,l,c=!0,d=!1){const m=Ik(e.urlParams),p=e.url+m,y=Object.assign({},e.headers);return Ok(y,t),Vk(y,n),Nk(y,l),Pk(y,r),new Mk(p,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Uk(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n){this._service=t,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new If(t,n)}get root(){const t=new ii(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Uk(this._location.path)}get storage(){return this._service}get parent(){const t=Lk(this._location.path);if(t===null)return null;const n=new ii(this._location.bucket,t);return new If(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw wk(t)}}function wb(e,t){const n=t==null?void 0:t[gk];return n==null?null:ii.makeFromBucketSpec(n,e)}function Bk(e,t,n,r={}){e.host=`${t}:${n}`;const a=Ko(t);a&&(qg(`https://${e.host}`),Gg("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(e._overrideAuthToken=typeof l=="string"?l:dw(l,e.app.options.projectId))}class jk{constructor(t,n,r,a,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=VS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yk,this._maxUploadRetryTime=vk,this._requests=new Set,a!=null?this._bucket=ii.makeFromBucketSpec(a,this._host):this._bucket=wb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,t):this._bucket=wb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Ab("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Ab("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new If(this,t)}_makeRequest(t,n,r,a,l=!0){if(this._deleted)return new Sk(NS());{const c=kk(t,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,a).getPromise()}}const Sb="@firebase/storage",Rb="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="storage";function zk(e=$g(),t){e=fn(e);const r=Uf(e,OS).getImmediate({identifier:t}),a=cw("storage");return a&&Fk(r,...a),r}function Fk(e,t,n,r={}){Bk(e,t,n,r)}function Hk(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new jk(n,r,a,t,Ta)}function qk(){ga(new fs(OS,Hk,"PUBLIC").setMultipleInstances(!0)),Ai(Sb,Rb,""),Ai(Sb,Rb,"esm2017")}qk();const PS={apiKey:"your-api-key",authDomain:"your-project.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"123456789",appId:"your-app-id"},Fy=gw(PS),xb=XV(Fy),xp=QP(Fy);zk(Fy);const kS=new hr;kS.addScope("profile");kS.addScope("email");const LS=new bu("apple.com");LS.addScope("email");LS.addScope("name");const Gk=()=>PS.apiKey!=="your-api-key",Kk=["badword1","badword2","inappropriate"],Yk=[/\b\d{3}-\d{4}-\d{4}\b/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,/\bhttps?:\/\/[^\s]+/gi],$k=e=>{let t=e,n=!1;return Kk.forEach(r=>{const a=new RegExp(r,"gi");a.test(t)&&(t=t.replace(a,"*".repeat(r.length)),n=!0)}),Yk.forEach(r=>{r.test(t)&&(t=t.replace(r,"[Censored]"),n=!0)}),{filteredMessage:t,hasViolation:n}},Qk=async(e,t,n,r)=>{const a={reportedUserId:e,reporterUserId:t,reason:n,messageId:r,timestamp:new Date,status:"pending"};return console.log("Report submitted:",a),a};class cr{constructor(){this.userLocation=null,this.watchId=null,this.locationOptions={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4}}async getCurrentPosition(){return new Promise((t,n)=>{if(!navigator.geolocation){n({error:"GEOLOCATION_NOT_SUPPORTED",message:"This browser does not support location services."});return}navigator.geolocation.getCurrentPosition(r=>{const a={latitude:r.coords.latitude,longitude:r.coords.longitude,accuracy:r.coords.accuracy,timestamp:Date.now()};this.userLocation=a,t(a)},r=>{let a="";switch(r.code){case r.PERMISSION_DENIED:a="Location access denied. Please allow location permission in your browser settings.";break;case r.POSITION_UNAVAILABLE:a="Current location cannot be found.";break;case r.TIMEOUT:a="Location request timed out.";break;default:a="An unknown error occurred.";break}n({error:"GEOLOCATION_ERROR",code:r.code,message:a})},this.locationOptions)})}startWatchingLocation(t){if(!navigator.geolocation){t({error:"GEOLOCATION_NOT_SUPPORTED",message:"This browser does not support location services."});return}return this.watchId=navigator.geolocation.watchPosition(n=>{const r={latitude:n.coords.latitude,longitude:n.coords.longitude,accuracy:n.coords.accuracy,timestamp:Date.now()};this.hasLocationChanged(r,10)&&(this.userLocation=r,t({success:!0,location:r}))},n=>{t({error:"GEOLOCATION_ERROR",code:n.code,message:"An error occurred during location tracking."})},this.locationOptions),this.watchId}stopWatchingLocation(){this.watchId!==null&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null)}hasLocationChanged(t,n=10){return this.userLocation?cr.calculateDistance(this.userLocation.latitude,this.userLocation.longitude,t.latitude,t.longitude)*1e3>=n:!0}static calculateDistance(t,n,r,a){const c=cr.toRadians(r-t),d=cr.toRadians(a-n),m=Math.sin(c/2)*Math.sin(c/2)+Math.cos(cr.toRadians(t))*Math.cos(cr.toRadians(r))*Math.sin(d/2)*Math.sin(d/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}static toRadians(t){return t*(Math.PI/180)}static isWithinRadius(t,n,r,a,l=1){return this.calculateDistance(t,n,r,a)<=l}static generateGeohash(t,n,r=7){const a="0123456789bcdefghjkmnpqrstuvwxyz";let l=0,c=0,d=!0,m="",p=-90,y=90,T=-180,b=180;for(;m.length<r;){if(d){const x=(T+b)/2;n>=x?(l=(l<<1)+1,T=x):(l=l<<1,b=x)}else{const x=(p+y)/2;t>=x?(l=(l<<1)+1,p=x):(l=l<<1,y=x)}d=!d,++c===5&&(m+=a[l],c=0,l=0)}return m}static getChatRoomId(t,n){const a=Math.floor(t/.009),l=Math.floor(n/.009);return`room_${a}_${l}`}getCurrentGeohash(t=7){return this.userLocation?cr.generateGeohash(this.userLocation.latitude,this.userLocation.longitude,t):null}static anonymizeLocation(t,n,r=100){const a=(Math.random()-.5)*(r/111e3),l=(Math.random()-.5)*(r/(111e3*Math.cos(t*Math.PI/180)));return{latitude:t+a,longitude:n+l}}getLocationStatus(){var t;return{hasLocation:this.userLocation!==null,isWatching:this.watchId!==null,location:this.userLocation,geohash:this.getCurrentGeohash(),lastUpdate:(t=this.userLocation)==null?void 0:t.timestamp}}async checkLocationPermission(){if(!navigator.permissions)return{state:"unknown"};try{const t=await navigator.permissions.query({name:"geolocation"});return{state:t.state,permission:t}}catch(t){return{state:"unknown",error:t.message}}}}const Xk=new cr,Wk=()=>Xk.getCurrentPosition(),Zk=(e,t)=>cr.getChatRoomId(e,t),Jk=e=>e>=1e3?{effect:"✨👑✨",color:"#FFD700"}:e>=500?{effect:"⭐",color:"#FF69B4"}:e>=300?{effect:"💎",color:"#00CED1"}:e>=100?{effect:"🔥",color:"#FF4500"}:{effect:"",color:""},Cb="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20fill='%23228BE6'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='24px'%20height='24px'%3e%3cpath%20d='M12,2C6.477,2,2,6.477,2,12c0,5.523,4.477,10,10,10s10-4.477,10-10C22,6.477,17.523,2,12,2z%20M17.707,9.707l-7,7%20C10.512,16.902,10.256,17,10,17s-0.512-0.098-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414s1.023-0.391,1.414,0L10,14.586%20l6.293-6.293c0.391-0.391,1.023-0.391,1.414,0S18.098,9.316,17.707,9.707z'/%3e%3c/svg%3e",t4=({user:e,onLogout:t})=>{const[n,r]=B.useState([]),[a,l]=B.useState(""),[c,d]=B.useState(null),[m,p]=B.useState(null),[y,T]=B.useState(!0),[b,x]=B.useState(""),[V,U]=B.useState(0),[N,F]=B.useState(!0),[K,$]=B.useState([!1,!1,!1]),at=B.useRef(null),J=B.useRef(null),ft=[{title:"Impersonation Warning",text:"Anyone claiming to be an administrator or cyber investigation officer is an imposter."},{title:"Scam Warning",text:"Anyone sharing Telegram / WhatsApp / LINE / WeChat / Kakao without conversation is a scammer."},{title:"Scam Warning",text:"All adult web site promotions are scams."}],D=K.every(R=>R),S=R=>{const pt=[...K];pt[R]=!pt[R],$(pt)};B.useEffect(()=>{(async()=>{try{const pt=await Wk();d(pt);const ht=Zk(pt.latitude,pt.longitude);p(ht),T(!1)}catch(pt){console.error("Location error:",pt),x("Unable to get location information. Please allow location permission."),T(!1)}})()},[]),B.useEffect(()=>{if(!m)return;const R=_b(wp(xp,"messages"),Sp("chatRoomId","==",m),ak("timestamp","asc")),pt=dk(R,ht=>{const X=[];ht.forEach(tt=>{var Ct;const lt=tt.data();X.push({id:tt.id,...lt,timestamp:((Ct=lt.timestamp)==null?void 0:Ct.toDate())||new Date})}),r(X),setTimeout(()=>{at.current&&(at.current.scrollTop=at.current.scrollHeight)},50)});return()=>pt()},[m]),B.useEffect(()=>{if(!m)return;const R=setInterval(async()=>{const pt=new Date(Date.now()-36e5),ht=_b(wp(xp,"messages"),Sp("chatRoomId","==",m),Sp("timestamp","<",pt));try{const tt=(await ck(ht)).docs.map(lt=>hk(lt.ref));await Promise.all(tt)}catch(X){console.error("Cleanup error:",X)}},5*60*1e3);return()=>clearInterval(R)},[m]),B.useEffect(()=>{const R=()=>{setTimeout(()=>{J.current&&J.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},100),setTimeout(()=>{var ht;if(J.current){const X=J.current.getBoundingClientRect(),tt=((ht=window.visualViewport)==null?void 0:ht.height)||window.innerHeight,lt=X.bottom;lt>tt-50&&window.scrollBy({top:lt-tt+100,behavior:"smooth"})}},300)},pt=()=>{setTimeout(()=>{document.activeElement===J.current&&R()},100)};return J.current&&J.current.addEventListener("focus",R),window.visualViewport?window.visualViewport.addEventListener("resize",pt):window.addEventListener("resize",pt),()=>{J.current&&J.current.removeEventListener("focus",R),window.visualViewport?window.visualViewport.removeEventListener("resize",pt):window.removeEventListener("resize",pt)}},[]),B.useEffect(()=>{const R=()=>{U(Math.floor(Math.random()*46)+5)};R();const pt=setInterval(R,3e4);return()=>clearInterval(pt)},[]);const C=async()=>{if(a.trim()==="")return;const{filteredMessage:R,hasViolation:pt}=$k(a);if(e.uid.startsWith("guest_")||!m){const ht={id:"local_"+Date.now(),text:R,nickname:e.nickname,userId:e.uid,timestamp:new Date,hasViolation:pt,likeCount:0,dislikeCount:0,likedBy:[],dislikedBy:[],isBlueCheck:e.isBlueCheck||!1,color:e.color||"#58a6ff"};r(X=>[...X,ht]),l(""),setTimeout(()=>{at.current&&(at.current.scrollTop=at.current.scrollHeight)},50);return}try{await fk(wp(xp,"messages"),{text:R,nickname:e.nickname,userId:e.uid,chatRoomId:m,location:{latitude:c.latitude,longitude:c.longitude},timestamp:pk(),hasViolation:pt,likeCount:0,dislikeCount:0,likedBy:[],dislikedBy:[],isBlueCheck:e.isBlueCheck||!1,color:e.color||"#58a6ff"}),l("")}catch(ht){console.error("Send message error:",ht),x("Failed to send message.")}},O=async R=>{try{r(pt=>pt.map(ht=>{if(ht.id!==R)return ht;const X=ht.likedBy||[],tt=ht.dislikedBy||[],lt=e.uid;if(X.includes(lt))return{...ht,likedBy:X.filter(M=>M!==lt),likeCount:Math.max(0,(ht.likeCount||0)-1)};{const M=tt.filter(ct=>ct!==lt),rt=tt.includes(lt)?-1:0;return{...ht,likedBy:[...X,lt],dislikedBy:M,likeCount:(ht.likeCount||0)+1,dislikeCount:Math.max(0,(ht.dislikeCount||0)+rt)}}})),console.log("Like message:",R)}catch(pt){console.error("Like error:",pt)}},L=async R=>{try{r(pt=>pt.map(ht=>{if(ht.id!==R)return ht;const X=ht.likedBy||[],tt=ht.dislikedBy||[],lt=e.uid;if(tt.includes(lt))return{...ht,dislikedBy:tt.filter(M=>M!==lt),dislikeCount:Math.max(0,(ht.dislikeCount||0)-1)};{const M=X.filter(ct=>ct!==lt),rt=X.includes(lt)?-1:0;return{...ht,dislikedBy:[...tt,lt],likedBy:M,dislikeCount:(ht.dislikeCount||0)+1,likeCount:Math.max(0,(ht.likeCount||0)+rt)}}})),console.log("Dislike message:",R)}catch(pt){console.error("Dislike error:",pt)}},j=async(R,pt)=>{try{await Qk(pt,e.uid,"inappropriate_content",R),alert("Report has been submitted.")}catch(ht){console.error("Report error:",ht),alert("Failed to submit report.")}};return y?k.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"white"},children:k.jsx("p",{children:"Checking location..."})}):b?k.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#ff4444"},children:[k.jsx("p",{children:b}),k.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",backgroundColor:"#58a6ff",color:"white",border:"none",borderRadius:"4px"},children:"Retry"})]}):k.jsxs("div",{className:"chat-layout",style:{display:"flex",flexDirection:"column",minHeight:"100dvh",height:"100dvh",width:"100%",backgroundColor:"#0d1117",position:"fixed",top:0,left:0,right:0,bottom:0,overflowY:"hidden"},children:[k.jsxs("div",{className:"chat-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 1rem",backgroundColor:"#161b22",borderBottom:"1px solid #21262d",flexShrink:0,minHeight:"50px",zIndex:1e3},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1,minWidth:0},children:[k.jsxs("h2",{style:{margin:0,color:"white",fontSize:"1.1rem",truncate:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"120px"},children:[e.nickname,e.isBlueCheck&&k.jsx("img",{src:Cb,alt:"Blue Check",style:{width:"16px",height:"16px",marginLeft:"6px"}})]}),k.jsxs("div",{style:{backgroundColor:"#58a6ff",color:"white",padding:"0.25rem 0.6rem",borderRadius:"10px",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"0.3rem",whiteSpace:"nowrap"},children:[k.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#00ff00",borderRadius:"50%",animation:"pulse 2s infinite"}}),V," online"]})]}),k.jsx("button",{onClick:t,style:{padding:"0.75rem 1.25rem",backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",minHeight:"44px",minWidth:"60px",touchAction:"manipulation"},children:"Exit"})]}),k.jsx("div",{ref:at,className:"chat-messages",style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:window.innerWidth<=768?"0.5rem":"1rem",backgroundColor:"#0d1117",WebkitOverflowScrolling:"touch",minHeight:0,paddingBottom:"1rem"},children:n.length===0?k.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"#8b949e",fontSize:"1.1rem"},children:"Start chatting with users within 1km around you!"}):n.map(R=>{const pt=Jk(R.likeCount||0);return k.jsxs("div",{style:{marginBottom:window.innerWidth<=768?"0.3rem":"0.4rem",padding:window.innerWidth<=768?"0.4rem 0.6rem":"0.3rem 0.5rem",backgroundColor:"#161b22",borderRadius:window.innerWidth<=768?"12px":"8px",border:"1px solid #21262d",maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.2rem",flexWrap:"wrap",gap:"0.2rem"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.jsxs("strong",{style:{color:R.color||"#58a6ff",fontSize:window.innerWidth<=768?"1rem":"0.95rem"},children:[pt.effect,R.nickname,pt.effect]}),R.isBlueCheck&&k.jsx("img",{src:Cb,alt:"Blue Check",style:{width:"16px",height:"16px"}})]}),k.jsx("span",{style:{fontSize:"0.8rem",color:"#8b949e"},children:R.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),k.jsx("div",{style:{color:"#f0f6fc",marginBottom:"0.3rem",lineHeight:window.innerWidth<=768?"1.4":"1.3",fontSize:window.innerWidth<=768?"1rem":"0.9rem",wordBreak:"break-word",hyphens:"auto"},children:R.text}),k.jsxs("div",{style:{display:"flex",gap:window.innerWidth<=768?"0.5rem":"0.3rem",fontSize:"0.75rem",flexWrap:"wrap",justifyContent:"flex-start"},children:[(()=>{const ht=(R.likedBy||[]).includes(e.uid),X=(R.dislikedBy||[]).includes(e.uid);return k.jsxs(k.Fragment,{children:[k.jsxs("button",{onClick:()=>O(R.id,R.likeCount||0),style:{background:ht?"#58a6ff20":"none",border:ht?"1px solid #58a6ff":"1px solid transparent",color:ht?"#58a6ff":"#8b949e",cursor:"pointer",padding:window.innerWidth<=768?"0.4rem 0.6rem":"0.2rem 0.4rem",borderRadius:"8px",transition:"all 0.2s",fontWeight:ht?"bold":"normal",minHeight:window.innerWidth<=768?"44px":"28px",minWidth:window.innerWidth<=768?"60px":"50px",touchAction:"manipulation",fontSize:window.innerWidth<=768?"1rem":"0.9rem"},onMouseOver:tt=>tt.target.style.backgroundColor=ht?"#58a6ff30":"#21262d",onMouseOut:tt=>tt.target.style.backgroundColor=ht?"#58a6ff20":"transparent",children:["👍 ",R.likeCount||0]}),k.jsxs("button",{onClick:()=>L(R.id,R.dislikeCount||0),style:{background:X?"#f8514920":"none",border:X?"1px solid #f85149":"1px solid transparent",color:X?"#f85149":"#8b949e",cursor:"pointer",padding:window.innerWidth<=768?"0.4rem 0.6rem":"0.2rem 0.4rem",borderRadius:"8px",transition:"all 0.2s",fontWeight:X?"bold":"normal",minHeight:window.innerWidth<=768?"44px":"28px",minWidth:window.innerWidth<=768?"60px":"50px",touchAction:"manipulation",fontSize:window.innerWidth<=768?"1rem":"0.9rem"},onMouseOver:tt=>tt.target.style.backgroundColor=X?"#f8514930":"#21262d",onMouseOut:tt=>tt.target.style.backgroundColor=X?"#f8514920":"transparent",children:["👎 ",R.dislikeCount||0]})]})})(),k.jsx("button",{onClick:()=>j(R.id,R.userId),style:{background:"none",border:"1px solid transparent",color:"#ff7b72",cursor:"pointer",padding:window.innerWidth<=768?"0.4rem 0.6rem":"0.2rem 0.4rem",borderRadius:"8px",transition:"background-color 0.2s",minHeight:window.innerWidth<=768?"44px":"28px",minWidth:window.innerWidth<=768?"70px":"55px",touchAction:"manipulation",fontSize:window.innerWidth<=768?"1rem":"0.9rem"},onMouseOver:ht=>ht.target.style.backgroundColor="#21262d",onMouseOut:ht=>ht.target.style.backgroundColor="transparent",children:"Report"})]})]},R.id)})}),k.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#2f2f2f",borderRadius:window.innerWidth<=768?"24px":"20px",border:"none",padding:window.innerWidth<=768?"0.3rem 0.8rem":"0.2rem 0.6rem",minHeight:window.innerWidth<=768?"50px":"44px",margin:window.innerWidth<=768?"0.5rem":"0.5rem 0.75rem",position:"sticky",bottom:(window.innerWidth<=768,"max(0.5rem, env(keyboard-inset-height, 0px))"),zIndex:1e3,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.05)",backgroundClip:"padding-box",WebkitBackgroundClip:"padding-box",transform:"translateZ(0)",willChange:"transform",flexShrink:0},children:[k.jsx("input",{ref:J,type:"text",placeholder:N?"Please acknowledge safety warnings first...":"Message ChitChat",value:a,onChange:R=>l(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),N||C())},disabled:N,style:{flex:1,padding:window.innerWidth<=768?"0.3rem 0.5rem":"0.2rem 0.4rem",backgroundColor:"transparent",color:N?"#8b949e":"#ececf1",border:"none",borderRadius:"0",fontSize:(window.innerWidth<=768,"16px"),outline:"none",cursor:N?"not-allowed":"text",resize:"none",fontFamily:"inherit"}}),k.jsx("button",{onClick:C,disabled:N||!a.trim(),style:{padding:window.innerWidth<=768?"0.6rem":"0.5rem",backgroundColor:N||!a.trim()?"#565869":"#19c37d",color:"white",border:"none",borderRadius:window.innerWidth<=768?"22px":"18px",cursor:N||!a.trim()?"not-allowed":"pointer",fontSize:window.innerWidth<=768?"1.1rem":"1rem",fontWeight:"600",transition:"all 0.2s ease",minWidth:window.innerWidth<=768?"44px":"30px",minHeight:window.innerWidth<=768?"44px":"30px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:window.innerWidth<=768?"0.6rem":"0.5rem",touchAction:"manipulation"},onMouseOver:R=>{!N&&a.trim()&&(R.target.style.backgroundColor="#0fa968")},onMouseOut:R=>{!N&&a.trim()&&(R.target.style.backgroundColor="#19c37d")},children:"↑"})]}),N&&k.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},children:k.jsxs("div",{style:{backgroundColor:"black",borderRadius:"12px",padding:"1.5rem",maxWidth:"400px",width:"100%",maxHeight:"70vh",overflowY:"auto",border:"2px solid #ffffff",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)",fontFamily:"Poppins, sans-serif"},children:[k.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[k.jsx("h2",{style:{color:"#ffffff",fontSize:"1.2rem",fontWeight:"bold",margin:0,marginBottom:"0.5rem",fontFamily:"Poppins, sans-serif"},children:"DISCLOSURE"}),k.jsx("p",{style:{color:"#cccccc",fontSize:"0.9rem",margin:0,fontFamily:"Poppins, sans-serif"},children:"Please read these important safety notices before chatting"})]}),ft.map((R,pt)=>k.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"1rem 0",borderBottom:pt<ft.length-1?"1px solid #333333":"none",cursor:"pointer",transition:"background-color 0.2s ease"},onClick:()=>S(pt),onMouseOver:ht=>ht.target.style.backgroundColor="#2a2a2a",onMouseOut:ht=>ht.target.style.backgroundColor="transparent",children:[k.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:K[pt]?"none":"2px solid #666666",backgroundColor:K[pt]?"#007AFF":"transparent",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"1rem",transition:"all 0.2s ease"},children:K[pt]&&k.jsx("span",{style:{color:"white",fontSize:"12px",fontWeight:"bold"},children:"✓"})}),k.jsxs("div",{style:{flex:1},children:[k.jsx("div",{style:{fontSize:"0.95rem",fontWeight:"500",color:"#ffffff",lineHeight:"1.3",fontFamily:"Poppins, sans-serif"},children:R.title}),k.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"normal",lineHeight:"1.4",color:"#999999",marginTop:"0.3rem",fontFamily:"Poppins, sans-serif"},children:R.text})]}),k.jsx("div",{style:{fontSize:"0.8rem",color:"#FF3B30",fontWeight:"600",marginLeft:"0.5rem",fontFamily:"Poppins, sans-serif"},children:"(Required)"})]},pt)),k.jsx("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:k.jsx("button",{onClick:()=>D&&F(!1),disabled:!D,style:{backgroundColor:D?"#007AFF":"#333333",color:"white",border:"none",padding:"1.25rem 2rem",borderRadius:"12px",cursor:D?"pointer":"not-allowed",fontSize:"1.1rem",fontWeight:"600",transition:"all 0.2s",width:"100%",minHeight:"56px",opacity:D?1:.5,fontFamily:"Poppins, sans-serif",touchAction:"manipulation"},onMouseOver:R=>{D&&(R.target.style.backgroundColor="#0056CC")},onMouseOut:R=>{D&&(R.target.style.backgroundColor="#007AFF")},children:D?"Agree":"Please agree to all items"})})]})})]})},US=B.forwardRef(({className:e="",size:t="default",children:n,...r},a)=>{const l=B.useMemo(()=>({default:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs",lg:"px-6 py-3 text-base"}),[]),c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d=B.useMemo(()=>`${c} ${l[t]||l.default} ${e}`,[c,l,t,e]);return k.jsx("button",{className:d,ref:a,...r,children:n})});US.displayName="Button";const BS=B.createContext({});function e4(e){const t=B.useRef(null);return t.current===null&&(t.current=e()),t.current}const Hy=typeof window<"u",n4=Hy?B.useLayoutEffect:B.useEffect,qy=B.createContext(null);function Gy(e,t){e.indexOf(t)===-1&&e.push(t)}function Ky(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const br=(e,t,n)=>n>t?t:n<e?e:n;let Yy=()=>{};const Ar={},jS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function zS(e){return typeof e=="object"&&e!==null}const FS=e=>/^0[^.\s]+$/u.test(e);function $y(e){let t;return()=>(t===void 0&&(t=e()),t)}const Kn=e=>e,i4=(e,t)=>n=>t(e(n)),ac=(...e)=>e.reduce(i4),Hu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Qy{constructor(){this.subscriptions=[]}add(t){return Gy(this.subscriptions,t),()=>Ky(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ii=e=>e*1e3,Di=e=>e/1e3;function HS(e,t){return t?e*(1e3/t):0}const qS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,r4=1e-7,s4=12;function a4(e,t,n,r,a){let l,c,d=0;do c=t+(n-t)/2,l=qS(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>r4&&++d<s4);return c}function oc(e,t,n,r){if(e===t&&n===r)return Kn;const a=l=>a4(l,0,1,e,n);return l=>l===0||l===1?l:qS(a(l),t,r)}const GS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,KS=e=>t=>1-e(1-t),YS=oc(.33,1.53,.69,.99),Xy=KS(YS),$S=GS(Xy),QS=e=>(e*=2)<1?.5*Xy(e):.5*(2-Math.pow(2,-10*(e-1))),Wy=e=>1-Math.sin(Math.acos(e)),XS=KS(Wy),WS=GS(Wy),o4=oc(.42,0,1,1),l4=oc(0,0,.58,1),ZS=oc(.42,0,.58,1),u4=e=>Array.isArray(e)&&typeof e[0]!="number",JS=e=>Array.isArray(e)&&typeof e[0]=="number",c4={linear:Kn,easeIn:o4,easeInOut:ZS,easeOut:l4,circIn:Wy,circInOut:WS,circOut:XS,backIn:Xy,backInOut:$S,backOut:YS,anticipate:QS},h4=e=>typeof e=="string",Ib=e=>{if(JS(e)){Yy(e.length===4);const[t,n,r,a]=e;return oc(t,n,r,a)}else if(h4(e))return c4[e];return e},Fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function f4(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,T=!1,b=!1)=>{const V=b&&a?n:r;return T&&c.add(y),V.has(y)||V.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const d4=40;function tR(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Fh.reduce(($,at)=>($[at]=f4(l),$),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:b,render:x,postRender:V}=c,U=()=>{const $=Ar.useManualTiming?a.timestamp:performance.now();n=!1,Ar.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min($-a.timestamp,d4),1)),a.timestamp=$,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),T.process(a),b.process(a),x.process(a),V.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(U))},N=()=>{n=!0,r=!0,a.isProcessing||e(U)};return{schedule:Fh.reduce(($,at)=>{const J=c[at];return $[at]=(ft,D=!1,S=!1)=>(n||N(),J.schedule(ft,D,S)),$},{}),cancel:$=>{for(let at=0;at<Fh.length;at++)c[Fh[at]].cancel($)},state:a,steps:c}}const{schedule:ae,cancel:_s,state:$e,steps:Cp}=tR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0);let sf;function m4(){sf=void 0}const yn={now:()=>(sf===void 0&&yn.set($e.isProcessing||Ar.useManualTiming?$e.timestamp:performance.now()),sf),set:e=>{sf=e,queueMicrotask(m4)}},eR=e=>t=>typeof t=="string"&&t.startsWith(e),Zy=eR("--"),p4=eR("var(--"),Jy=e=>p4(e)?g4.test(e.split("/*")[0].trim()):!1,g4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qu={...tl,transform:e=>br(0,1,e)},Hh={...tl,default:1},xu=e=>Math.round(e*1e5)/1e5,tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y4(e){return e==null}const v4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ev=(e,t)=>n=>!!(typeof n=="string"&&v4.test(n)&&n.startsWith(e)||t&&!y4(n)&&Object.prototype.hasOwnProperty.call(n,t)),nR=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,d]=r.match(tv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},_4=e=>br(0,255,e),Ip={...tl,transform:e=>Math.round(_4(e))},ca={test:ev("rgb","red"),parse:nR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ip.transform(e)+", "+Ip.transform(t)+", "+Ip.transform(n)+", "+xu(qu.transform(r))+")"};function T4(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const gg={test:ev("#"),parse:T4,transform:ca.transform},lc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),es=lc("deg"),Mi=lc("%"),St=lc("px"),E4=lc("vh"),b4=lc("vw"),Db={...Mi,parse:e=>Mi.parse(e)/100,transform:e=>Mi.transform(e*100)},Ao={test:ev("hsl","hue"),parse:nR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Mi.transform(xu(t))+", "+Mi.transform(xu(n))+", "+xu(qu.transform(r))+")"},Re={test:e=>ca.test(e)||gg.test(e)||Ao.test(e),parse:e=>ca.test(e)?ca.parse(e):Ao.test(e)?Ao.parse(e):gg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ca.transform(e):Ao.transform(e),getAnimatableNone:e=>{const t=Re.parse(e);return t.alpha=0,Re.transform(t)}},A4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w4(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(tv))==null?void 0:t.length)||0)+(((n=e.match(A4))==null?void 0:n.length)||0)>0}const iR="number",rR="color",S4="var",R4="var(",Mb="${}",x4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(x4,m=>(Re.test(m)?(r.color.push(l),a.push(rR),n.push(Re.parse(m))):m.startsWith(R4)?(r.var.push(l),a.push(S4),n.push(m)):(r.number.push(l),a.push(iR),n.push(parseFloat(m))),++l,Mb)).split(Mb);return{values:n,split:d,indexes:r,types:a}}function sR(e){return Gu(e).values}function aR(e){const{split:t,types:n}=Gu(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===iR?l+=xu(a[c]):d===rR?l+=Re.transform(a[c]):l+=a[c]}return l}}const C4=e=>typeof e=="number"?0:Re.test(e)?Re.getAnimatableNone(e):e;function I4(e){const t=sR(e);return aR(e)(t.map(C4))}const Ts={test:w4,parse:sR,createTransformer:aR,getAnimatableNone:I4};function Dp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function D4({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Dp(m,d,e+1/3),l=Dp(m,d,e),c=Dp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Df(e,t){return n=>n>0?t:e}const le=(e,t,n)=>e+(t-e)*n,Mp=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},M4=[gg,ca,Ao],V4=e=>M4.find(t=>t.test(e));function Vb(e){const t=V4(e);if(!t)return!1;let n=t.parse(e);return t===Ao&&(n=D4(n)),n}const Nb=(e,t)=>{const n=Vb(e),r=Vb(t);if(!n||!r)return Df(e,t);const a={...n};return l=>(a.red=Mp(n.red,r.red,l),a.green=Mp(n.green,r.green,l),a.blue=Mp(n.blue,r.blue,l),a.alpha=le(n.alpha,r.alpha,l),ca.transform(a))},yg=new Set(["none","hidden"]);function N4(e,t){return yg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function O4(e,t){return n=>le(e,t,n)}function nv(e){return typeof e=="number"?O4:typeof e=="string"?Jy(e)?Df:Re.test(e)?Nb:L4:Array.isArray(e)?oR:typeof e=="object"?Re.test(e)?Nb:P4:Df}function oR(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>nv(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function P4(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=nv(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function k4(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],d=e.values[c]??0;n[a]=d,r[l]++}return n}const L4=(e,t)=>{const n=Ts.createTransformer(t),r=Gu(e),a=Gu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?yg.has(e)&&!a.values.length||yg.has(t)&&!r.values.length?N4(e,t):ac(oR(k4(r,a),a.values),n):Df(e,t)};function lR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):nv(e)(e,t)}const U4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ae.update(t,n),stop:()=>_s(t),now:()=>$e.isProcessing?$e.timestamp:yn.now()}},uR=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Mf=2e4;function iv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Mf;)t+=n,r=e.next(t);return t>=Mf?1/0:t}function B4(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(iv(r),Mf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Di(a)}}const j4=5;function cR(e,t,n){const r=Math.max(t-j4,0);return HS(n-e(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ob=.001;function z4({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:r=me.mass}){let a,l,c=1-t;c=br(me.minDamping,me.maxDamping,c),e=br(me.minDuration,me.maxDuration,Di(e)),c<1?(a=p=>{const y=p*c,T=y*e,b=y-n,x=vg(p,c),V=Math.exp(-T);return Ob-b/x*V},l=p=>{const T=p*c*e,b=T*n+n,x=Math.pow(c,2)*Math.pow(p,2)*e,V=Math.exp(-T),U=vg(Math.pow(p,2),c);return(-a(p)+Ob>0?-1:1)*((b-x)*V)/U}):(a=p=>{const y=Math.exp(-p*e),T=(p-n)*e+1;return-.001+y*T},l=p=>{const y=Math.exp(-p*e),T=(n-p)*(e*e);return y*T});const d=5/e,m=H4(a,l,d);if(e=Ii(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const F4=12;function H4(e,t,n){let r=n;for(let a=1;a<F4;a++)r=r-e(r)/t(r);return r}function vg(e,t){return e*Math.sqrt(1-t*t)}const q4=["duration","bounce"],G4=["stiffness","damping","mass"];function Pb(e,t){return t.some(n=>e[n]!==void 0)}function K4(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!Pb(e,G4)&&Pb(e,q4))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*br(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=z4(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Vf(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:b,isResolvedFromDuration:x}=K4({...n,velocity:-Di(n.velocity||0)}),V=b||0,U=p/(2*Math.sqrt(m*y)),N=c-l,F=Di(Math.sqrt(m/y)),K=Math.abs(N)<5;r||(r=K?me.restSpeed.granular:me.restSpeed.default),a||(a=K?me.restDelta.granular:me.restDelta.default);let $;if(U<1){const J=vg(F,U);$=ft=>{const D=Math.exp(-U*F*ft);return c-D*((V+U*F*N)/J*Math.sin(J*ft)+N*Math.cos(J*ft))}}else if(U===1)$=J=>c-Math.exp(-F*J)*(N+(V+F*N)*J);else{const J=F*Math.sqrt(U*U-1);$=ft=>{const D=Math.exp(-U*F*ft),S=Math.min(J*ft,300);return c-D*((V+U*F*N)*Math.sinh(S)+J*N*Math.cosh(S))/J}}const at={calculatedDuration:x&&T||null,next:J=>{const ft=$(J);if(x)d.done=J>=T;else{let D=J===0?V:0;U<1&&(D=J===0?Ii(V):cR($,J,ft));const S=Math.abs(D)<=r,C=Math.abs(c-ft)<=a;d.done=S&&C}return d.value=d.done?c:ft,d},toString:()=>{const J=Math.min(iv(at),Mf),ft=uR(D=>at.next(J*D).value,J,30);return J+"ms "+ft},toTransition:()=>{}};return at}Vf.applyToOptions=e=>{const t=B4(e,100,Vf);return e.ease=t.ease,e.duration=Ii(t.duration),e.type="keyframes",e};function _g({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const T=e[0],b={done:!1,value:T},x=S=>d!==void 0&&S<d||m!==void 0&&S>m,V=S=>d===void 0?m:m===void 0||Math.abs(d-S)<Math.abs(m-S)?d:m;let U=n*t;const N=T+U,F=c===void 0?N:c(N);F!==N&&(U=F-T);const K=S=>-U*Math.exp(-S/r),$=S=>F+K(S),at=S=>{const C=K(S),O=$(S);b.done=Math.abs(C)<=p,b.value=b.done?F:O};let J,ft;const D=S=>{x(b.value)&&(J=S,ft=Vf({keyframes:[b.value,V(b.value)],velocity:cR($,S,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return D(0),{calculatedDuration:null,next:S=>{let C=!1;return!ft&&J===void 0&&(C=!0,at(S),D(S)),J!==void 0&&S>=J?ft.next(S-J):(!C&&at(S),b)}}}function Y4(e,t,n){const r=[],a=n||Ar.mix||lR,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Kn:t;d=ac(m,d)}r.push(d)}return r}function $4(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(Yy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=Y4(t,r,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let T=0;if(m>1)for(;T<e.length-2&&!(y<e[T+1]);T++);const b=Hu(e[T],e[T+1],y);return d[T](b)};return n?y=>p(br(e[0],e[l-1],y)):p}function Q4(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Hu(0,t,r);e.push(le(n,1,a))}}function X4(e){const t=[0];return Q4(t,e.length-1),t}function W4(e,t){return e.map(n=>n*t)}function Z4(e,t){return e.map(()=>t||ZS).splice(0,e.length-1)}function Cu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=u4(r)?r.map(Ib):Ib(r),l={done:!1,value:t[0]},c=W4(n&&n.length===t.length?n:X4(t),e),d=$4(c,t,{ease:Array.isArray(a)?a:Z4(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const J4=e=>e!==null;function rv(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(J4),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||r===void 0?l[d]:r}const t3={decay:_g,inertia:_g,tween:Cu,keyframes:Cu,spring:Vf};function hR(e){typeof e.type=="string"&&(e.type=t3[e.type])}class sv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const e3=e=>e/100;class av extends sv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hR(t);const{type:n=Cu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Cu;m!==Cu&&typeof d[0]!="number"&&(this.mixKeyframes=ac(e3,lR(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=iv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:b,repeatDelay:x,type:V,onUpdate:U,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,at=r;if(T){const S=Math.min(this.currentTime,a)/d;let C=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&C--,C=Math.min(C,T+1),!!(C%2)&&(b==="reverse"?(O=1-O,x&&(O-=x/d)):b==="mirror"&&(at=c)),$=br(0,1,O)*d}const J=K?{done:!1,value:y[0]}:at.next($);l&&(J.value=l(J.value));let{done:ft}=J;!K&&m!==null&&(ft=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ft);return D&&V!==_g&&(J.value=rv(y,this.options,N,this.speed)),U&&U(J.value),D&&this.finish(),J}then(t,n){return this.finished.then(t,n)}get duration(){return Di(this.calculatedDuration)}get time(){return Di(this.currentTime)}set time(t){var n;t=Ii(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Di(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=U4,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function n3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ha=e=>e*180/Math.PI,Tg=e=>{const t=ha(Math.atan2(e[1],e[0]));return Eg(t)},i3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Tg,rotateZ:Tg,skewX:e=>ha(Math.atan(e[1])),skewY:e=>ha(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Eg=e=>(e=e%360,e<0&&(e+=360),e),kb=Tg,Lb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ub=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),r3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Lb,scaleY:Ub,scale:e=>(Lb(e)+Ub(e))/2,rotateX:e=>Eg(ha(Math.atan2(e[6],e[5]))),rotateY:e=>Eg(ha(Math.atan2(-e[2],e[0]))),rotateZ:kb,rotate:kb,skewX:e=>ha(Math.atan(e[4])),skewY:e=>ha(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function bg(e){return e.includes("scale")?1:0}function Ag(e,t){if(!e||e==="none")return bg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=r3,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=i3,a=d}if(!a)return bg(t);const l=r[t],c=a[1].split(",").map(a3);return typeof l=="function"?l(c):c[l]}const s3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ag(n,t)};function a3(e){return parseFloat(e.trim())}const el=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nl=new Set(el),Bb=e=>e===tl||e===St,o3=new Set(["x","y","z"]),l3=el.filter(e=>!o3.has(e));function u3(e){const t=[];return l3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const da={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ag(t,"x"),y:(e,{transform:t})=>Ag(t,"y")};da.translateX=da.x;da.translateY=da.y;const ma=new Set;let wg=!1,Sg=!1,Rg=!1;function fR(){if(Sg){const e=Array.from(ma).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=u3(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var d;(d=r.getValue(l))==null||d.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sg=!1,wg=!1,ma.forEach(e=>e.complete(Rg)),ma.clear()}function dR(){ma.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sg=!0)})}function c3(){Rg=!0,dR(),fR(),Rg=!1}class ov{constructor(t,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ma.add(this),wg||(wg=!0,ae.read(dR),ae.resolveKeyframes(fR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}n3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ma.delete(this)}cancel(){this.state==="scheduled"&&(ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const h3=e=>e.startsWith("--");function f3(e,t,n){h3(t)?e.style.setProperty(t,n):e.style[t]=n}const d3=$y(()=>window.ScrollTimeline!==void 0),m3={};function p3(e,t){const n=$y(e);return()=>m3[t]??n()}const mR=p3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_u=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,jb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_u([0,.65,.55,1]),circOut:_u([.55,0,1,.45]),backIn:_u([.31,.01,.66,-.59]),backOut:_u([.33,1.53,.69,.99])};function pR(e,t){if(e)return typeof e=="function"?mR()?uR(e,t):"ease-out":JS(e)?_u(e):Array.isArray(e)?e.map(n=>pR(n,t)||jb.easeOut):jb[e]}function g3(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const T=pR(d,a);Array.isArray(T)&&(y.easing=T);const b={delay:r,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(y,b)}function gR(e){return typeof e=="function"&&"applyToOptions"in e}function y3({type:e,...t}){return gR(e)&&mR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class v3 extends sv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Yy(typeof t.type!="string");const p=y3(t);this.animation=g3(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=rv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):f3(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Di(Number(t))}get time(){return Di(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ii(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&d3()?(this.animation.timeline=t,Kn):n(this)}}const yR={anticipate:QS,backInOut:$S,circInOut:WS};function _3(e){return e in yR}function T3(e){typeof e.ease=="string"&&_3(e.ease)&&(e.ease=yR[e.ease])}const zb=10;class E3 extends v3{constructor(t){T3(t),hR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new av({...c,autoplay:!1}),m=Ii(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-zb).value,d.sample(m).value,zb),d.stop()}}const Fb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ts.test(e)||e==="0")&&!e.startsWith("url("));function b3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function A3(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Fb(a,t),d=Fb(l,t);return!c||!d?!1:b3(e)||(n==="spring"||gR(n))&&r}function xg(e){e.duration=0,e.type}const w3=new Set(["opacity","clipPath","filter","transform"]),S3=$y(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function R3(e){var y;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return S3()&&n&&w3.has(n)&&(n!=="transform"||!p)&&!m&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const x3=40;class C3 extends sv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,...T}){var V;super(),this.stop=()=>{var U,N;this._animation&&(this._animation.stop(),(U=this.stopTimeline)==null||U.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=yn.now();const b={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...T},x=(y==null?void 0:y.KeyframeResolver)||ov;this.keyframeResolver=new x(d,(U,N,F)=>this.onKeyframesResolved(U,N,b,!F),m,p,y),(V=this.keyframeResolver)==null||V.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=yn.now(),A3(t,l,c,d)||((Ar.instantAnimations||!m)&&(y==null||y(rv(t,r,n))),t[0]=t[t.length-1],xg(r),r.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>x3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!p&&R3(b)?new E3({...b,element:b.motionValue.owner.current}):new av(b);x.finished.then(()=>this.notifyFinished()).catch(Kn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),c3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const I3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function D3(e){const t=I3.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function vR(e,t,n=1){const[r,a]=D3(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return jS(c)?parseFloat(c):c}return Jy(a)?vR(a,t,n+1):a}function lv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const _R=new Set(["width","height","top","left","right","bottom",...el]),M3={test:e=>e==="auto",parse:e=>e},TR=e=>t=>t.test(e),ER=[tl,St,Mi,es,b4,E4,M3],Hb=e=>ER.find(TR(e));function V3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||FS(e):!0}const N3=new Set(["brightness","contrast","saturate","opacity"]);function O3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(tv)||[];if(!r)return e;const a=n.replace(r,"");let l=N3.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const P3=/\b([a-z-]*)\(.*?\)/gu,Cg={...Ts,getAnimatableNone:e=>{const t=e.match(P3);return t?t.map(O3).join(" "):e}},qb={...tl,transform:Math.round},k3={rotate:es,rotateX:es,rotateY:es,rotateZ:es,scale:Hh,scaleX:Hh,scaleY:Hh,scaleZ:Hh,skew:es,skewX:es,skewY:es,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:qu,originX:Db,originY:Db,originZ:St},uv={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...k3,zIndex:qb,fillOpacity:qu,strokeOpacity:qu,numOctaves:qb},L3={...uv,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:Cg,WebkitFilter:Cg},bR=e=>L3[e];function AR(e,t){let n=bR(e);return n!==Cg&&(n=Ts),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const U3=new Set(["auto","none","0"]);function B3(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!U3.has(l)&&Gu(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=AR(n,a)}class j3 extends ov{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Jy(p))){const y=vR(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!_R.has(r)||t.length!==2)return;const[a,l]=t,c=Hb(a),d=Hb(l);if(c!==d)if(Bb(c)&&Bb(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else da[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||V3(t[a]))&&r.push(a);r.length&&B3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=da[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=da[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function z3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const wR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function F3(e){return zS(e)&&"offsetHeight"in e}const Gb=30,H3=e=>!isNaN(parseFloat(e));class q3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const a=yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=H3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Qy);const r=this.events[t].add(n);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gb);return HS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fo(e,t){return new q3(e,t)}const{schedule:cv}=tR(queueMicrotask,!1),Jn={x:!1,y:!1};function SR(){return Jn.x||Jn.y}function G3(e){return e==="x"||e==="y"?Jn[e]?null:(Jn[e]=!0,()=>{Jn[e]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function RR(e,t){const n=z3(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function Kb(e){return!(e.pointerType==="touch"||SR())}function K3(e,t,n={}){const[r,a,l]=RR(e,n),c=d=>{if(!Kb(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const y=T=>{Kb(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const xR=(e,t)=>t?e===t?!0:xR(e,t.parentElement):!1,hv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Y3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $3(e){return Y3.has(e.tagName)||e.tabIndex!==-1}const af=new WeakSet;function Yb(e){return t=>{t.key==="Enter"&&e(t)}}function Vp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Q3=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Yb(()=>{if(af.has(n))return;Vp(n,"down");const a=Yb(()=>{Vp(n,"up")}),l=()=>Vp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function $b(e){return hv(e)&&!SR()}function X3(e,t,n={}){const[r,a,l]=RR(e,n),c=d=>{const m=d.currentTarget;if(!$b(d))return;af.add(m);const p=t(m,d),y=(x,V)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",b),af.has(m)&&af.delete(m),$b(x)&&typeof p=="function"&&p(x,{success:V})},T=x=>{y(x,m===window||m===document||n.useGlobalTarget||xR(m,x.target))},b=x=>{y(x,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",b,a)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),F3(d)&&(d.addEventListener("focus",p=>Q3(p,a)),!$3(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function CR(e){return zS(e)&&"ownerSVGElement"in e}function W3(e){return CR(e)&&e.tagName==="svg"}const sn=e=>!!(e&&e.getVelocity),Z3=[...ER,Re,Ts],J3=e=>Z3.find(TR(e)),IR=B.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function t6(e=!0){const t=B.useContext(qy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=B.useId();B.useEffect(()=>{if(e)return a(l)},[e]);const c=B.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const DR=B.createContext({strict:!1}),Qb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ho={};for(const e in Qb)Ho[e]={isEnabled:t=>Qb[e].some(n=>!!t[n])};function e6(e){for(const t in e)Ho[t]={...Ho[t],...e[t]}}const n6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||n6.has(e)}let MR=e=>!Nf(e);function i6(e){typeof e=="function"&&(MR=t=>t.startsWith("on")?!Nf(t):e(t))}try{i6(require("@emotion/is-prop-valid").default)}catch{}function r6(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(MR(a)||n===!0&&Nf(a)||!t&&!Nf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const nd=B.createContext({});function id(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ku(e){return typeof e=="string"||Array.isArray(e)}const fv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dv=["initial",...fv];function rd(e){return id(e.animate)||dv.some(t=>Ku(e[t]))}function VR(e){return!!(rd(e)||e.variants)}function s6(e,t){if(rd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ku(n)?n:void 0,animate:Ku(r)?r:void 0}}return e.inherit!==!1?t:{}}function a6(e){const{initial:t,animate:n}=s6(e,B.useContext(nd));return B.useMemo(()=>({initial:t,animate:n}),[Xb(t),Xb(n)])}function Xb(e){return Array.isArray(e)?e.join(" "):e}const Yu={};function o6(e){for(const t in e)Yu[t]=e[t],Zy(t)&&(Yu[t].isCSSVariable=!0)}function NR(e,{layout:t,layoutId:n}){return nl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Yu[e]||e==="opacity")}const l6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},u6=el.length;function c6(e,t,n){let r="",a=!0;for(let l=0;l<u6;l++){const c=el[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=wR(d,uv[c]);if(!m){a=!1;const y=l6[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function mv(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(nl.has(m)){c=!0;continue}else if(Zy(m)){a[m]=p;continue}else{const y=wR(p,uv[m]);m.startsWith("origin")?(d=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=c6(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const pv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OR(e,t,n){for(const r in t)!sn(t[r])&&!NR(r,n)&&(e[r]=t[r])}function h6({transformTemplate:e},t){return B.useMemo(()=>{const n=pv();return mv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function f6(e,t){const n=e.style||{},r={};return OR(r,n,e),Object.assign(r,h6(e,t)),r}function d6(e,t){const n={},r=f6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const m6={offset:"stroke-dashoffset",array:"stroke-dasharray"},p6={offset:"strokeDashoffset",array:"strokeDasharray"};function g6(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?m6:p6;e[l.offset]=St.transform(-r);const c=St.transform(t),d=St.transform(n);e[l.array]=`${c} ${d}`}function PR(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(mv(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:b}=e;T.transform&&(b.transform=T.transform,delete T.transform),(b.transform||T.transformOrigin)&&(b.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),b.transform&&(b.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),r!==void 0&&(T.scale=r),a!==void 0&&g6(T,a,l,c,!1)}const kR=()=>({...pv(),attrs:{}}),LR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function y6(e,t,n,r){const a=B.useMemo(()=>{const l=kR();return PR(l,t,LR(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};OR(l,e.style,e),a.style={...l,...a.style}}return a}const v6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gv(e){return typeof e!="string"||e.includes("-")?!1:!!(v6.indexOf(e)>-1||/[A-Z]/u.test(e))}function _6(e,t,n,{latestValues:r},a,l=!1){const d=(gv(e)?y6:d6)(t,r,a,e),m=r6(t,typeof e=="string",l),p=e!==B.Fragment?{...m,...d,ref:n}:{},{children:y}=t,T=B.useMemo(()=>sn(y)?y.get():y,[y]);return B.createElement(e,{...p,children:T})}function Wb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function yv(e,t,n,r){if(typeof t=="function"){const[a,l]=Wb(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=Wb(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function of(e){return sn(e)?e.get():e}function T6({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:E6(n,r,a,e),renderState:t()}}function E6(e,t,n,r){const a={},l=r(e,{});for(const b in l)a[b]=of(l[b]);let{initial:c,animate:d}=e;const m=rd(e),p=VR(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!id(T)){const b=Array.isArray(T)?T:[T];for(let x=0;x<b.length;x++){const V=yv(e,b[x]);if(V){const{transitionEnd:U,transition:N,...F}=V;for(const K in F){let $=F[K];if(Array.isArray($)){const at=y?$.length-1:0;$=$[at]}$!==null&&(a[K]=$)}for(const K in U)a[K]=U[K]}}}return a}const UR=e=>(t,n)=>{const r=B.useContext(nd),a=B.useContext(qy),l=()=>T6(e,t,r,a);return n?l():e4(l)};function vv(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(sn(r[c])||t.style&&sn(t.style[c])||NR(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const b6=UR({scrapeMotionValuesFromProps:vv,createRenderState:pv});function BR(e,t,n){const r=vv(e,t,n);for(const a in e)if(sn(e[a])||sn(t[a])){const l=el.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const A6=UR({scrapeMotionValuesFromProps:BR,createRenderState:kR}),w6=Symbol.for("motionComponentSymbol");function wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function S6(e,t,n){return B.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):wo(n)&&(n.current=r))},[t])}const _v=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R6="framerAppearId",jR="data-"+_v(R6),zR=B.createContext({});function x6(e,t,n,r,a){var U,N;const{visualElement:l}=B.useContext(nd),c=B.useContext(DR),d=B.useContext(qy),m=B.useContext(IR).reducedMotion,p=B.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=B.useContext(zR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&C6(p.current,n,a,T);const b=B.useRef(!1);B.useInsertionEffect(()=>{y&&b.current&&y.update(n,d)});const x=n[jR],V=B.useRef(!!x&&!((U=window.MotionHandoffIsComplete)!=null&&U.call(window,x))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,x)));return n4(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),B.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,x)}),V.current=!1),y.enteringChildren=void 0)}),y}function C6(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:FR(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&wo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function FR(e){if(e)return e.options.allowProjection!==!1?e.projection:FR(e.parent)}function Np(e,{forwardMotionProps:t=!1}={},n,r){n&&e6(n);const a=gv(e)?A6:b6;function l(d,m){let p;const y={...B.useContext(IR),...d,layoutId:I6(d)},{isStatic:T}=y,b=a6(d),x=a(d,T);if(!T&&Hy){D6();const V=M6(y);p=V.MeasureLayout,b.visualElement=x6(e,x,y,r,V.ProjectionNode)}return k.jsxs(nd.Provider,{value:b,children:[p&&b.visualElement?k.jsx(p,{visualElement:b.visualElement,...y}):null,_6(e,d,S6(x,b.visualElement,m),x,T,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=B.forwardRef(l);return c[w6]=e,c}function I6({layoutId:e}){const t=B.useContext(BS).id;return t&&e!==void 0?t+"-"+e:e}function D6(e,t){B.useContext(DR).strict}function M6(e){const{drag:t,layout:n}=Ho;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function V6(e,t){if(typeof Proxy>"u")return Np;const n=new Map,r=(l,c)=>Np(l,c,e,t),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,Np(c,void 0,e,t)),n.get(c))})}function HR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function N6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function O6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Op(e){return e===void 0||e===1}function Ig({scale:e,scaleX:t,scaleY:n}){return!Op(e)||!Op(t)||!Op(n)}function la(e){return Ig(e)||qR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qR(e){return Zb(e.x)||Zb(e.y)}function Zb(e){return e&&e!=="0%"}function Of(e,t,n){const r=e-n,a=t*r;return n+a}function Jb(e,t,n,r,a){return a!==void 0&&(e=Of(e,a,r)),Of(e,n,r)+t}function Dg(e,t=0,n=1,r,a){e.min=Jb(e.min,t,n,r,a),e.max=Jb(e.max,t,n,r,a)}function GR(e,{x:t,y:n}){Dg(e.x,t.translate,t.scale,t.originPoint),Dg(e.y,n.translate,n.scale,n.originPoint)}const tA=.999999999999,eA=1.0000000000001;function P6(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ro(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,GR(e,c)),r&&la(l.latestValues)&&Ro(e,l.latestValues))}t.x<eA&&t.x>tA&&(t.x=1),t.y<eA&&t.y>tA&&(t.y=1)}function So(e,t){e.min=e.min+t,e.max=e.max+t}function nA(e,t,n,r,a=.5){const l=le(e.min,e.max,a);Dg(e,t,n,l,r)}function Ro(e,t){nA(e.x,t.x,t.scaleX,t.scale,t.originX),nA(e.y,t.y,t.scaleY,t.scale,t.originY)}function KR(e,t){return HR(O6(e.getBoundingClientRect(),t))}function k6(e,t,n){const r=KR(e,n),{scroll:a}=t;return a&&(So(r.x,a.offset.x),So(r.y,a.offset.y)),r}const iA=()=>({translate:0,scale:1,origin:0,originPoint:0}),xo=()=>({x:iA(),y:iA()}),rA=()=>({min:0,max:0}),ve=()=>({x:rA(),y:rA()}),Mg={current:null},YR={current:!1};function L6(){if(YR.current=!0,!!Hy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mg.current=e.matches;e.addEventListener("change",t),t()}else Mg.current=!1}const U6=new WeakMap;function B6(e,t,n){for(const r in t){const a=t[r],l=n[r];if(sn(a))e.addValue(r,a);else if(sn(l))e.addValue(r,Fo(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,Fo(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const sA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j6{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ov,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=yn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ae.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=rd(n),this.isVariantNode=VR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in T){const x=T[b];m[b]!==void 0&&sn(x)&&x.set(m[b])}}mount(t){var n;this.current=t,U6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),YR.current||L6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),_s(this.notifyUpdate),_s(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=nl.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ho){const n=Ho[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sA.length;r++){const a=sA[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=B6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Fo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(jS(r)||FS(r))?r=parseFloat(r):!J3(r)&&Ts.test(n)&&(r=AR(t,n)),this.setBaseTarget(t,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=yv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!sn(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Qy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){cv.render(this.render)}}class $R extends j6{constructor(){super(...arguments),this.KeyframeResolver=j3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QR(e,{style:t,vars:n},r,a){const l=e.style;let c;for(c in t)l[c]=t[c];a==null||a.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function z6(e){return window.getComputedStyle(e)}class F6 extends $R{constructor(){super(...arguments),this.type="html",this.renderInstance=QR}readValueFromInstance(t,n){var r;if(nl.has(n))return(r=this.projection)!=null&&r.isProjecting?bg(n):s3(t,n);{const a=z6(t),l=(Zy(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return KR(t,n)}build(t,n,r){mv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return vv(t,n,r)}}const XR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H6(e,t,n,r){QR(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(XR.has(a)?a:_v(a),t.attrs[a])}class q6 extends $R{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(nl.has(n)){const r=bR(n);return r&&r.default||0}return n=XR.has(n)?n:_v(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return BR(t,n,r)}build(t,n,r){PR(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){H6(t,n,r,a)}mount(t){this.isSVGTag=LR(t.tagName),super.mount(t)}}const G6=(e,t)=>gv(e)?new q6(t):new F6(t,{allowProjection:e!==B.Fragment});function Vo(e,t,n){const r=e.getProps();return yv(r,t,n!==void 0?n:r.custom,e)}const Vg=e=>Array.isArray(e);function K6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Fo(n))}function Y6(e){return Vg(e)?e[e.length-1]||0:e}function $6(e,t){const n=Vo(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const d=Y6(l[c]);K6(e,c,d)}}function Q6(e){return!!(sn(e)&&e.add)}function Ng(e,t){const n=e.getValue("willChange");if(Q6(n))return n.add(t);if(!n&&Ar.WillChange){const r=new Ar.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function WR(e){return e.props[jR]}const X6=e=>e!==null;function W6(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(X6),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const Z6={type:"spring",stiffness:500,damping:25,restSpeed:10},J6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tL={type:"keyframes",duration:.8},eL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nL=(e,{keyframes:t})=>t.length>2?tL:nl.has(e)?e.startsWith("scale")?J6(t[1]):Z6:eL;function iL({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Tv=(e,t,n,r={},a,l)=>c=>{const d=lv(r,e)||{},m=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ii(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};iL(d)||Object.assign(y,nL(e,y)),y.duration&&(y.duration=Ii(y.duration)),y.repeatDelay&&(y.repeatDelay=Ii(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(xg(y),y.delay===0&&(T=!0)),(Ar.instantAnimations||Ar.skipAnimations)&&(T=!0,xg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!l&&t.get()!==void 0){const b=W6(y.keyframes,d);if(b!==void 0){ae.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new av(y):new C3(y)};function rL({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ZR(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const T=e.getValue(y,e.latestValues[y]??null),b=d[y];if(b===void 0||p&&rL(p,y))continue;const x={delay:n,...lv(l||{},y)},V=T.get();if(V!==void 0&&!T.isAnimating&&!Array.isArray(b)&&b===V&&!x.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const F=WR(e);if(F){const K=window.MotionHandoffAnimation(F,y,ae);K!==null&&(x.startTime=K,U=!0)}}Ng(e,y),T.start(Tv(y,T,b,e.shouldReduceMotion&&_R.has(y)?{type:!1}:x,e,U));const N=T.animation;N&&m.push(N)}return c&&Promise.all(m).then(()=>{ae.update(()=>{c&&$6(e,c)})}),m}function JR(e,t,n,r=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:d-l*r}function Og(e,t,n={}){var m;const r=Vo(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(ZR(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:T,staggerDirection:b}=a;return sL(e,t,p,y,T,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,y]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function sL(e,t,n=0,r=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Og(m,t,{...c,delay:n+(typeof r=="function"?0:r)+JR(e.variantChildren,m,r,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function aL(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>Og(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=Og(e,t,n);else{const a=typeof t=="function"?Vo(e,t,n.custom):t;r=Promise.all(ZR(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function tx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const oL=dv.length;function ex(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ex(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<oL;n++){const r=dv[n],a=e.props[r];(Ku(a)||a===!1)&&(t[r]=a)}return t}const lL=[...fv].reverse(),uL=fv.length;function cL(e){return t=>Promise.all(t.map(({animation:n,options:r})=>aL(e,n,r)))}function hL(e){let t=cL(e),n=aA(),r=!0;const a=m=>(p,y)=>{var b;const T=Vo(e,y,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(T){const{transition:x,transitionEnd:V,...U}=T;p={...p,...U,...V}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=ex(e.parent)||{},T=[],b=new Set;let x={},V=1/0;for(let N=0;N<uL;N++){const F=lL[N],K=n[F],$=p[F]!==void 0?p[F]:y[F],at=Ku($),J=F===m?K.isActive:null;J===!1&&(V=N);let ft=$===y[F]&&$!==p[F]&&at;if(ft&&r&&e.manuallyAnimateOnMount&&(ft=!1),K.protectedKeys={...x},!K.isActive&&J===null||!$&&!K.prevProp||id($)||typeof $=="boolean")continue;const D=fL(K.prevProp,$);let S=D||F===m&&K.isActive&&!ft&&at||N>V&&at,C=!1;const O=Array.isArray($)?$:[$];let L=O.reduce(a(F),{});J===!1&&(L={});const{prevResolvedValues:j={}}=K,R={...j,...L},pt=tt=>{S=!0,b.has(tt)&&(C=!0,b.delete(tt)),K.needsAnimating[tt]=!0;const lt=e.getValue(tt);lt&&(lt.liveStyle=!1)};for(const tt in R){const lt=L[tt],Ct=j[tt];if(x.hasOwnProperty(tt))continue;let M=!1;Vg(lt)&&Vg(Ct)?M=!tx(lt,Ct):M=lt!==Ct,M?lt!=null?pt(tt):b.add(tt):lt!==void 0&&b.has(tt)?pt(tt):K.protectedKeys[tt]=!0}K.prevProp=$,K.prevResolvedValues=L,K.isActive&&(x={...x,...L}),r&&e.blockInitialAnimation&&(S=!1);const ht=ft&&D;S&&(!ht||C)&&T.push(...O.map(tt=>{const lt={type:F};if(typeof tt=="string"&&r&&!ht&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,M=Vo(Ct,tt);if(Ct.enteringChildren&&M){const{delayChildren:rt}=M.transition||{};lt.delay=JR(Ct.enteringChildren,e,rt)}}return{animation:tt,options:lt}}))}if(b.size){const N={};if(typeof p.initial!="boolean"){const F=Vo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(N.transition=F.transition)}b.forEach(F=>{const K=e.getBaseTarget(F),$=e.getValue(F);$&&($.liveStyle=!0),N[F]=K??null}),T.push({animation:N})}let U=!!T.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(U=!1),r=!1,U?t(T):Promise.resolve()}function d(m,p){var T;if(n[m].isActive===p)return Promise.resolve();(T=e.variantChildren)==null||T.forEach(b=>{var x;return(x=b.animationState)==null?void 0:x.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=aA(),r=!0}}}function fL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tx(t,e):!1}function aa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aA(){return{animate:aa(!0),whileInView:aa(),whileHover:aa(),whileTap:aa(),whileDrag:aa(),whileFocus:aa(),exit:aa()}}class bs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class dL extends bs{constructor(t){super(t),t.animationState||(t.animationState=hL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();id(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let mL=0;class pL extends bs{constructor(){super(...arguments),this.id=mL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gL={animation:{Feature:dL},exit:{Feature:pL}};function $u(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function uc(e){return{point:{x:e.pageX,y:e.pageY}}}const yL=e=>t=>hv(t)&&e(t,uc(t));function Iu(e,t,n,r){return $u(e,t,yL(n),r)}const nx=1e-4,vL=1-nx,_L=1+nx,ix=.01,TL=0-ix,EL=0+ix;function hn(e){return e.max-e.min}function bL(e,t,n){return Math.abs(e-t)<=n}function oA(e,t,n,r=.5){e.origin=r,e.originPoint=le(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=vL&&e.scale<=_L||isNaN(e.scale))&&(e.scale=1),(e.translate>=TL&&e.translate<=EL||isNaN(e.translate))&&(e.translate=0)}function Du(e,t,n,r){oA(e.x,t.x,n.x,r?r.originX:void 0),oA(e.y,t.y,n.y,r?r.originY:void 0)}function lA(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function AL(e,t,n){lA(e.x,t.x,n.x),lA(e.y,t.y,n.y)}function uA(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function Mu(e,t,n){uA(e.x,t.x,n.x),uA(e.y,t.y,n.y)}function qn(e){return[e("x"),e("y")]}const rx=({current:e})=>e?e.ownerDocument.defaultView:null,cA=(e,t)=>Math.abs(e-t);function wL(e,t){const n=cA(e.x,t.x),r=cA(e.y,t.y);return Math.sqrt(n**2+r**2)}class sx{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=kp(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,V=wL(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!V)return;const{point:U}=b,{timestamp:N}=$e;this.history.push({...U,timestamp:N});const{onStart:F,onMove:K}=this.handlers;x||(F&&F(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Pp(x,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:V,onSessionEnd:U,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=kp(b.type==="pointercancel"?this.lastMoveEventInfo:Pp(x,this.transformPagePoint),this.history);this.startEvent&&V&&V(b,F),U&&U(b,F)},!hv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const d=uc(t),m=Pp(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=$e;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(t,kp(m,this.history)),this.removeListeners=ac(Iu(this.contextWindow,"pointermove",this.handlePointerMove),Iu(this.contextWindow,"pointerup",this.handlePointerUp),Iu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_s(this.updatePoint)}}function Pp(e,t){return t?{point:t(e.point)}:e}function hA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kp({point:e},t){return{point:e,delta:hA(e,ax(t)),offset:hA(e,SL(t)),velocity:RL(t,.1)}}function SL(e){return e[0]}function ax(e){return e[e.length-1]}function RL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=ax(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ii(t)));)n--;if(!r)return{x:0,y:0};const l=Di(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function xL(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?le(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?le(n,e,r.max):Math.min(e,n)),e}function fA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function CL(e,{top:t,left:n,bottom:r,right:a}){return{x:fA(e.x,n,a),y:fA(e.y,t,r)}}function dA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function IL(e,t){return{x:dA(e.x,t.x),y:dA(e.y,t.y)}}function DL(e,t){let n=.5;const r=hn(e),a=hn(t);return a>r?n=Hu(t.min,t.max-r,e.min):r>a&&(n=Hu(e.min,e.max-a,t.min)),br(0,1,n)}function ML(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Pg=.35;function VL(e=Pg){return e===!1?e=0:e===!0&&(e=Pg),{x:mA(e,"left","right"),y:mA(e,"top","bottom")}}function mA(e,t,n){return{min:pA(e,t),max:pA(e,n)}}function pA(e,t){return typeof e=="number"?e:e[t]||0}const NL=new WeakMap;class OL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uc(T).point)},c=(T,b)=>{const{drag:x,dragPropagation:V,onDragStart:U}=this.getProps();if(x&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G3(x),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(F=>{let K=this.getAxisMotionValue(F).get()||0;if(Mi.test(K)){const{projection:$}=this.visualElement;if($&&$.layout){const at=$.layout.layoutBox[F];at&&(K=hn(at)*(parseFloat(K)/100))}}this.originPoint[F]=K}),U&&ae.postRender(()=>U(T,b)),Ng(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:V,onDirectionLock:U,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:F}=b;if(V&&this.currentDirection===null){this.currentDirection=PL(F),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),N&&N(T,b)},m=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b,this.stop(T,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>qn(T=>{var b;return this.getAnimationState(T)==="paused"&&((b=this.getAxisMotionValue(T).animation)==null?void 0:b.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new sx(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:rx(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!qh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=xL(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&wo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=CL(r.layoutBox,t):this.constraints=!1,this.elastic=VL(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ML(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!wo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=k6(r,a.root,this.visualElement.getTransformPagePoint());let c=IL(a.layout.layoutBox,l);if(n){const d=n(N6(c));this.hasMutatedConstraints=!!d,d&&(c=HR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=qn(y=>{if(!qh(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,V={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,V)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Ng(this.visualElement,t),r.start(Tv(t,r,0,n,this.visualElement,!1))}stopAnimation(){qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qn(n=>{const{drag:r}=this.getProps();if(!qh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-le(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=DL({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(c=>{if(!qh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(le(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;NL.set(this.visualElement,this);const t=this.visualElement.current,n=Iu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();wo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ae.read(r);const c=$u(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(qn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Pg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function qh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function PL(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class kL extends bs{constructor(t){super(t),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new OL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const gA=e=>(t,n)=>{e&&ae.postRender(()=>e(t,n))};class LL extends bs{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(t){this.session=new sx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:gA(t),onStart:gA(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ae.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Iu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const mu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(St.test(e))e=parseFloat(e);else return e;const n=yA(e,t.target.x),r=yA(e,t.target.y);return`${n}% ${r}%`}},UL={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Ts.parse(e);if(a.length>5)return r;const l=Ts.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=le(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let Lp=!1;class BL extends B.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;o6(jL),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),Lp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,Lp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;Lp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ox(e){const[t,n]=t6(),r=B.useContext(BS);return k.jsx(BL,{...e,layoutGroup:r,switchLayoutGroup:B.useContext(zR),isPresent:t,safeToRemove:n})}const jL={borderRadius:{...mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mu,borderTopRightRadius:mu,borderBottomLeftRadius:mu,borderBottomRightRadius:mu,boxShadow:UL};function zL(e,t,n){const r=sn(e)?e:Fo(e);return r.start(Tv("",r,t,n)),r.animation}const FL=(e,t)=>e.depth-t.depth;class HL{constructor(){this.children=[],this.isDirty=!1}add(t){Gy(this.children,t),this.isDirty=!0}remove(t){Ky(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(FL),this.isDirty=!1,this.children.forEach(t)}}function qL(e,t){const n=yn.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(_s(r),e(l-t))};return ae.setup(r,!0),()=>_s(r)}const lx=["TopLeft","TopRight","BottomLeft","BottomRight"],GL=lx.length,vA=e=>typeof e=="string"?parseFloat(e):e,_A=e=>typeof e=="number"||St.test(e);function KL(e,t,n,r,a,l){a?(e.opacity=le(0,n.opacity??1,YL(r)),e.opacityExit=le(t.opacity??1,0,$L(r))):l&&(e.opacity=le(t.opacity??1,n.opacity??1,r));for(let c=0;c<GL;c++){const d=`border${lx[c]}Radius`;let m=TA(t,d),p=TA(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||_A(m)===_A(p)?(e[d]=Math.max(le(vA(m),vA(p),r),0),(Mi.test(p)||Mi.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,r))}function TA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const YL=ux(0,.5,XS),$L=ux(.5,.95,Kn);function ux(e,t,n){return r=>r<e?0:r>t?1:n(Hu(e,t,r))}function EA(e,t){e.min=t.min,e.max=t.max}function Fn(e,t){EA(e.x,t.x),EA(e.y,t.y)}function bA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function AA(e,t,n,r,a){return e-=t,e=Of(e,1/n,r),a!==void 0&&(e=Of(e,1/a,r)),e}function QL(e,t=0,n=1,r=.5,a,l=e,c=e){if(Mi.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=le(l.min,l.max,r);e===l&&(d-=t),e.min=AA(e.min,t,n,d,a),e.max=AA(e.max,t,n,d,a)}function wA(e,t,[n,r,a],l,c){QL(e,t[n],t[r],t[a],t.scale,l,c)}const XL=["x","scaleX","originX"],WL=["y","scaleY","originY"];function SA(e,t,n,r){wA(e.x,t,XL,n?n.x:void 0,r?r.x:void 0),wA(e.y,t,WL,n?n.y:void 0,r?r.y:void 0)}function RA(e){return e.translate===0&&e.scale===1}function cx(e){return RA(e.x)&&RA(e.y)}function xA(e,t){return e.min===t.min&&e.max===t.max}function ZL(e,t){return xA(e.x,t.x)&&xA(e.y,t.y)}function CA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function hx(e,t){return CA(e.x,t.x)&&CA(e.y,t.y)}function IA(e){return hn(e.x)/hn(e.y)}function DA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class JL{constructor(){this.members=[]}add(t){Gy(this.members,t),t.scheduleRender()}remove(t){if(Ky(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tU(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:b,skewX:x,skewY:V}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),T&&(r+=`rotateX(${T}deg) `),b&&(r+=`rotateY(${b}deg) `),x&&(r+=`skewX(${x}deg) `),V&&(r+=`skewY(${V}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const Up=["","X","Y","Z"],eU=1e3;let nU=0;function Bp(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function fx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=WR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&fx(r)}function dx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=nU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sU),this.nodes.forEach(uU),this.nodes.forEach(cU),this.nodes.forEach(aU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new HL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Qy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=CR(c)&&!W3(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,T=0;const b=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{T=window.innerWidth}),e(c,()=>{const x=window.innerWidth;x!==T&&(T=x,this.root.updateBlockedByResize=!0,y&&y(),y=qL(b,250),lf.hasAnimatedSinceResize&&(lf.hasAnimatedSinceResize=!1,this.nodes.forEach(NA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||p.getDefaultTransition()||pU,{onLayoutAnimationStart:U,onLayoutAnimationComplete:N}=p.getProps(),F=!this.targetLayout||!hx(this.targetLayout,x),K=!T&&b;if(this.options.layoutRoot||this.resumeFrom||K||T&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...lv(V,"layout"),onPlay:U,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,K)}else T||NA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_s(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(VA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lU),this.nodes.forEach(iU),this.nodes.forEach(rU)):this.nodes.forEach(VA),this.clearAllSnapshots();const d=yn.now();$e.delta=br(0,1e3/60,d-$e.timestamp),$e.timestamp=d,$e.isProcessing=!0,Cp.update.process($e),Cp.preRender.process($e),Cp.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oU),this.sharedNodes.forEach(fU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!cx(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||la(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),gU(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return ve();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(yU))){const{scroll:y}=this.root;y&&(So(d.x,y.offset.x),So(d.y,y.offset.y))}return d}removeElementScroll(c){var m;const d=ve();if(Fn(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:T,options:b}=y;y!==this.root&&T&&b.layoutScroll&&(T.wasRoot&&Fn(d,c),So(d.x,T.offset.x),So(d.y,T.offset.y))}return d}applyTransform(c,d=!1){const m=ve();Fn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ro(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),la(y.latestValues)&&Ro(m,y.latestValues)}return la(this.latestValues)&&Ro(m,this.latestValues),m}removeTransform(c){const d=ve();Fn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!la(p.latestValues))continue;Ig(p.latestValues)&&p.updateSnapshot();const y=ve(),T=p.measurePageBox();Fn(y,T),SA(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return la(this.latestValues)&&SA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Mu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),GR(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Mu(this.relativeTargetOrigin,this.target,x.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ig(this.parent.latestValues)||qR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var V;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(V=this.parent)!=null&&V.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Fn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;P6(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bA(this.prevProjectionDelta.x,this.projectionDelta.x),bA(this.prevProjectionDelta.y,this.projectionDelta.y)),Du(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!DA(this.projectionDelta.x,this.prevProjectionDelta.x)||!DA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xo(),this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=ve(),x=m?m.source:void 0,V=this.layout?this.layout.source:void 0,U=x!==V,N=this.getStack(),F=!N||N.members.length<=1,K=!!(U&&!F&&this.options.crossfade===!0&&!this.path.some(mU));this.animationProgress=0;let $;this.mixTargetDelta=at=>{const J=at/1e3;OA(T.x,c.x,J),OA(T.y,c.y,J),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dU(this.relativeTarget,this.relativeTargetOrigin,b,J),$&&ZL(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=ve()),Fn($,this.relativeTarget)),U&&(this.animationValues=y,KL(y,p,this.latestValues,J,K,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,m,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(_s(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fo(0)),this.currentAnimation=zL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&mx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ve();const T=hn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const b=hn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Fn(d,m),Ro(d,y),Du(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new JL),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Bp("z",c,p,this.animationValues);for(let y=0;y<Up.length;y++)Bp(`rotate${Up[y]}`,c,p,this.animationValues),Bp(`skew${Up[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=of(d==null?void 0:d.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=of(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!la(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=tU(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:b,y:x}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in Yu){if(y[V]===void 0)continue;const{correct:U,applyTo:N,isCSSVariable:F}=Yu[V],K=T==="none"?y[V]:U(y[V],p);if(N){const $=N.length;for(let at=0;at<$;at++)c[N[at]]=K}else F?this.options.visualElement.renderState.vars[V]=K:c[V]=K}this.options.layoutId&&(c.pointerEvents=p===this?of(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(MA),this.root.sharedNodes.clear()}}}function iU(e){e.updateLayout()}function rU(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?qn(T=>{const b=c?t.measuredBox[T]:t.layoutBox[T],x=hn(b);b.min=r[T].min,b.max=b.min+x}):mx(l,t.layoutBox,r)&&qn(T=>{const b=c?t.measuredBox[T]:t.layoutBox[T],x=hn(r[T]);b.max=b.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[T].max=e.relativeTarget[T].min+x)});const d=xo();Du(d,r,t.layoutBox);const m=xo();c?Du(m,e.applyTransform(a,!0),t.measuredBox):Du(m,r,t.layoutBox);const p=!cx(d);let y=!1;if(!e.resumeFrom){const T=e.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:b,layout:x}=T;if(b&&x){const V=ve();Mu(V,t.layoutBox,b.layoutBox);const U=ve();Mu(U,r,x.layoutBox),hx(V,U)||(y=!0),T.options.layoutRoot&&(e.relativeTarget=U,e.relativeTargetOrigin=V,e.relativeParent=T)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function sU(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oU(e){e.clearSnapshot()}function MA(e){e.clearMeasurements()}function VA(e){e.isLayoutDirty=!1}function lU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uU(e){e.resolveTargetDelta()}function cU(e){e.calcProjection()}function hU(e){e.resetSkewAndRotation()}function fU(e){e.removeLeadSnapshot()}function OA(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function PA(e,t,n,r){e.min=le(t.min,n.min,r),e.max=le(t.max,n.max,r)}function dU(e,t,n,r){PA(e.x,t.x,n.x,r),PA(e.y,t.y,n.y,r)}function mU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pU={duration:.45,ease:[.4,0,.1,1]},kA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),LA=kA("applewebkit/")&&!kA("chrome/")?Math.round:Kn;function UA(e){e.min=LA(e.min),e.max=LA(e.max)}function gU(e){UA(e.x),UA(e.y)}function mx(e,t,n){return e==="position"||e==="preserve-aspect"&&!bL(IA(t),IA(n),.2)}function yU(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const vU=dx({attachResizeListener:(e,t)=>$u(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jp={current:void 0},px=dx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jp.current){const e=new vU({});e.mount(window),e.setOptions({layoutScroll:!0}),jp.current=e}return jp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_U={pan:{Feature:LL},drag:{Feature:kL,ProjectionNode:px,MeasureLayout:ox}};function BA(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ae.postRender(()=>l(t,uc(t)))}class TU extends bs{mount(){const{current:t}=this.node;t&&(this.unmount=K3(t,(n,r)=>(BA(this.node,r,"Start"),a=>BA(this.node,a,"End"))))}unmount(){}}class EU extends bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ac($u(this.node.current,"focus",()=>this.onFocus()),$u(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jA(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ae.postRender(()=>l(t,uc(t)))}class bU extends bs{mount(){const{current:t}=this.node;t&&(this.unmount=X3(t,(n,r)=>(jA(this.node,r,"Start"),(a,{success:l})=>jA(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kg=new WeakMap,zp=new WeakMap,AU=e=>{const t=kg.get(e.target);t&&t(e)},wU=e=>{e.forEach(AU)};function SU({root:e,...t}){const n=e||document;zp.has(n)||zp.set(n,{});const r=zp.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(wU,{root:e,...t})),r[a]}function RU(e,t,n){const r=SU(t);return kg.set(e,n),r.observe(e),()=>{kg.delete(e),r.unobserve(e)}}const xU={some:0,all:1};class CU extends bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:xU[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),b=p?y:T;b&&b(m)};return RU(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(IU(t,n))&&this.startObserver()}unmount(){}}function IU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const DU={inView:{Feature:CU},tap:{Feature:bU},focus:{Feature:EU},hover:{Feature:TU}},MU={layout:{ProjectionNode:px,MeasureLayout:ox}},VU={...gL,...DU,..._U,...MU},xn=V6(VU,G6),NU=({size:e=24})=>k.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",children:[k.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),k.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),k.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),k.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),OU=({size:e=24})=>k.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",children:k.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),PU=({size:e=24})=>k.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor",children:k.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),zA={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},kU={initial:{opacity:0},animate:{opacity:1}},Ye={heading:{fontFamily:"Poppins, sans-serif",fontWeight:700},subheading:{fontFamily:"Poppins, sans-serif",fontWeight:400},button:{fontFamily:"Poppins, sans-serif",fontWeight:600},body:{fontFamily:"Poppins, sans-serif",fontWeight:400},medium:{fontFamily:"Poppins, sans-serif",fontWeight:500}};function LU({onGuestMode:e}){const[t,n]=B.useState(!1),[r,a]=B.useState(1247);B.useEffect(()=>{const d=setInterval(()=>{a(m=>{const p=Math.floor(Math.random()*21)-10;return Math.max(900,Math.min(2e3,m+p))})},2e3+Math.random()*3e3);return()=>clearInterval(d)},[]);const l=B.useCallback(()=>{t||!e||(n(!0),setTimeout(()=>{try{e()}catch(d){console.error("Failed to start guest mode:",d)}finally{n(!1)}},2e3))},[t,e]);B.useCallback(d=>{console.log(`${d} login started`)},[]),B.useMemo(()=>[{name:"Google",icon:k.jsx(NU,{size:20}),bg:"bg-white hover:bg-gray-100 text-black border border-white/20",textColor:"text-black"},{name:"Apple",icon:k.jsx(OU,{size:20}),bg:"bg-black hover:bg-gray-800 text-white border border-gray-600",textColor:"text-white"},{name:"Facebook",icon:k.jsx(PU,{size:20}),bg:"bg-blue-600 hover:bg-blue-700 text-white",textColor:"text-white"}],[]);const c=B.useMemo(()=>["Never share personal information","Report inappropriate behavior","Be respectful to others"],[]);return k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col items-center justify-start py-4 sm:py-8 px-3 sm:px-4",style:Ye.body,children:k.jsxs("div",{className:"w-full max-w-lg text-center",children:[k.jsxs(xn.div,{variants:zA,initial:"initial",animate:"animate",transition:{duration:.6},className:"mb-12",children:[k.jsx("h1",{className:"text-4xl sm:text-6xl mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",style:Ye.heading,children:"Chit Chat"}),k.jsx("p",{className:"text-slate-400 text-base sm:text-lg",style:Ye.subheading,children:"Anonymous random chat with strangers"})]}),k.jsxs(xn.div,{variants:zA,initial:"initial",animate:"animate",transition:{duration:.6,delay:.2},className:"bg-slate-800/50 backdrop-blur-sm rounded-3xl p-4 sm:p-8 shadow-2xl border border-slate-700/50 mb-8",children:[k.jsx("div",{className:"mb-8",children:k.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[k.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse","aria-hidden":"true"}),k.jsx("span",{className:"text-slate-300 text-sm",style:Ye.medium,children:"Completely Anonymous"})]})}),k.jsx(US,{onClick:l,disabled:t||!e,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-2xl py-5 sm:py-6 mb-6 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] text-base sm:text-lg min-h-[56px] touch-manipulation",size:"lg",style:Ye.button,"aria-label":t?"Finding someone to chat":"Start anonymous chat",children:t?k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin","aria-hidden":"true"}),"Finding someone to chat..."]}):"Start Anonymous Chat"}),k.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-700/30 rounded-2xl border border-slate-600/50 mt-4",children:[k.jsxs("div",{className:"text-center",children:[k.jsx(xn.p,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},className:"text-2xl text-white mb-1",style:Ye.button,children:r.toLocaleString()},r),k.jsxs("div",{className:"flex items-center justify-center gap-2",children:[k.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse","aria-hidden":"true"}),k.jsx("p",{className:"text-slate-400 text-xs",style:Ye.body,children:"Online Now"})]})]}),k.jsxs("div",{className:"text-center",children:[k.jsx("p",{className:"text-2xl text-white mb-1",style:Ye.button,children:"24/7"}),k.jsx("p",{className:"text-slate-400 text-xs",style:Ye.body,children:"Available"})]})]})]}),k.jsxs(xn.div,{variants:kU,initial:"initial",animate:"animate",transition:{duration:.6,delay:.4},className:"space-y-6",children:[k.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"mx-auto mb-2 sm:mb-3",children:k.jsx("span",{className:"text-xl sm:text-2xl",children:"🎲"})}),k.jsx("p",{className:"text-slate-300 text-xs sm:text-sm font-medium",style:Ye.medium,children:"Random"})]}),k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"mx-auto mb-2 sm:mb-3",children:k.jsx("span",{className:"text-xl sm:text-2xl",children:"🔒"})}),k.jsx("p",{className:"text-slate-300 text-xs sm:text-sm font-medium",style:Ye.medium,children:"Anonymous"})]}),k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"mx-auto mb-2 sm:mb-3",children:k.jsx("span",{className:"text-xl sm:text-2xl",children:"⚡"})}),k.jsx("p",{className:"text-slate-300 text-xs sm:text-sm font-medium",style:Ye.medium,children:"Instant"})]})]}),k.jsxs("div",{className:"bg-slate-800/30 rounded-2xl p-4 border border-slate-700/50",children:[k.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[k.jsx("span",{className:"text-yellow-400","aria-hidden":"true",children:"⚠️"}),k.jsx("p",{className:"text-slate-300 text-sm",style:Ye.medium,children:"Stay Safe Online"})]}),k.jsx("div",{className:"space-y-1",children:c.map((d,m)=>k.jsxs("p",{className:"text-slate-400 text-xs",style:Ye.body,children:["• ",d]},m))})]}),k.jsxs("div",{className:"flex justify-center gap-4 sm:gap-6 text-sm sm:text-sm text-slate-500 mt-6 sm:mt-8",children:[k.jsx("button",{className:"hover:text-slate-300 transition-colors py-2 px-1 min-h-[44px] touch-manipulation",style:Ye.body,onClick:()=>console.log("Terms of Service clicked"),children:"Terms of Service"}),k.jsx("button",{className:"hover:text-slate-300 transition-colors py-2 px-1 min-h-[44px] touch-manipulation",style:Ye.body,onClick:()=>console.log("Privacy Policy clicked"),children:"Privacy Policy"}),k.jsx("button",{className:"hover:text-slate-300 transition-colors py-2 px-1 min-h-[44px] touch-manipulation",style:Ye.body,onClick:()=>console.log("Report clicked"),children:"Report"})]})]})]})})}const Hn={heading:{fontFamily:"Poppins, sans-serif",fontWeight:700},subheading:{fontFamily:"Poppins, sans-serif",fontWeight:400},button:{fontFamily:"Poppins, sans-serif",fontWeight:600},body:{fontFamily:"Poppins, sans-serif",fontWeight:400},medium:{fontFamily:"Poppins, sans-serif",fontWeight:500}};function UU(){const[e,t]=B.useState({email:"",password:""}),[n,r]=B.useState(!1),[a,l]=B.useState(""),c=Bg(),d=p=>{const{name:y,value:T}=p.target;t(b=>({...b,[y]:T})),a&&l("")},m=async p=>{p.preventDefault(),r(!0),l(""),setTimeout(()=>{e.email==="admin@chitchat.com"&&e.password==="admin123"?(localStorage.setItem("adminAuth","true"),localStorage.setItem("adminEmail",e.email),console.log("Admin login successful"),c("/admin-dashboard")):l("Invalid email or password"),r(!1)},1500)};return k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",style:Hn.body,children:k.jsxs("div",{className:"w-full max-w-md",children:[k.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[k.jsx("div",{className:"mb-4",children:k.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-red-600 to-orange-600 rounded-full flex items-center justify-center",children:k.jsx("span",{className:"text-2xl",children:"🔐"})})}),k.jsx("h1",{className:"text-3xl text-white mb-2",style:Hn.heading,children:"Admin Portal"}),k.jsx("p",{className:"text-gray-400",style:Hn.subheading,children:"Authorized personnel only"})]}),k.jsxs(xn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-8 shadow-2xl border border-gray-700/50",children:[k.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a&&k.jsx(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-900/50 border border-red-600/50 rounded-xl p-3",children:k.jsx("p",{className:"text-red-300 text-sm text-center",style:Hn.body,children:a})}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",style:Hn.medium,children:"Administrator Email"}),k.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:d,placeholder:"admin@chitchat.com",className:"w-full px-4 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 touch-manipulation",style:{...Hn.body,minHeight:"56px",fontSize:"16px"},required:!0})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",style:Hn.medium,children:"Password"}),k.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:d,placeholder:"Enter admin password",className:"w-full px-4 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 touch-manipulation",style:{...Hn.body,minHeight:"56px",fontSize:"16px"},required:!0})]}),k.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-semibold py-4 px-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-800 transform hover:scale-[1.02] transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none touch-manipulation",style:{...Hn.button,minHeight:"56px",fontSize:"1.1rem"},children:n?k.jsxs("div",{className:"flex items-center justify-center gap-2",children:[k.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Authenticating..."]}):"Access Admin Panel"})]}),k.jsxs(xn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"mt-6 pt-6 border-t border-gray-700/50",children:[k.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[k.jsx("span",{className:"text-yellow-400",children:"⚠️"}),k.jsx("p",{className:"text-gray-400 text-xs",style:Hn.medium,children:"Security Notice"})]}),k.jsx("p",{className:"text-gray-500 text-xs text-center leading-relaxed",style:Hn.body,children:"This area is restricted to authorized administrators only. All access attempts are logged and monitored."})]})]}),k.jsx(xn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:"text-center mt-6",children:k.jsx("button",{onClick:()=>c("/"),className:"text-gray-400 hover:text-gray-300 text-base transition-colors duration-200 py-3 px-2 touch-manipulation",style:{...Hn.body,minHeight:"44px"},children:"← Back to Home"})})]})})}const we={heading:{fontFamily:"Poppins, sans-serif",fontWeight:700},subheading:{fontFamily:"Poppins, sans-serif",fontWeight:400},body:{fontFamily:"Poppins, sans-serif",fontWeight:400},medium:{fontFamily:"Poppins, sans-serif",fontWeight:500}};function BU(){const[e,t]=B.useState(""),n=Bg();B.useEffect(()=>{const l=localStorage.getItem("adminAuth"),c=localStorage.getItem("adminEmail");if(!l||l!=="true"){n("/admin-login");return}t(c||"admin@chitchat.com")},[n]);const r=()=>{localStorage.removeItem("adminAuth"),localStorage.removeItem("adminEmail"),console.log("Admin logout"),n("/admin-login")},a=()=>{n("/")};return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",style:we.body,children:[k.jsx("header",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700/50",children:k.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"flex justify-between items-center h-16",children:[k.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[k.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-600 to-orange-600 rounded-lg flex items-center justify-center flex-shrink-0",children:k.jsx("span",{className:"text-sm",children:"🔐"})}),k.jsxs("h1",{className:"text-lg sm:text-xl text-white truncate",style:we.heading,children:[k.jsx("span",{className:"hidden sm:inline",children:"Admin Dashboard"}),k.jsx("span",{className:"sm:hidden",children:"Admin"})]})]}),k.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[k.jsx("span",{className:"text-gray-400 text-sm",style:we.body,children:e}),k.jsx("button",{onClick:a,className:"px-4 py-2.5 text-gray-400 hover:text-white text-sm transition-colors duration-200 touch-manipulation min-h-[44px]",style:we.body,children:"View App"}),k.jsx("button",{onClick:r,className:"px-4 py-2.5 bg-red-600/20 hover:bg-red-600/30 text-red-400 hover:text-red-300 rounded-lg text-sm transition-all duration-200 border border-red-600/30 touch-manipulation min-h-[44px]",style:we.medium,children:"Logout"})]}),k.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[k.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-white transition-colors duration-200 touch-manipulation min-h-[44px] min-w-[44px] flex items-center justify-center",style:we.body,title:"View App",children:k.jsx("span",{className:"text-lg",children:"🏠"})}),k.jsx("button",{onClick:r,className:"px-3 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 hover:text-red-300 rounded-lg text-sm transition-all duration-200 border border-red-600/30 touch-manipulation min-h-[44px]",style:we.medium,children:"Logout"})]})]})})}),k.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsx("div",{className:"md:hidden mb-6 bg-gray-800/30 backdrop-blur-sm rounded-2xl p-4 border border-gray-700/50",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-gray-400 text-xs mb-1",style:we.body,children:"Logged in as"}),k.jsx("p",{className:"text-white text-sm",style:we.medium,children:e})]}),k.jsx("button",{onClick:a,className:"px-3 py-2 bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white rounded-lg text-sm transition-all duration-200 touch-manipulation min-h-[44px]",style:we.body,children:"🏠 View App"})]})}),k.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[k.jsx("h2",{className:"text-2xl sm:text-3xl text-white mb-2",style:we.heading,children:"Welcome to ChitChat Admin"}),k.jsx("p",{className:"text-gray-400",style:we.subheading,children:"Manage your chat application from this central dashboard"})]}),k.jsx(xn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{title:"Active Users",value:"1,247",icon:"👥",change:"+12%"},{title:"Total Messages",value:"45,892",icon:"💬",change:"+8%"},{title:"Active Rooms",value:"324",icon:"🏠",change:"+5%"},{title:"Reports",value:"23",icon:"⚠️",change:"-15%"}].map(l=>k.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/50",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("span",{className:"text-2xl",children:l.icon}),k.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${l.change.startsWith("+")?"bg-green-600/20 text-green-400":"bg-red-600/20 text-red-400"}`,style:we.body,children:l.change})]}),k.jsx("h3",{className:"text-2xl text-white mb-1",style:we.heading,children:l.value}),k.jsx("p",{className:"text-gray-400 text-sm",style:we.body,children:l.title})]},l.title))}),k.jsx(xn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{title:"User Management",description:"View and manage user accounts, permissions, and bans",icon:"👤",action:"Manage Users"},{title:"Chat Moderation",description:"Monitor chat rooms, review reports, and moderate content",icon:"🛡️",action:"Open Moderation"},{title:"System Settings",description:"Configure application settings, features, and policies",icon:"⚙️",action:"Settings"},{title:"Analytics",description:"View detailed analytics and usage statistics",icon:"📊",action:"View Analytics"},{title:"Reports & Logs",description:"Access system logs, error reports, and audit trails",icon:"📋",action:"View Reports"},{title:"Backup & Maintenance",description:"Manage database backups and system maintenance",icon:"🔧",action:"Maintenance"}].map(l=>k.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/50 hover:border-gray-600/50 transition-all duration-200",children:[k.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[k.jsx("span",{className:"text-2xl",children:l.icon}),k.jsx("h3",{className:"text-lg text-white",style:we.heading,children:l.title})]}),k.jsx("p",{className:"text-gray-400 text-sm mb-4 leading-relaxed",style:we.body,children:l.description}),k.jsx("button",{onClick:()=>console.log(`${l.title} clicked`),className:"w-full px-4 py-3 bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white rounded-xl transition-all duration-200 text-sm touch-manipulation min-h-[48px]",style:we.medium,children:l.action})]},l.title))}),k.jsxs(xn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-8 bg-gray-800/30 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/50",children:[k.jsx("h3",{className:"text-xl text-white mb-4",style:we.heading,children:"Quick Actions"}),k.jsx("div",{className:"flex flex-wrap gap-3",children:["Send System Message","Emergency Shutdown","Clear Cache","Export Data","Run Backup"].map(l=>k.jsx("button",{onClick:()=>console.log(`${l} clicked`),className:"px-4 py-2.5 bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white rounded-lg text-sm transition-all duration-200 touch-manipulation min-h-[44px]",style:we.body,children:l},l))})]})]})]})}const FA=["#FF69B4","#1E90FF","#FFD700","#00FA9A","#BA55D3","#FF4500"],jU=()=>k.jsx("div",{className:"flex justify-center items-center h-screen text-white bg-black",children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),k.jsx("p",{children:"Loading..."})]})});function zU(){const[e,t]=B.useState(null),[n,r]=B.useState(!0),a=B.useCallback(()=>FA[Math.floor(Math.random()*FA.length)],[]),l=B.useCallback(()=>{const m={uid:`guest_${Date.now()}_${Math.random().toString(36).slice(2,11)}`,nickname:`Guest${Math.floor(Math.random()*1e3)}`,email:null,isAnonymous:!0,isBlueCheck:!1,color:a(),loginMethod:"guest"};t(m)},[a]),c=B.useCallback(async()=>{try{(e==null?void 0:e.loginMethod)==="guest"||await xb.signOut(),t(null)}catch(m){console.error("Logout error:",m),t(null)}},[e==null?void 0:e.loginMethod]);B.useEffect(()=>{let m;return(async()=>{try{if(!Gk()){console.log("Firebase not configured, enabling guest mode only"),r(!1);return}m=BM(xb,y=>{y&&!y.isAnonymous?t({uid:y.uid,email:y.email,nickname:y.displayName||"User",isAnonymous:!1,isBlueCheck:!1,color:a(),loginMethod:"firebase"}):t(null),r(!1)})}catch(y){console.error("Firebase initialization error:",y),r(!1)}})(),()=>{m&&m()}},[a]);const d=B.useMemo(()=>({backgroundColor:"#000",display:"flex",flexDirection:"column",minHeight:"100vh"}),[]);return n?k.jsx(jU,{}):k.jsx("div",{style:d,children:e?k.jsx(t4,{user:e,onLogout:c}):k.jsx(LU,{onGuestMode:l})})}function FU(){return B.useEffect(()=>{(function(e){if(e.search[1]==="/"){var t=e.search.slice(1).split("&").map(function(n){return n.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,null,e.pathname.slice(0,-1)+t+e.hash)}})(window.location)},[]),k.jsx(l2,{basename:"/ibuddy",children:k.jsxs(BI,{children:[k.jsx(Gh,{path:"/",element:k.jsx(zU,{})}),k.jsx(Gh,{path:"/admin-login",element:k.jsx(UU,{})}),k.jsx(Gh,{path:"/admin-dashboard",element:k.jsx(BU,{})})]})})}QC.createRoot(document.getElementById("root")).render(k.jsx(B.StrictMode,{children:k.jsx(FU,{})}));
